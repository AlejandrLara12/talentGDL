/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 9);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports) {

let allCat;


let colors;
let colorsFiltered;

// allColorsOptions
// colorsAvailabe

let cat;
// let catFiltered = [
//   {
//     model: "1",
//     colors: ['1','2','3'],
//     precios: ['100.00', '150.00', '200.00']
//   },
//   {
//     model: "2",
//     colors: ['1','2'],
//     precios: ['100.00', '150.00']
//   },
//   {
//     model: "3",
//     colors: ['1'],
//     precios: ['100.00']
//   },
//   {
//     model: "4",
//     colors: ['3'],
//     precios: ['150']
//   }
// ];
let catFiltered = [];

let models;
let modelsFiltered = [];

let modelChecked = undefined;
let colorChecked = undefined;

let tallaSelected = undefined;
// allModelsOptions
// modelsAvailabe

module.exports = {
  catFiltered,
  colors,
  colorsFiltered,
  colorChecked,
  models,
  modelsFiltered,
  modelChecked,
  tallaSelected
}

/***/ }),
/* 1 */
/***/ (function(module, exports) {

//  Add smooth transition on changing links
module.exports = {
  smoothScrollTo
};

  $('.nav-item').on('click', function() {
    $('.nav-item').removeClass('active');
    $(this).addClass('active');
  });

 $('a[href^="#_"]').on('click', function(event) {
   //alert('on smooth');
   var target = $( $(this).attr('href') );      
   var dist = target.offset().top - 100;

   if(target.length) {
     event.preventDefault();
     $('html, body').animate({
       scrollTop: dist
     }, 500);
   }
   // $('#menuBtn').addClass('collapse');
   $('#navbarSupportedContent').removeClass('show');
 });

 function smoothScrollTo(element, targetName){
  var target;
  switch (element) {
    case 'section':
      target = $(`section[id^="${targetName}"]`);
      break;
    case 'a':
      target = $(`a[href^="${targetName}"]`);
      break;
  
    default:
      break;
  }
   let dist = target.offset().top - 100;
   let time = (dist + 100.0) / (250.0/150.0);
  //  console.log('######### DIST >' ,dist);
  //  console.log('######### TIME >' ,time);
   if(target.length) {
     event.preventDefault();
     $('html, body').animate({
       scrollTop: dist
     }, time);
   }
 }

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = {
  renderFilteredColors,
  clearCheckedColor,
  resetColors,
  colorTest
};

let swal =  __webpack_require__(4);
let userGlobal = __webpack_require__(0);
let userPreview = __webpack_require__(3);
let scroll = __webpack_require__(1);

  /* color option css */
  $('.color-option').on('click',function(event) {
    event.preventDefault();
    // $('.color-option>.view>.mask>i').removeClass('fa-check');
    clearCheckedColor();
    userGlobal.colorChecked = undefined;

    console.log('global.modelchecked ', userGlobal.modelChecked );
    if(userGlobal.modelChecked){
      $(this).find('i').addClass('fa-check');
      $(this).addClass('color-checked');
      userGlobal.colorChecked = $(this).data();
      userPreview.hidePreviewMsg();
      userPreview.createPreview();
      scroll.smoothScrollTo('section', '_user_preview');
    } else {
      swal({
        title: "Ups",
        text: 'Seleccione un modelo', //res.errorMsg
        icon: "error"
      });
    }
  });

  function clearCheckedColor() {
    // $('.color-option>.view>.mask>i').removeClass('fa-check');
    userGlobal.colorChecked = undefined;
    $('.color-option').find('i').removeClass('fa-check');
    $('.color-option').removeClass('color-checked');
  }


  function renderFilteredColors(modelChecked) { // filtered/available colors for a selected Model

    // modelChecked = $(modelChecked[0]).data();
    // console.log('model-checked.data(): ', modelChecked);
    $('#color-container-message').addClass('d-none');

    // if models exist for certain size
    if( userGlobal.catFiltered ){
      
      for( let j = 0; j < userGlobal.catFiltered.length; j++){
        // console.log(`catFiltered[${j}] ${userGlobal.catFiltered[j].model} == modelChecked.cardModelId ${modelChecked.cardModelId}` );
        if(userGlobal.catFiltered[j].model == modelChecked.cardModelId ){
          userGlobal.colorsFiltered = userGlobal.catFiltered[j].colors;
          break;
        }
        // console.log('global models loop', userGlobal.catFiltered[i]);
      }

      let colorsObj = $('.color-option');
      // console.log( 'colorsObj:', colorsObj);  
      // console.log( 'colorsFiltered:', userGlobal.colorsFiltered);
      // loop through colorsObject
      for( let i = 0; i < colorsObj.length ; i++ ){
        // console.log('colorsObj[i]', colorsObj[i]); console.log('$(color).data()', $(color).data());
        let color = colorsObj[i]; // color option
        let colorData = $(color).data() ; // colorId colorName
        // console.log( `color: ${colorData.colorId} is in ${userGlobal.colorsFiltered}: ${colorData.colorName}`);  

        if( $.inArray( String(colorData.colorId), userGlobal.colorsFiltered) > -1){
          $(color).removeClass('d-none');
        } else {
          // color option is not available for that model
          $(color).addClass('d-none');
        }

      }
      

    } else {
      // userGlobal.modelsFitered does not exist, ask user to select a size and uncheck the model
      swal({
        title: "Ups",
        text: 'Seleccione una talla', // res.errorMsg
        icon: "error"
      });
    }
    
  } //  /renderFilteredColors()

  function resetColors() {
    // description Shows all colors availabe in the DOM
    console.log('resetColors called');
    $('.color-option').removeClass('d-none');
  } //  /resetColors()

  function colorTest() {
    console.log('colorTest called');
  } //  /resetColors()



/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = {
  createPreview,
  hidePreview,
  updateSubtotal,
  showPreviewMsg,
  hidePreviewMsg,
};

let userGlobal = __webpack_require__(0);
let userColors = __webpack_require__(2);
let userCarrito = __webpack_require__(8);
let userModels = __webpack_require__(5);
let scroll = __webpack_require__(1);


$('#user_prev_addPair').click(function() {
  changePairs('add');
});

$('#user_prev_subsPair').click(function() {
  changePairs('sub');
});

$('#user_prev_btnAddCard').click(function() {
  // console.log('userCarrito in preview', userCarrito);
  userCarrito.addItemToCard();
  userModels.clearCheckedModel(); 
  userColors.clearCheckedColor();
  scroll.smoothScrollTo('section','_carrito');

  showPreviewMsg('* Seleccionar un modelo<br>* Seleccionar un color');

});


$('#user_prev_btnCancel').click(function() {
  // console.log('userColors in preview', userColors);
  swal({
    title: "Â¿Deseas cancelar?",
    text: "Se borraran los datos en pantalla",
    icon: "warning",
    buttons: true,
    dangerMode: true,
  })
  .then((willDelete) => {
    if (willDelete) {
      userColors.clearCheckedColor();
      hidePreview();
      showPreviewMsg('* Seleccionar un modelo<br>* Seleccionar un color');
    }
  });
});



function changePairs(op) {
  let pairs = $('#user_prev_pares');
  let pairsCuantity = parseInt(pairs.val());

  
  if(op == 'add'){
    if(pairsCuantity < 10){
      pairs.val( pairsCuantity + 1 );
    }
  } else if ( op == 'sub'){
    if( pairsCuantity > 1){
      pairs.val( pairsCuantity - 1 );
    }
  } else {
    alert('not availabe option [add, sub]');
  }
  
  updateSubtotal();
}



function updateSubtotal() {
  // console.log('price', price); console.log('pairs', pairs);
  let price = $('#user_prev_precio').text();
  price = parseFloat(price);
  let pairs = parseInt($('#user_prev_pares').val());
  $('#user_prev_subtotal').text( parseFloat(price * pairs).toFixed(2) );
}


function createPreview() {
  console.log('creating preview');
  $('#user_prev_pares').val('1'); // resets the cantidad Pares
  let previewTalla = $('#user_talla option:selected').text();
  let previewTallaId = $('#user_talla option:selected').val();
  let previewModel = userGlobal.modelChecked;
  let previewColor = userGlobal.colorChecked;
  let previewPrecio;

  let modelSelected = userGlobal.catFiltered.filter(function(mod) {
    return mod.model == previewModel.cardModelId;
  })[0];

  previewPrecio = modelSelected.precios[modelSelected.colors.indexOf( String(previewColor.colorId) )];
  
  // console.log('catFiltered', userGlobal.catFiltered);
  // console.log('modelSelected', modelSelected);
  // console.log('previewTalla', previewTalla);
  // console.log('previewModel', previewModel);
  // console.log('previewColor', previewColor);
  // console.log('precios index', modelSelected.colors.indexOf( String(previewColor.colorId) ));
  // console.log('previewPrecio', previewPrecio);
  
  // console.log('modelCode', previewModel.cardModelCode);
  // console.log('colorCode', previewColor.colorCode);
  
  $('#user_prev_img').attr('src', 'material/cat_model/' + previewModel.cardModelCode.toLowerCase() + '-' + previewColor.colorCode.toLowerCase() + '.jpg');
  $('#user_prev_model').text(previewModel.cardModelName);
  $('#user_prev_color').text(previewColor.colorName);
  $('#user_prev_talla').text(previewTalla);
  $('#user_prev_precio').text(previewPrecio);
  // $('#user_prev_').text(preview);
  updateSubtotal();

  // $('#user_prev_card').removeClass('d-none');
  renderPreview();
} // .createPreview();

function renderPreview() {
  // $('#user_prev_card').addClass('d-none');
  $('#user_prev_card').removeClass('d-none');
  $('#user_prev_btns').removeClass('d-none');
}

function hidePreview() {
  // $('#user_prev_card').addClass('d-none');
  $('#user_prev_card').addClass('d-none');
  $('#user_prev_btns').addClass('d-none');
  // userColors.clearCheckedColor();
  // userModels.resetModels(); 
}

function showPreviewMsg(msg) {
  $('#preview-container-message').find('p').removeClass('d-none');
  $('#preview-container-message').find('p').html(msg);
}

function hidePreviewMsg() {
  $('#preview-container-message').find('p').addClass('d-none');
  $('#preview-container-message').find('p').text('Message goes here');
}

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(setImmediate, clearImmediate) {!function(t,e){ true?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.swal=e():t.swal=e()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=8)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="swal-button";e.CLASS_NAMES={MODAL:"swal-modal",OVERLAY:"swal-overlay",SHOW_MODAL:"swal-overlay--show-modal",MODAL_TITLE:"swal-title",MODAL_TEXT:"swal-text",ICON:"swal-icon",ICON_CUSTOM:"swal-icon--custom",CONTENT:"swal-content",FOOTER:"swal-footer",BUTTON_CONTAINER:"swal-button-container",BUTTON:o,CONFIRM_BUTTON:o+"--confirm",CANCEL_BUTTON:o+"--cancel",DANGER_BUTTON:o+"--danger",BUTTON_LOADING:o+"--loading",BUTTON_LOADER:o+"__loader"},e.default=e.CLASS_NAMES},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNode=function(t){var e="."+t;return document.querySelector(e)},e.stringToNode=function(t){var e=document.createElement("div");return e.innerHTML=t.trim(),e.firstChild},e.insertAfter=function(t,e){var n=e.nextSibling;e.parentNode.insertBefore(t,n)},e.removeNode=function(t){t.parentElement.removeChild(t)},e.throwErr=function(t){throw t=t.replace(/ +(?= )/g,""),"SweetAlert: "+(t=t.trim())},e.isPlainObject=function(t){if("[object Object]"!==Object.prototype.toString.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype},e.ordinalSuffixOf=function(t){var e=t%10,n=t%100;return 1===e&&11!==n?t+"st":2===e&&12!==n?t+"nd":3===e&&13!==n?t+"rd":t+"th"}},function(t,e,n){"use strict";function o(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),o(n(25));var r=n(26);e.overlayMarkup=r.default,o(n(27)),o(n(28)),o(n(29));var i=n(0),a=i.default.MODAL_TITLE,s=i.default.MODAL_TEXT,c=i.default.ICON,l=i.default.FOOTER;e.iconMarkup='\n  <div class="'+c+'"></div>',e.titleMarkup='\n  <div class="'+a+'"></div>\n',e.textMarkup='\n  <div class="'+s+'"></div>',e.footerMarkup='\n  <div class="'+l+'"></div>\n'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1);e.CONFIRM_KEY="confirm",e.CANCEL_KEY="cancel";var r={visible:!0,text:null,value:null,className:"",closeModal:!0},i=Object.assign({},r,{visible:!1,text:"Cancel",value:null}),a=Object.assign({},r,{text:"OK",value:!0});e.defaultButtonList={cancel:i,confirm:a};var s=function(t){switch(t){case e.CONFIRM_KEY:return a;case e.CANCEL_KEY:return i;default:var n=t.charAt(0).toUpperCase()+t.slice(1);return Object.assign({},r,{text:n,value:t})}},c=function(t,e){var n=s(t);return!0===e?Object.assign({},n,{visible:!0}):"string"==typeof e?Object.assign({},n,{visible:!0,text:e}):o.isPlainObject(e)?Object.assign({visible:!0},n,e):Object.assign({},n,{visible:!1})},l=function(t){for(var e={},n=0,o=Object.keys(t);n<o.length;n++){var r=o[n],a=t[r],s=c(r,a);e[r]=s}return e.cancel||(e.cancel=i),e},u=function(t){var n={};switch(t.length){case 1:n[e.CANCEL_KEY]=Object.assign({},i,{visible:!1});break;case 2:n[e.CANCEL_KEY]=c(e.CANCEL_KEY,t[0]),n[e.CONFIRM_KEY]=c(e.CONFIRM_KEY,t[1]);break;default:o.throwErr("Invalid number of 'buttons' in array ("+t.length+").\n      If you want more than 2 buttons, you need to use an object!")}return n};e.getButtonListOpts=function(t){var n=e.defaultButtonList;return"string"==typeof t?n[e.CONFIRM_KEY]=c(e.CONFIRM_KEY,t):Array.isArray(t)?n=u(t):o.isPlainObject(t)?n=l(t):!0===t?n=u([!0,!0]):!1===t?n=u([!1,!1]):void 0===t&&(n=e.defaultButtonList),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),r=n(2),i=n(0),a=i.default.MODAL,s=i.default.OVERLAY,c=n(30),l=n(31),u=n(32),f=n(33);e.injectElIntoModal=function(t){var e=o.getNode(a),n=o.stringToNode(t);return e.appendChild(n),n};var d=function(t){t.className=a,t.textContent=""},p=function(t,e){d(t);var n=e.className;n&&t.classList.add(n)};e.initModalContent=function(t){var e=o.getNode(a);p(e,t),c.default(t.icon),l.initTitle(t.title),l.initText(t.text),f.default(t.content),u.default(t.buttons,t.dangerMode)};var m=function(){var t=o.getNode(s),e=o.stringToNode(r.modalMarkup);t.appendChild(e)};e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),r={isOpen:!1,promise:null,actions:{},timer:null},i=Object.assign({},r);e.resetState=function(){i=Object.assign({},r)},e.setActionValue=function(t){if("string"==typeof t)return a(o.CONFIRM_KEY,t);for(var e in t)a(e,t[e])};var a=function(t,e){i.actions[t]||(i.actions[t]={}),Object.assign(i.actions[t],{value:e})};e.setActionOptionsFor=function(t,e){var n=(void 0===e?{}:e).closeModal,o=void 0===n||n;Object.assign(i.actions[t],{closeModal:o})},e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),r=n(3),i=n(0),a=i.default.OVERLAY,s=i.default.SHOW_MODAL,c=i.default.BUTTON,l=i.default.BUTTON_LOADING,u=n(5);e.openModal=function(){o.getNode(a).classList.add(s),u.default.isOpen=!0};var f=function(){o.getNode(a).classList.remove(s),u.default.isOpen=!1};e.onAction=function(t){void 0===t&&(t=r.CANCEL_KEY);var e=u.default.actions[t],n=e.value;if(!1===e.closeModal){var i=c+"--"+t;o.getNode(i).classList.add(l)}else f();u.default.promise.resolve(n)},e.getState=function(){var t=Object.assign({},u.default);return delete t.promise,delete t.timer,t},e.stopLoading=function(){for(var t=document.querySelectorAll("."+c),e=0;e<t.length;e++){t[e].classList.remove(l)}}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){(function(e){t.exports=e.sweetAlert=n(9)}).call(e,n(7))},function(t,e,n){(function(e){t.exports=e.swal=n(10)}).call(e,n(7))},function(t,e,n){"undefined"!=typeof window&&n(11),n(16);var o=n(23).default;t.exports=o},function(t,e,n){var o=n(12);"string"==typeof o&&(o=[[t.i,o,""]]);var r={insertAt:"top"};r.transform=void 0;n(14)(o,r);o.locals&&(t.exports=o.locals)},function(t,e,n){e=t.exports=n(13)(void 0),e.push([t.i,'.swal-icon--error{border-color:#f27474;-webkit-animation:animateErrorIcon .5s;animation:animateErrorIcon .5s}.swal-icon--error__x-mark{position:relative;display:block;-webkit-animation:animateXMark .5s;animation:animateXMark .5s}.swal-icon--error__line{position:absolute;height:5px;width:47px;background-color:#f27474;display:block;top:37px;border-radius:2px}.swal-icon--error__line--left{-webkit-transform:rotate(45deg);transform:rotate(45deg);left:17px}.swal-icon--error__line--right{-webkit-transform:rotate(-45deg);transform:rotate(-45deg);right:16px}@-webkit-keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@-webkit-keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}@keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}.swal-icon--warning{border-color:#f8bb86;-webkit-animation:pulseWarning .75s infinite alternate;animation:pulseWarning .75s infinite alternate}.swal-icon--warning__body{width:5px;height:47px;top:10px;border-radius:2px;margin-left:-2px}.swal-icon--warning__body,.swal-icon--warning__dot{position:absolute;left:50%;background-color:#f8bb86}.swal-icon--warning__dot{width:7px;height:7px;border-radius:50%;margin-left:-4px;bottom:-11px}@-webkit-keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}@keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}.swal-icon--success{border-color:#a5dc86}.swal-icon--success:after,.swal-icon--success:before{content:"";border-radius:50%;position:absolute;width:60px;height:120px;background:#fff;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.swal-icon--success:before{border-radius:120px 0 0 120px;top:-7px;left:-33px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:60px 60px;transform-origin:60px 60px}.swal-icon--success:after{border-radius:0 120px 120px 0;top:-11px;left:30px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:0 60px;transform-origin:0 60px;-webkit-animation:rotatePlaceholder 4.25s ease-in;animation:rotatePlaceholder 4.25s ease-in}.swal-icon--success__ring{width:80px;height:80px;border:4px solid hsla(98,55%,69%,.2);border-radius:50%;box-sizing:content-box;position:absolute;left:-4px;top:-4px;z-index:2}.swal-icon--success__hide-corners{width:5px;height:90px;background-color:#fff;padding:1px;position:absolute;left:28px;top:8px;z-index:1;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal-icon--success__line{height:5px;background-color:#a5dc86;display:block;border-radius:2px;position:absolute;z-index:2}.swal-icon--success__line--tip{width:25px;left:14px;top:46px;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-animation:animateSuccessTip .75s;animation:animateSuccessTip .75s}.swal-icon--success__line--long{width:47px;right:8px;top:38px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-animation:animateSuccessLong .75s;animation:animateSuccessLong .75s}@-webkit-keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@-webkit-keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@-webkit-keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}@keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}.swal-icon--info{border-color:#c9dae1}.swal-icon--info:before{width:5px;height:29px;bottom:17px;border-radius:2px;margin-left:-2px}.swal-icon--info:after,.swal-icon--info:before{content:"";position:absolute;left:50%;background-color:#c9dae1}.swal-icon--info:after{width:7px;height:7px;border-radius:50%;margin-left:-3px;top:19px}.swal-icon{width:80px;height:80px;border-width:4px;border-style:solid;border-radius:50%;padding:0;position:relative;box-sizing:content-box;margin:20px auto}.swal-icon:first-child{margin-top:32px}.swal-icon--custom{width:auto;height:auto;max-width:100%;border:none;border-radius:0}.swal-icon img{max-width:100%;max-height:100%}.swal-title{color:rgba(0,0,0,.65);font-weight:600;text-transform:none;position:relative;display:block;padding:13px 16px;font-size:27px;line-height:normal;text-align:center;margin-bottom:0}.swal-title:first-child{margin-top:26px}.swal-title:not(:first-child){padding-bottom:0}.swal-title:not(:last-child){margin-bottom:13px}.swal-text{font-size:16px;position:relative;float:none;line-height:normal;vertical-align:top;text-align:left;display:inline-block;margin:0;padding:0 10px;font-weight:400;color:rgba(0,0,0,.64);max-width:calc(100% - 20px);overflow-wrap:break-word;box-sizing:border-box}.swal-text:first-child{margin-top:45px}.swal-text:last-child{margin-bottom:45px}.swal-footer{text-align:right;padding-top:13px;margin-top:13px;padding:13px 16px;border-radius:inherit;border-top-left-radius:0;border-top-right-radius:0}.swal-button-container{margin:5px;display:inline-block;position:relative}.swal-button{background-color:#7cd1f9;color:#fff;border:none;box-shadow:none;border-radius:5px;font-weight:600;font-size:14px;padding:10px 24px;margin:0;cursor:pointer}.swal-button[not:disabled]:hover{background-color:#78cbf2}.swal-button:active{background-color:#70bce0}.swal-button:focus{outline:none;box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(43,114,165,.29)}.swal-button[disabled]{opacity:.5;cursor:default}.swal-button::-moz-focus-inner{border:0}.swal-button--cancel{color:#555;background-color:#efefef}.swal-button--cancel[not:disabled]:hover{background-color:#e8e8e8}.swal-button--cancel:active{background-color:#d7d7d7}.swal-button--cancel:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(116,136,150,.29)}.swal-button--danger{background-color:#e64942}.swal-button--danger[not:disabled]:hover{background-color:#df4740}.swal-button--danger:active{background-color:#cf423b}.swal-button--danger:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(165,43,43,.29)}.swal-content{padding:0 20px;margin-top:20px;font-size:medium}.swal-content:last-child{margin-bottom:20px}.swal-content__input,.swal-content__textarea{-webkit-appearance:none;background-color:#fff;border:none;font-size:14px;display:block;box-sizing:border-box;width:100%;border:1px solid rgba(0,0,0,.14);padding:10px 13px;border-radius:2px;transition:border-color .2s}.swal-content__input:focus,.swal-content__textarea:focus{outline:none;border-color:#6db8ff}.swal-content__textarea{resize:vertical}.swal-button--loading{color:transparent}.swal-button--loading~.swal-button__loader{opacity:1}.swal-button__loader{position:absolute;height:auto;width:43px;z-index:2;left:50%;top:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);text-align:center;pointer-events:none;opacity:0}.swal-button__loader div{display:inline-block;float:none;vertical-align:baseline;width:9px;height:9px;padding:0;border:none;margin:2px;opacity:.4;border-radius:7px;background-color:hsla(0,0%,100%,.9);transition:background .2s;-webkit-animation:swal-loading-anim 1s infinite;animation:swal-loading-anim 1s infinite}.swal-button__loader div:nth-child(3n+2){-webkit-animation-delay:.15s;animation-delay:.15s}.swal-button__loader div:nth-child(3n+3){-webkit-animation-delay:.3s;animation-delay:.3s}@-webkit-keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}@keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}.swal-overlay{position:fixed;top:0;bottom:0;left:0;right:0;text-align:center;font-size:0;overflow-y:auto;background-color:rgba(0,0,0,.4);z-index:10000;pointer-events:none;opacity:0;transition:opacity .3s}.swal-overlay:before{content:" ";display:inline-block;vertical-align:middle;height:100%}.swal-overlay--show-modal{opacity:1;pointer-events:auto}.swal-overlay--show-modal .swal-modal{opacity:1;pointer-events:auto;box-sizing:border-box;-webkit-animation:showSweetAlert .3s;animation:showSweetAlert .3s;will-change:transform}.swal-modal{width:478px;opacity:0;pointer-events:none;background-color:#fff;text-align:center;border-radius:5px;position:static;margin:20px auto;display:inline-block;vertical-align:middle;-webkit-transform:scale(1);transform:scale(1);-webkit-transform-origin:50% 50%;transform-origin:50% 50%;z-index:10001;transition:opacity .2s,-webkit-transform .3s;transition:transform .3s,opacity .2s;transition:transform .3s,opacity .2s,-webkit-transform .3s}@media (max-width:500px){.swal-modal{width:calc(100% - 20px)}}@-webkit-keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}',""])},function(t,e){function n(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=o(r);return[n].concat(r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"})).concat([i]).join("\n")}return[n].join("\n")}function o(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var o=n(e,t);return e[2]?"@media "+e[2]+"{"+o+"}":o}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(o[i]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){function o(t,e){for(var n=0;n<t.length;n++){var o=t[n],r=m[o.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](o.parts[i]);for(;i<o.parts.length;i++)r.parts.push(u(o.parts[i],e))}else{for(var a=[],i=0;i<o.parts.length;i++)a.push(u(o.parts[i],e));m[o.id]={id:o.id,refs:1,parts:a}}}}function r(t,e){for(var n=[],o={},r=0;r<t.length;r++){var i=t[r],a=e.base?i[0]+e.base:i[0],s=i[1],c=i[2],l=i[3],u={css:s,media:c,sourceMap:l};o[a]?o[a].parts.push(u):n.push(o[a]={id:a,parts:[u]})}return n}function i(t,e){var n=v(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=w[w.length-1];if("top"===t.insertAt)o?o.nextSibling?n.insertBefore(e,o.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),w.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function a(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=w.indexOf(t);e>=0&&w.splice(e,1)}function s(t){var e=document.createElement("style");return t.attrs.type="text/css",l(e,t.attrs),i(t,e),e}function c(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",l(e,t.attrs),i(t,e),e}function l(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function u(t,e){var n,o,r,i;if(e.transform&&t.css){if(!(i=e.transform(t.css)))return function(){};t.css=i}if(e.singleton){var l=h++;n=g||(g=s(e)),o=f.bind(null,n,l,!1),r=f.bind(null,n,l,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=c(e),o=p.bind(null,n,e),r=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(e),o=d.bind(null,n),r=function(){a(n)});return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else r()}}function f(t,e,n,o){var r=n?"":o.css;if(t.styleSheet)t.styleSheet.cssText=x(e,r);else{var i=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function d(t,e){var n=e.css,o=e.media;if(o&&t.setAttribute("media",o),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function p(t,e,n){var o=n.css,r=n.sourceMap,i=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||i)&&(o=y(o)),r&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([o],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}var m={},b=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),v=function(t){var e={};return function(n){return void 0===e[n]&&(e[n]=t.call(this,n)),e[n]}}(function(t){return document.querySelector(t)}),g=null,h=0,w=[],y=n(15);t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},e.attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||(e.singleton=b()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=r(t,e);return o(n,e),function(t){for(var i=[],a=0;a<n.length;a++){var s=n[a],c=m[s.id];c.refs--,i.push(c)}if(t){o(r(t,e),e)}for(var a=0;a<i.length;a++){var c=i[a];if(0===c.refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete m[c.id]}}}};var x=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,o=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var r=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(r))return t;var i;return i=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:o+r.replace(/^\.\//,""),"url("+JSON.stringify(i)+")"})}},function(t,e,n){var o=n(17);"undefined"==typeof window||window.Promise||(window.Promise=o),n(21),String.prototype.includes||(String.prototype.includes=function(t,e){"use strict";return"number"!=typeof e&&(e=0),!(e+t.length>this.length)&&-1!==this.indexOf(t,e)}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),o=n.length>>>0;if(0===o)return!1;for(var r=0|e,i=Math.max(r>=0?r:o-Math.abs(r),0);i<o;){if(function(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}(n[i],t))return!0;i++}return!1}}),"undefined"!=typeof window&&function(t){t.forEach(function(t){t.hasOwnProperty("remove")||Object.defineProperty(t,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})}([Element.prototype,CharacterData.prototype,DocumentType.prototype])},function(t,e,n){(function(e){!function(n){function o(){}function r(t,e){return function(){t.apply(e,arguments)}}function i(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(t,this)}function a(t,e){for(;3===t._state;)t=t._value;if(0===t._state)return void t._deferreds.push(e);t._handled=!0,i._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._state?s:c)(e.promise,t._value);var o;try{o=n(t._value)}catch(t){return void c(e.promise,t)}s(e.promise,o)})}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof i)return t._state=3,t._value=e,void l(t);if("function"==typeof n)return void f(r(n,e),t)}t._state=1,t._value=e,l(t)}catch(e){c(t,e)}}function c(t,e){t._state=2,t._value=e,l(t)}function l(t){2===t._state&&0===t._deferreds.length&&i._immediateFn(function(){t._handled||i._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)a(t,t._deferreds[e]);t._deferreds=null}function u(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function f(t,e){var n=!1;try{t(function(t){n||(n=!0,s(e,t))},function(t){n||(n=!0,c(e,t))})}catch(t){if(n)return;n=!0,c(e,t)}}var d=setTimeout;i.prototype.catch=function(t){return this.then(null,t)},i.prototype.then=function(t,e){var n=new this.constructor(o);return a(this,new u(t,e,n)),n},i.all=function(t){var e=Array.prototype.slice.call(t);return new i(function(t,n){function o(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(t){o(i,t)},n)}e[i]=a,0==--r&&t(e)}catch(t){n(t)}}if(0===e.length)return t([]);for(var r=e.length,i=0;i<e.length;i++)o(i,e[i])})},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i(function(e){e(t)})},i.reject=function(t){return new i(function(e,n){n(t)})},i.race=function(t){return new i(function(e,n){for(var o=0,r=t.length;o<r;o++)t[o].then(e,n)})},i._immediateFn="function"==typeof e&&function(t){e(t)}||function(t){d(t,0)},i._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},i._setImmediateFn=function(t){i._immediateFn=t},i._setUnhandledRejectionFn=function(t){i._unhandledRejectionFn=t},void 0!==t&&t.exports?t.exports=i:n.Promise||(n.Promise=i)}(this)}).call(e,n(18).setImmediate)},function(t,e,n){function o(t,e){this._id=t,this._clearFn=e}var r=Function.prototype.apply;e.setTimeout=function(){return new o(r.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new o(r.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(19),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},function(t,e,n){(function(t,e){!function(t,n){"use strict";function o(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var o={callback:t,args:e};return l[c]=o,s(c),c++}function r(t){delete l[t]}function i(t){var e=t.callback,o=t.args;switch(o.length){case 0:e();break;case 1:e(o[0]);break;case 2:e(o[0],o[1]);break;case 3:e(o[0],o[1],o[2]);break;default:e.apply(n,o)}}function a(t){if(u)setTimeout(a,0,t);else{var e=l[t];if(e){u=!0;try{i(e)}finally{r(t),u=!1}}}}if(!t.setImmediate){var s,c=1,l={},u=!1,f=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?function(){s=function(t){e.nextTick(function(){a(t)})}}():function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&a(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),s=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){a(t.data)},s=function(e){t.port2.postMessage(e)}}():f&&"onreadystatechange"in f.createElement("script")?function(){var t=f.documentElement;s=function(e){var n=f.createElement("script");n.onreadystatechange=function(){a(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():function(){s=function(t){setTimeout(a,0,t)}}(),d.setImmediate=o,d.clearImmediate=r}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,n(7),n(20))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function r(t){if(u===setTimeout)return setTimeout(t,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function i(t){if(f===clearTimeout)return clearTimeout(t);if((f===o||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function a(){b&&p&&(b=!1,p.length?m=p.concat(m):v=-1,m.length&&s())}function s(){if(!b){var t=r(a);b=!0;for(var e=m.length;e;){for(p=m,m=[];++v<e;)p&&p[v].run();v=-1,e=m.length}p=null,b=!1,i(t)}}function c(t,e){this.fun=t,this.array=e}function l(){}var u,f,d=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(t){u=n}try{f="function"==typeof clearTimeout?clearTimeout:o}catch(t){f=o}}();var p,m=[],b=!1,v=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];m.push(new c(t,e)),1!==m.length||b||r(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.prependListener=l,d.prependOnceListener=l,d.listeners=function(t){return[]},d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(t,e,n){"use strict";n(22).polyfill()},function(t,e,n){"use strict";function o(t,e){if(void 0===t||null===t)throw new TypeError("Cannot convert first argument to object");for(var n=Object(t),o=1;o<arguments.length;o++){var r=arguments[o];if(void 0!==r&&null!==r)for(var i=Object.keys(Object(r)),a=0,s=i.length;a<s;a++){var c=i[a],l=Object.getOwnPropertyDescriptor(r,c);void 0!==l&&l.enumerable&&(n[c]=r[c])}}return n}function r(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:o})}t.exports={assign:o,polyfill:r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(24),r=n(6),i=n(5),a=n(36),s=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if("undefined"!=typeof window){var n=a.getOpts.apply(void 0,t);return new Promise(function(t,e){i.default.promise={resolve:t,reject:e},o.default(n),setTimeout(function(){r.openModal()})})}};s.close=r.onAction,s.getState=r.getState,s.setActionValue=i.setActionValue,s.stopLoading=r.stopLoading,s.setDefaults=a.setDefaults,e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),r=n(0),i=r.default.MODAL,a=n(4),s=n(34),c=n(35),l=n(1);e.init=function(t){o.getNode(i)||(document.body||l.throwErr("You can only use SweetAlert AFTER the DOM has loaded!"),s.default(),a.default()),a.initModalContent(t),c.default(t)},e.default=e.init},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),r=o.default.MODAL;e.modalMarkup='\n  <div class="'+r+'" role="dialog" aria-modal="true"></div>',e.default=e.modalMarkup},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),r=o.default.OVERLAY,i='<div \n    class="'+r+'"\n    tabIndex="-1">\n  </div>';e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),r=o.default.ICON;e.errorIconMarkup=function(){var t=r+"--error",e=t+"__line";return'\n    <div class="'+t+'__x-mark">\n      <span class="'+e+" "+e+'--left"></span>\n      <span class="'+e+" "+e+'--right"></span>\n    </div>\n  '},e.warningIconMarkup=function(){var t=r+"--warning";return'\n    <span class="'+t+'__body">\n      <span class="'+t+'__dot"></span>\n    </span>\n  '},e.successIconMarkup=function(){var t=r+"--success";return'\n    <span class="'+t+"__line "+t+'__line--long"></span>\n    <span class="'+t+"__line "+t+'__line--tip"></span>\n\n    <div class="'+t+'__ring"></div>\n    <div class="'+t+'__hide-corners"></div>\n  '}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),r=o.default.CONTENT;e.contentMarkup='\n  <div class="'+r+'">\n\n  </div>\n'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),r=o.default.BUTTON_CONTAINER,i=o.default.BUTTON,a=o.default.BUTTON_LOADER;e.buttonMarkup='\n  <div class="'+r+'">\n\n    <button\n      class="'+i+'"\n    ></button>\n\n    <div class="'+a+'">\n      <div></div>\n      <div></div>\n      <div></div>\n    </div>\n\n  </div>\n'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(4),r=n(2),i=n(0),a=i.default.ICON,s=i.default.ICON_CUSTOM,c=["error","warning","success","info"],l={error:r.errorIconMarkup(),warning:r.warningIconMarkup(),success:r.successIconMarkup()},u=function(t,e){var n=a+"--"+t;e.classList.add(n);var o=l[t];o&&(e.innerHTML=o)},f=function(t,e){e.classList.add(s);var n=document.createElement("img");n.src=t,e.appendChild(n)},d=function(t){if(t){var e=o.injectElIntoModal(r.iconMarkup);c.includes(t)?u(t,e):f(t,e)}};e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),r=n(4),i=function(t){navigator.userAgent.includes("AppleWebKit")&&(t.style.display="none",t.offsetHeight,t.style.display="")};e.initTitle=function(t){if(t){var e=r.injectElIntoModal(o.titleMarkup);e.textContent=t,i(e)}},e.initText=function(t){if(t){var e=document.createDocumentFragment();t.split("\n").forEach(function(t,n,o){e.appendChild(document.createTextNode(t)),n<o.length-1&&e.appendChild(document.createElement("br"))});var n=r.injectElIntoModal(o.textMarkup);n.appendChild(e),i(n)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),r=n(4),i=n(0),a=i.default.BUTTON,s=i.default.DANGER_BUTTON,c=n(3),l=n(2),u=n(6),f=n(5),d=function(t,e,n){var r=e.text,i=e.value,d=e.className,p=e.closeModal,m=o.stringToNode(l.buttonMarkup),b=m.querySelector("."+a),v=a+"--"+t;if(b.classList.add(v),d){(Array.isArray(d)?d:d.split(" ")).filter(function(t){return t.length>0}).forEach(function(t){b.classList.add(t)})}n&&t===c.CONFIRM_KEY&&b.classList.add(s),b.textContent=r;var g={};return g[t]=i,f.setActionValue(g),f.setActionOptionsFor(t,{closeModal:p}),b.addEventListener("click",function(){return u.onAction(t)}),m},p=function(t,e){var n=r.injectElIntoModal(l.footerMarkup);for(var o in t){var i=t[o],a=d(o,i,e);i.visible&&n.appendChild(a)}0===n.children.length&&n.remove()};e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),r=n(4),i=n(2),a=n(5),s=n(6),c=n(0),l=c.default.CONTENT,u=function(t){t.addEventListener("input",function(t){var e=t.target,n=e.value;a.setActionValue(n)}),t.addEventListener("keyup",function(t){if("Enter"===t.key)return s.onAction(o.CONFIRM_KEY)}),setTimeout(function(){t.focus(),a.setActionValue("")},0)},f=function(t,e,n){var o=document.createElement(e),r=l+"__"+e;o.classList.add(r);for(var i in n){var a=n[i];o[i]=a}"input"===e&&u(o),t.appendChild(o)},d=function(t){if(t){var e=r.injectElIntoModal(i.contentMarkup),n=t.element,o=t.attributes;"string"==typeof n?f(e,n,o):e.appendChild(n)}};e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),r=n(2),i=function(){var t=o.stringToNode(r.overlayMarkup);document.body.appendChild(t)};e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(5),r=n(6),i=n(1),a=n(3),s=n(0),c=s.default.MODAL,l=s.default.BUTTON,u=s.default.OVERLAY,f=function(t){t.preventDefault(),v()},d=function(t){t.preventDefault(),g()},p=function(t){if(o.default.isOpen)switch(t.key){case"Escape":return r.onAction(a.CANCEL_KEY)}},m=function(t){if(o.default.isOpen)switch(t.key){case"Tab":return f(t)}},b=function(t){if(o.default.isOpen)return"Tab"===t.key&&t.shiftKey?d(t):void 0},v=function(){var t=i.getNode(l);t&&(t.tabIndex=0,t.focus())},g=function(){var t=i.getNode(c),e=t.querySelectorAll("."+l),n=e.length-1,o=e[n];o&&o.focus()},h=function(t){t[t.length-1].addEventListener("keydown",m)},w=function(t){t[0].addEventListener("keydown",b)},y=function(){var t=i.getNode(c),e=t.querySelectorAll("."+l);e.length&&(h(e),w(e))},x=function(t){if(i.getNode(u)===t.target)return r.onAction(a.CANCEL_KEY)},_=function(t){var e=i.getNode(u);e.removeEventListener("click",x),t&&e.addEventListener("click",x)},k=function(t){o.default.timer&&clearTimeout(o.default.timer),t&&(o.default.timer=window.setTimeout(function(){return r.onAction(a.CANCEL_KEY)},t))},O=function(t){t.closeOnEsc?document.addEventListener("keyup",p):document.removeEventListener("keyup",p),t.dangerMode?v():g(),y(),_(t.closeOnClickOutside),k(t.timer)};e.default=O},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),r=n(3),i=n(37),a=n(38),s={title:null,text:null,icon:null,buttons:r.defaultButtonList,content:null,className:null,closeOnClickOutside:!0,closeOnEsc:!0,dangerMode:!1,timer:null},c=Object.assign({},s);e.setDefaults=function(t){c=Object.assign({},s,t)};var l=function(t){var e=t&&t.button,n=t&&t.buttons;return void 0!==e&&void 0!==n&&o.throwErr("Cannot set both 'button' and 'buttons' options!"),void 0!==e?{confirm:e}:n},u=function(t){return o.ordinalSuffixOf(t+1)},f=function(t,e){o.throwErr(u(e)+" argument ('"+t+"') is invalid")},d=function(t,e){var n=t+1,r=e[n];o.isPlainObject(r)||void 0===r||o.throwErr("Expected "+u(n)+" argument ('"+r+"') to be a plain object")},p=function(t,e){var n=t+1,r=e[n];void 0!==r&&o.throwErr("Unexpected "+u(n)+" argument ("+r+")")},m=function(t,e,n,r){var i=typeof e,a="string"===i,s=e instanceof Element;if(a){if(0===n)return{text:e};if(1===n)return{text:e,title:r[0]};if(2===n)return d(n,r),{icon:e};f(e,n)}else{if(s&&0===n)return d(n,r),{content:e};if(o.isPlainObject(e))return p(n,r),e;f(e,n)}};e.getOpts=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n={};t.forEach(function(e,o){var r=m(0,e,o,t);Object.assign(n,r)});var o=l(n);n.buttons=r.getButtonListOpts(o),delete n.button,n.content=i.getContentOpts(n.content);var u=Object.assign({},s,c,n);return Object.keys(u).forEach(function(t){a.DEPRECATED_OPTS[t]&&a.logDeprecation(t)}),u}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),r={element:"input",attributes:{placeholder:""}};e.getContentOpts=function(t){var e={};return o.isPlainObject(t)?Object.assign(e,t):t instanceof Element?{element:t}:"input"===t?r:null}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.logDeprecation=function(t){var n=e.DEPRECATED_OPTS[t],o=n.onlyRename,r=n.replacement,i=n.subOption,a=n.link,s=o?"renamed":"deprecated",c='SweetAlert warning: "'+t+'" option has been '+s+".";if(r){c+=" Please use"+(i?' "'+i+'" in ':" ")+'"'+r+'" instead.'}var l="https://sweetalert.js.org";c+=a?" More details: "+l+a:" More details: "+l+"/guides/#upgrading-from-1x",console.warn(c)},e.DEPRECATED_OPTS={type:{replacement:"icon",link:"/docs/#icon"},imageUrl:{replacement:"icon",link:"/docs/#icon"},customClass:{replacement:"className",onlyRename:!0,link:"/docs/#classname"},imageSize:{},showCancelButton:{replacement:"buttons",link:"/docs/#buttons"},showConfirmButton:{replacement:"button",link:"/docs/#button"},confirmButtonText:{replacement:"button",link:"/docs/#button"},confirmButtonColor:{},cancelButtonText:{replacement:"buttons",link:"/docs/#buttons"},closeOnConfirm:{replacement:"button",subOption:"closeModal",link:"/docs/#button"},closeOnCancel:{replacement:"buttons",subOption:"closeModal",link:"/docs/#buttons"},showLoaderOnConfirm:{replacement:"buttons"},animation:{},inputType:{replacement:"content",link:"/docs/#content"},inputValue:{replacement:"content",link:"/docs/#content"},inputPlaceholder:{replacement:"content",link:"/docs/#content"},html:{replacement:"content",link:"/docs/#content"},allowEscapeKey:{replacement:"closeOnEsc",onlyRename:!0,link:"/docs/#closeonesc"},allowClickOutside:{replacement:"closeOnClickOutside",onlyRename:!0,link:"/docs/#closeonclickoutside"}}}])});
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(6).setImmediate, __webpack_require__(6).clearImmediate))

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = {
  showModelMsg,
  hideModelMsg,
  resetModels,
  clearCheckedModel,
  filterModels,
  getModels
};

let userGlobal = __webpack_require__(0);
let userColors = __webpack_require__(2); 
let userPreview = __webpack_require__(3); 
let swal = __webpack_require__(4);
let scroll = __webpack_require__(1);

// global variables
let hm = 'hm-black-light';

  /* color option css */
  $('.model-option').on('click',function(event) {
    event.preventDefault();
    // console.log('model option has class: ', $(this).find('i').hasClass('fa-check') );

    if( !userGlobal.tallaSelected ){
      swal({
        title: "Ups",
        text: 'Primero seleccione una talla.', //res.errorMsg
        icon: "error"
      });
      return;
    }
    
    userColors.clearCheckedColor();

    if( $(this).hasClass('model-checked') ){
      $(this).find('i').removeClass('fa-check');
      $(this).removeClass('model-checked');
      $(this).removeClass(hm);

      userColors.resetColors();
    } else {
      resetModels(hm);

      $(this).find('i').addClass('fa-check');
      $(this).addClass('model-checked');
      $(this).addClass(hm);
      scroll.smoothScrollTo('section', '_colors');
    }

    let modelChecked = $('.model-checked');
    modelChecked = $(modelChecked[0]).data();
    if(modelChecked){
      userGlobal.modelChecked = modelChecked;
      userColors.renderFilteredColors(modelChecked);
      userPreview.hidePreview();
      userPreview.showPreviewMsg('* Seleccione un color');
    } else {
      // no model selected, let the user know, he needs to select one model first
      userGlobal.modelChecked = undefined;
      $('#color-container-message').find('p').text('Seleccione un modelo');
      $('#color-container-message').removeClass('d-none');
      userPreview.hidePreview();
      userPreview.showPreviewMsg('* Seleccione un modelo<br>Seleccione un color');
    }

  });

  function filterModels() {
    /* get al de .model-options elemnt in the DOM */
    let modelOptions = $('.model-option');
    let modelsAvlb = []; // models abailable
    
    /* get de array of models available for selected size in userGlobal.catFiltered // [1,2,12] */
    modelsAvlb = getModels(); 
    console.log('modelsAvlb ', modelsAvlb);
    

    /*  loop through .model-option elements get the data(cardModelId) and if it exists
        in modelsAvlb show it else hide it */
    for( let i = 0; i < modelOptions.length ; i++ ){
      let model = $(modelOptions[i]);
      let modelImgIsSet = false;
      // console.log('model', model);
      
      // console.log(`model.code init ####################  ${model.data('cardModelCode')}`);
      // console.log('userGlobal.catFiltered', userGlobal.catFiltered);
      
      // if(userGlobal.catFiltered){
        let modelDetail = userGlobal.catFiltered.filter(function(mod) {
          return mod.model == model.data('cardModelId');
        })[0];
      // }

        // if( modelDetail ){ modelDetail = modelDetail[0]; }

        if($.inArray( $(model).data('cardModelId'), modelsAvlb ) == -1){ 
          /* if cardModelId is not in modelsAvlb hide it */
          $(model).addClass('d-none'); 
        } else { 
          /* if cardModelId is in modelsAvlb show it and filter summaryColorsOpt*/
          let summaryColorsOpt = model.find('div.summary-color-option');
          $(model).removeClass('d-none');
          let modelDetail = userGlobal.catFiltered.filter( function(mod) { return mod.model == model.data('cardModelId'); })[0];
          // console.log('modelDetail', modelDetail);
          // console.log('userGlobal', userGlobal.catFiltered);
          for (let j = 0; j < summaryColorsOpt.length; j++) {
            let miniColor = $(summaryColorsOpt[j]);
            // console.log('miniColor', miniColor);
            // console.log('miniColor.id', miniColor.data('summaryColorId'));
            // console.log('modelDetail.colors', modelDetail.colors);
            // console.log('miniColor.id is in modelDetail.colors', $.inArray( miniColor.data('summaryColorId'), modelDetail.colors ));
            if( $.inArray( String(miniColor.data('summaryColorId')), modelDetail.colors ) !== -1 ){
              miniColor.removeClass('d-none');

              if(!modelImgIsSet){
                let url ='material/cat_model/';
                url += model.data('cardModelCode').toLowerCase();
                url += '-';
                url += miniColor.data('summaryColorCode').toLowerCase();
                url += '.jpg';
                // model.find('img.img-model-option').attr('src', 'material/cat_model/ldy-red.jpg');
                model.find('img.img-model-option').attr('src', url);
                modelImgIsSet = true;
              }
            } else {
              miniColor.addClass('d-none');
            }
          }
        }

    }

  }

  function hideModelCards() {
    $('#models-container-cards').addClass('d-none');
  }
  function showModelCards() {
    $('#models-container-cards').removeClass('d-none');
  }

  function showModelMsg(msg) {
    $('#models-container-message').find('p').removeClass('d-none');
    $('#models-container-message').find('p').text(msg);
  }

  function hideModelMsg() {
    $('#models-container-message').find('p').addClass('d-none');
    $('#models-container-message').find('p').text('Message goes here');
  }

  function resetModels() {
    // $('.color-option>.view>.mask>i').removeClass('fa-check');
    userGlobal.modelChecked = undefined;
    $('.model-option').find('i').removeClass('fa-check');
    $('.model-option').removeClass('model-checked');
    $('.model-option').removeClass(hm);
  }
  
  function clearCheckedModel() {
    userGlobal.modelChecked = undefined;
    $('.model-option').find('i').removeClass('fa-check');
    $('.model-option').removeClass('model-checked');
    $('.model-option').removeClass(hm);
  }

  function getModels() { 
    // returns array of the models' id available for that size
    // [1,2,3,4]
    let arrModelsId = [];
    if(userGlobal.catFiltered){
      userGlobal.catFiltered.forEach(function(modelObj) {
        arrModelsId.push( parseInt(modelObj.model) );
      });
    }
    return arrModelsId;
  }




/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {var apply = Function.prototype.apply;

// DOM APIs, for completeness

exports.setTimeout = function() {
  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);
};
exports.setInterval = function() {
  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);
};
exports.clearTimeout =
exports.clearInterval = function(timeout) {
  if (timeout) {
    timeout.close();
  }
};

function Timeout(id, clearFn) {
  this._id = id;
  this._clearFn = clearFn;
}
Timeout.prototype.unref = Timeout.prototype.ref = function() {};
Timeout.prototype.close = function() {
  this._clearFn.call(window, this._id);
};

// Does not start the time, just sets up the members needed.
exports.enroll = function(item, msecs) {
  clearTimeout(item._idleTimeoutId);
  item._idleTimeout = msecs;
};

exports.unenroll = function(item) {
  clearTimeout(item._idleTimeoutId);
  item._idleTimeout = -1;
};

exports._unrefActive = exports.active = function(item) {
  clearTimeout(item._idleTimeoutId);

  var msecs = item._idleTimeout;
  if (msecs >= 0) {
    item._idleTimeoutId = setTimeout(function onTimeout() {
      if (item._onTimeout)
        item._onTimeout();
    }, msecs);
  }
};

// setimmediate attaches itself to the global object
__webpack_require__(10);
// On some exotic environments, it's not clear which object `setimmeidate` was
// able to install onto.  Search each possibility in the same order as the
// `setimmediate` library.
exports.setImmediate = (typeof self !== "undefined" && self.setImmediate) ||
                       (typeof global !== "undefined" && global.setImmediate) ||
                       (this && this.setImmediate);
exports.clearImmediate = (typeof self !== "undefined" && self.clearImmediate) ||
                         (typeof global !== "undefined" && global.clearImmediate) ||
                         (this && this.clearImmediate);

/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(7)))

/***/ }),
/* 7 */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || Function("return this")() || (1,eval)("this");
} catch(e) {
	// This works if the window reference is available
	if(typeof window === "object")
		g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = {
  addItemToCard,
  revomeItemFromCard,
};



let userColors = __webpack_require__(2);
let userPreview = __webpack_require__(3);
let userGlobal = __webpack_require__(0);
// let swal =  require('sweetalert');


$(document).on("click", ".user-pedido-trash", function(){
  let itemToDelete = $(this);
  revomeItemFromCard(itemToDelete);
});


function addItemToCard() {
  console.log('############### item added');
  let carritoTableItems = $('#user_carrito_table_items');
  
  // dynamic value
  let pedidoId = $('.user-pedido-item').length + 1; // gets the length

  // this are objects with different values
  let pedidoModelo = $('.model-checked');
  let pedidoColor = $('.color-checked');
  let pedidoTalla = $('#user_talla option:selected');

  // this are direct values
  let pedidoCantidadPares = $('#user_prev_pares').val();
  let pedidoSubtotal = $('#user_prev_subtotal').text();
  let pedidoImg = $('#user_prev_img').attr('src');

  let previewModel = userGlobal.modelChecked;
  let previewColor = userGlobal.colorChecked;
  let modelSelected = userGlobal.catFiltered.filter(function(mod) {
    return mod.model == previewModel.cardModelId;
  })[0];
  let pedidoPrecioUnitario = modelSelected.precios[modelSelected.colors.indexOf( String(previewColor.colorId) )];

  console.log('pedidoId', pedidoId);
  console.log('pedidoModelo', pedidoModelo.data() );
  console.log('pedidoColor', pedidoColor.data() );
  console.log('pedidoTalla', pedidoTalla.data() );
  console.log('pedidoCantidadPares', pedidoCantidadPares);
  console.log('pedidoPrecioUnitario', pedidoPrecioUnitario);
  console.log('pedidoSubtotal', pedidoSubtotal);
  console.log('pedidoImg', pedidoImg);  

  let newItemTemp = `<tr class='align-items-center user-pedido-item' 
                      data-pedido-id='${pedidoId}' 
                      data-pedido-modelo-id='${pedidoModelo.data('cardModelId')}' 
                      data-pedido-color-id='${pedidoColor.data('colorId')}' 
                      data-pedido-talla-id='${pedidoTalla.val()}'
                      data-pedido-cantidad-pares='${pedidoCantidadPares}'
                      data-pedido-subtotal='${pedidoSubtotal}'
                      data-pedido-precio-unitario='${pedidoPrecioUnitario}'
                      >
                      <td class='p-0'> 
                        <div class='view mx-auto' style='width: 120px;'>
                          <img src='${pedidoImg}' class='img-fluid mx-auto' alt='Img ${pedidoModelo.data('cardModelCode')} ${pedidoColor.data('colorCode')}'>
                        </div>  
                      </td>
                      <td class='d-block'>${pedidoModelo.data('cardModelName')}</td>
                      <td>${pedidoColor.data('colorName')}</td>
                      <td>${pedidoTalla.text()}</td>
                      <td class='text-center'>${pedidoCantidadPares}</td>
                      <td class='text-center'>${pedidoSubtotal}</td>
                      <td class='text-center px-0 pt-0'> 
                        <button type='button' class='user-pedido-trash btn btn-danger waves-effect waves-light p-2 user-pedido-trash'>
                          <i class='fa fa-trash-o white-text'></i>
                        </button>
                      </td>
                    </tr>`;
  carritoTableItems.append( $(newItemTemp) );
  userPreview.hidePreview(); 
  calcTotal();
} // .addItemToCard()


function revomeItemFromCard(element) {
  // console.log('###### item canceled'); console.log('element ', element.parents('tr'));
  element.parents('tr.user-pedido-item').remove();
  orderPedidosId();
  calcTotal();
}

function orderPedidosId() {
  // map items if one is deleted to reset ID's
  let pedidos = $('.user-pedido-item');
  console.log('user pedidos', pedidos);

  // for (let i = 0; i < pedidos.length; i++) {
  //   let pedido = $(pedidos[i]);
  //   pedido.attr( 'data-pedido-id', i + 1 );
  //   // console.log('$pedido', pedido); console.log('updated userPedido', pedido.data('pedidoId'));
  // }

  pedidos.each(function(i, pedido){
    $(pedido).attr( 'data-pedido-id', i + 1 );
  });

  console.log('user pedidos edited', pedidos);
}


function calcTotal() {
  let pedidos = $('.user-pedido-item');
  let paresTotales = 0;
  let pagoTotal = 0.00;

  pedidos.each(function(i, pedido){
    paresTotales += parseInt( $(pedido).data('pedidoCantidadPares') );
    pagoTotal += parseFloat( $(pedido).data('pedidoSubtotal') );
  });
  
  updateNavbarSummary(pedidos.length);
  $('#user_carrito_pares_totales').text(paresTotales);
  $('#user_carrito_total').text(pagoTotal.toFixed(2));
}

function updateNavbarSummary(items) {
  // let pedidos = $('.user-pedido-item');
  $('#user_navbar_summary_pedidos').text(items);
}

/***/ }),
/* 9 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_sweetalert__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_sweetalert___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_sweetalert__);
// libraries


// pages
__webpack_require__(12);
__webpack_require__(1);

// admin
__webpack_require__(13);
__webpack_require__(14);


// user
__webpack_require__(0); // refers to global variables
__webpack_require__(15);
__webpack_require__(16);
__webpack_require__(2);
__webpack_require__(17);
__webpack_require__(5);
__webpack_require__(3);
__webpack_require__(8);
__webpack_require__(18);

/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global, process) {(function (global, undefined) {
    "use strict";

    if (global.setImmediate) {
        return;
    }

    var nextHandle = 1; // Spec says greater than zero
    var tasksByHandle = {};
    var currentlyRunningATask = false;
    var doc = global.document;
    var registerImmediate;

    function setImmediate(callback) {
      // Callback can either be a function or a string
      if (typeof callback !== "function") {
        callback = new Function("" + callback);
      }
      // Copy function arguments
      var args = new Array(arguments.length - 1);
      for (var i = 0; i < args.length; i++) {
          args[i] = arguments[i + 1];
      }
      // Store and register the task
      var task = { callback: callback, args: args };
      tasksByHandle[nextHandle] = task;
      registerImmediate(nextHandle);
      return nextHandle++;
    }

    function clearImmediate(handle) {
        delete tasksByHandle[handle];
    }

    function run(task) {
        var callback = task.callback;
        var args = task.args;
        switch (args.length) {
        case 0:
            callback();
            break;
        case 1:
            callback(args[0]);
            break;
        case 2:
            callback(args[0], args[1]);
            break;
        case 3:
            callback(args[0], args[1], args[2]);
            break;
        default:
            callback.apply(undefined, args);
            break;
        }
    }

    function runIfPresent(handle) {
        // From the spec: "Wait until any invocations of this algorithm started before this one have completed."
        // So if we're currently running a task, we'll need to delay this invocation.
        if (currentlyRunningATask) {
            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a
            // "too much recursion" error.
            setTimeout(runIfPresent, 0, handle);
        } else {
            var task = tasksByHandle[handle];
            if (task) {
                currentlyRunningATask = true;
                try {
                    run(task);
                } finally {
                    clearImmediate(handle);
                    currentlyRunningATask = false;
                }
            }
        }
    }

    function installNextTickImplementation() {
        registerImmediate = function(handle) {
            process.nextTick(function () { runIfPresent(handle); });
        };
    }

    function canUsePostMessage() {
        // The test against `importScripts` prevents this implementation from being installed inside a web worker,
        // where `global.postMessage` means something completely different and can't be used for this purpose.
        if (global.postMessage && !global.importScripts) {
            var postMessageIsAsynchronous = true;
            var oldOnMessage = global.onmessage;
            global.onmessage = function() {
                postMessageIsAsynchronous = false;
            };
            global.postMessage("", "*");
            global.onmessage = oldOnMessage;
            return postMessageIsAsynchronous;
        }
    }

    function installPostMessageImplementation() {
        // Installs an event handler on `global` for the `message` event: see
        // * https://developer.mozilla.org/en/DOM/window.postMessage
        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages

        var messagePrefix = "setImmediate$" + Math.random() + "$";
        var onGlobalMessage = function(event) {
            if (event.source === global &&
                typeof event.data === "string" &&
                event.data.indexOf(messagePrefix) === 0) {
                runIfPresent(+event.data.slice(messagePrefix.length));
            }
        };

        if (global.addEventListener) {
            global.addEventListener("message", onGlobalMessage, false);
        } else {
            global.attachEvent("onmessage", onGlobalMessage);
        }

        registerImmediate = function(handle) {
            global.postMessage(messagePrefix + handle, "*");
        };
    }

    function installMessageChannelImplementation() {
        var channel = new MessageChannel();
        channel.port1.onmessage = function(event) {
            var handle = event.data;
            runIfPresent(handle);
        };

        registerImmediate = function(handle) {
            channel.port2.postMessage(handle);
        };
    }

    function installReadyStateChangeImplementation() {
        var html = doc.documentElement;
        registerImmediate = function(handle) {
            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted
            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.
            var script = doc.createElement("script");
            script.onreadystatechange = function () {
                runIfPresent(handle);
                script.onreadystatechange = null;
                html.removeChild(script);
                script = null;
            };
            html.appendChild(script);
        };
    }

    function installSetTimeoutImplementation() {
        registerImmediate = function(handle) {
            setTimeout(runIfPresent, 0, handle);
        };
    }

    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.
    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);
    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;

    // Don't get fooled by e.g. browserify environments.
    if ({}.toString.call(global.process) === "[object process]") {
        // For Node.js before 0.9
        installNextTickImplementation();

    } else if (canUsePostMessage()) {
        // For non-IE10 modern browsers
        installPostMessageImplementation();

    } else if (global.MessageChannel) {
        // For web workers, where supported
        installMessageChannelImplementation();

    } else if (doc && "onreadystatechange" in doc.createElement("script")) {
        // For IE 6â8
        installReadyStateChangeImplementation();

    } else {
        // For older browsers
        installSetTimeoutImplementation();
    }

    attachTo.setImmediate = setImmediate;
    attachTo.clearImmediate = clearImmediate;
}(typeof self === "undefined" ? typeof global === "undefined" ? this : global : self));

/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(7), __webpack_require__(11)))

/***/ }),
/* 11 */
/***/ (function(module, exports) {

// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };


/***/ }),
/* 12 */
/***/ (function(module, exports) {


$(document).ready(function() {


    /* login form */
    $('#submitLogin').click(function(event) {
      event.preventDefault();
      console.log('loginClicked');

      let user = $('#userAcc').val();
      let pass = $('#userPass').val();

      let message;

      console.log('user: ', user);
      console.log('pass: ', pass);
      let request = $.ajax(
        {
          url: 'ajax/pages_ajax.php',
          type: 'GET',
          data: {
            action: 'login',
            user: user,
            pass: pass
          }
        }
      );
      
      request.done(function(data) {
        message = 'success';
        let userInfo = $.parseJSON(data);
        console.log('my success data: ', userInfo);

        switch (userInfo.userPermiso) {
          case '1': case '2':
            window.open('?controller=admin&action=index', '_self');
            break;
          case '3':
            window.open('?controller=user&action=index', '_self');
            break;
        
          default:
            window.open('?controller=pages&action=error', '_self');
            break;
        }
        
      });

      request.fail(function() {
        message = 'fail';
        window.open('?controller=pages&action=error', '_self');
      });

      request.always(function() {
        console.log('ajax message: ', message);
      });
    });


});

/***/ }),
/* 13 */
/***/ (function(module, exports, __webpack_require__) {

let swal = __webpack_require__(4);
// $(document).ready(function() {

  
    /* addNewUser form */
    $('#btnAddNewUser').click(function(event) {
      event.preventDefault();
      // console.log('addUserClicked');

      let acc     = $('#addNewUser_acc').val().toLowerCase();
      let name    = $('#addNewUser_name').val().toLowerCase().replace(/\b\w/g, function(l){ return l.toUpperCase() });
      let embId   = $('#addNewUser_embId').val();
      let pass    = $('#addNewUser_pass').val();
      let priv    = $('#addNewUser_priv').val();
      let picUrl  = $('#addNewUser_picUrl').val();
      // let picUrl  = ($('#addNewUser_picUrl').val()) ? $('#addNewUser_picUrl').val() : false ;

      let message;

      if( acc && name && (embId != 0) && pass && (priv != 0)) {

      } else {
        swal({
          title: "Ups...",
          text: "Falta llenar algunos datos",
          icon: "error",
        });
        return;
      }

      // console.log('acc: ', acc);
      // console.log('name: ', name );
      // console.log('embId: ', embId);
      // console.log('pass: ', pass);
      // console.log('priv: ', priv);
      // console.log('picUrl: ', picUrl);

      
      let request = $.ajax(
        {
          url: 'ajax/admin_ajax.php',
          type: 'GET',
          data: {
            action: 'addNewUser',
            acc: acc,
            name: name,
            embId: embId,
            pass: pass,
            priv: priv,
            picUrl: picUrl,
          }
        }
      );
      
      request.done(function(data) {
        message = 'success';
        let resp = $.parseJSON(data); // response
        $('#addNewUser_acc').val('');
        $('#addNewUser_name').val('');
        $('#addNewUser_embId').val(0);
        $('#addNewUser_pass').val('');
        $('#addNewUser_priv').val(0);
        $('#addNewUser_picUrl').val('');

        // console.log('In success > type ofresp: ',typeof resp);
        // console.log('In success > resp: ', resp);

        if( !resp.error ){
          if( resp.exists ){
            // ya existe user
            swal({
              title: "Â¡Lo sentimos!",
              text: resp.errorMsg,
              icon: "error",
            });
          } else {
            // succes se agrego
            swal({
              title: "Â¡Listo!",
              text: resp.successMsg,
              icon: "success",
            });
          }
        } else {
          // if data = success
          swal({
            title: "Â¡Lo sentimos!",
            text: resp.errorMsg,
            icon: "error",
          });
        }

      });

      request.fail(function() {
        message = 'fail';
        // window.open('?controller=pages&action=error', '_self');
      });

      request.always(function() {
        // console.log('ajax message: ', message);
      });

    });




    /* addNewUSer cancel */
    $('#btnAddNewUserCancel').click(function(event) {
      event.preventDefault();

      swal({
        title: "Â¿Deseas cancelar?",
        text: "Se borraran los datos en pantalla",
        icon: "warning",
        buttons: true,
        dangerMode: true,
      })
      .then((willDelete) => {
        if (willDelete) {
          $('#addNewUser_acc').val('');
          $('#addNewUser_name').val('');
          $('#addNewUser_embId').val(0);
          $('#addNewUser_pass').val('');
          $('#addNewUser_priv').val(0);
          $('#addNewUser_picUrl').val('');
        }
      });
    });


    /* Ajax load */
    
    $(this).ajaxStart(function () {
      // $loading.show();
      $('#addNewUser_loader').removeClass('hide');
      console.log(' --- ajax Started --- ');
    })
    $(this).ajaxStop(function () {
      $('#addNewUser_loader').addClass('hide');
      console.log(' --- ajax ended --- ');
    });


// });

/***/ }),
/* 14 */
/***/ (function(module, exports) {

    
$(document).ready(function() {
  
  let touchtime = 0;

  /* addNewUser form */
  $('.order-row').click(function(event) {
    event.preventDefault();
    // console.log('email data: ', $(this).data('email')) ;
    console.log('select options: ', $('#pedido_detalle_estatus > option') );
    $('#pedido_detalle_estatus > option').each(function(opt){
      // opt.attr('disabled');
      console.log('option: ', opt );
      
    })
    if (touchtime == 0) {
      // set first click
      touchtime = new Date().getTime();
    } else {
      // compare first click to this click and see if they occurred within double click threshold
      if (((new Date().getTime()) - touchtime) < 500) {
        console.log('order.data: ', $(this).data()) ;
        let order = $(this).data();
        $('#pedido_detalle_nombre')   .text(order.nombre);
        $('#pedido_detalle_email')    .text(order.email);
        $('#pedido_detalle_numOrden') .text(order.numOrden);
        $('#pedido_detalle_fecha')    .text(order.fecha);
        $('#pedido_detalle_estatus')  .val(order.estatus);
        $('#pedido_detalle_title')    .text( order.numOrden + ' - ' + order.nombre);


        $('#pedido_detalle_estatus > option').each(function(){
          if( $(this).val() < order.estatus ){
            $(this).attr('disabled', 'disabled');
            console.log('option: ', this);
          }
        });
    
        $('#modal-order-detail').modal('show');
        touchtime = 0;
        } else {
            // not a double click so set as a new first click
            touchtime = new Date().getTime();
        }
    }
    
  });

  $('#testBtn').click(function() {
    console.log('clicked for the win');
    console.log('val: ', $('#pedido_detalle_test').text());

    $('#pedido_detalle_test').text('win');
  });


  /* Ajax load */
  
  $(this).ajaxStart(function () {
    // $loading.show();
    $('#addNewUser_loader').removeClass('hide');
    // console.log(' --- ajax Started --- ');
  })
  $(this).ajaxStop(function () {
    $('#addNewUser_loader').addClass('hide');
    // console.log(' --- ajax ended --- ');
  });


});

/***/ }),
/* 15 */
/***/ (function(module, exports) {



/***/ }),
/* 16 */
/***/ (function(module, exports) {



/***/ }),
/* 17 */
/***/ (function(module, exports, __webpack_require__) {

let userGlobal = __webpack_require__(0);
let userColors = __webpack_require__(2);  
let userModels = __webpack_require__(5);  
let userPreview = __webpack_require__(3);
let scroll = __webpack_require__(1);

// $(document).ready(function() {

  /* talla option */
  $('#user_talla').change(function(event) {
    event.preventDefault();
    // if user_Talla slicer or select option changes
    // console.log('Value changed');

    // clean checked models
    $('.model-option').find('i').removeClass('fa-check');
    $('.model-option').removeClass('model-checked');
    $('.model-option').removeClass('hm-black-light');

    // clean checked color
    $('.color-option').find('i').removeClass('fa-check');
    $('.color-option').removeClass('color-checked');

    
    console.log( `talla[${$('#user_talla option:selected').text()}] value: ${$(this).val()}` );

    let talla = $('#user_talla').val();
    userGlobal.tallaSelected = talla;

    let request = $.ajax(
      {
        url: 'ajax/user_ajax.php',
        type: 'GET',
        data: {
          action: 'getAvailableShoes',
          talla: talla
        }
      }
    );
    
    request.done(function(data) {
      message = 'success';
      // console.log('userTalla.data => ', data);
      let res = $.parseJSON(data); // response
      let cat = [];
      // console.log('request.done => ', res);

      if( res.error ){
        swal({
          title: "Â¡Lo sentimos!",
          text: 'No se accedio al catalogo correctamente', //res.errorMsg
          icon: "error"
        });
      } else {
        /** Data structure
         * [ 
         *   { 
         *     model: 1, 
         *     colors: [1,2,3], 
         *     precios: [100,100,150] 
         *   }, 
         *   { 
         *     model: 2, 
         *     colors: [1,3,4], 
         *     precios: [100,100,100] 
         *   } 
         * ] 
         */
        
        res.result.map(function(row) {
          let modelHasBeenAdded = false;
          let modelArrIndex;
          cat.forEach((option, index) => { // option
            if( option.model == row.YSC_ModeloId ){ 
              modelArrIndex = index;
              modelHasBeenAdded = true; 
            }
          })
          if( modelHasBeenAdded ){
            cat[modelArrIndex].colors.push(row.YSC_ColorId);
            cat[modelArrIndex].precios.push(row.YSC_Precio);
          } else {
            cat.push({
              model: row.YSC_ModeloId,
              colors: [row.YSC_ColorId],
              precios: [row.YSC_Precio]
            });
          }
          modelHasBeenAdded = false;
        });
        // console.log('cat: ', cat);
      }

      // userGlobal.modelsFiltered = cat;
      if(cat.length > 0){
        userGlobal.catFiltered = cat;
        userModels.hideModelMsg();
      } else {
        userGlobal.catFiltered = [];
        userModels.showModelMsg('No se encontro ningun modelo.');
        
      }

      userModels.filterModels();
      unsetModelChecked();
      userColors.resetColors();
      userPreview.hidePreview();
      userPreview.showPreviewMsg('* Seleccione un modelo <br>* Seleccione un color');
      scroll.smoothScrollTo('section','_models')
    });

    request.fail(function() {
      message = 'fail';
      // window.open('?controller=pages&action=error', '_self');
    });

    request.always(function() {
      console.log('ajax message: ', message);
    });
    

  });

  

  function getColors(modelObj) {
    // returns array of colors' id available for that model
    // [1,2,3,4]
    return modelObj.colors;
    // let arrColorsId = [];
    // modelsObjArr.forEach(function(color) {
    //   arrColorsId.push( parseInt(modelAvlb.color) );
    // });
    // return arrColorsId;
  }

  function unsetModelChecked() {
    userGlobal.modelChecked = undefined;
  }



  // With JQuery
  // $('#user_tallaSlider').slider({
  //   formatter: function(value) {
  //     return 'Talla: ' + (value+10);
  //   }
  // });

  // Without JQuery
  // var slider = new Slider('#user_tallaSlider', {
  //   formatter: function(value) {
  //     return 'Current value: ' + value;
  //   }
  // });

// }); // /document

/***/ }),
/* 18 */
/***/ (function(module, exports) {


$('#user_place_order_email').click(function(event) {
  event.preventDefault();

  let username = $('#user_info_name').val();    // Ricardo Lara
  let useremail = $('#user_info_email').val();  // alejandro.elara@live.com

  // validate email >> if email == valid
  
  if( useremail.length < 5 && useremail.length < 5){
    swal({
      title: "Ups",
      text: 'Ingrese su correo, nombre y apellido', // res.errorMsg
      icon: "error"
    });
  } else {
    // build order
    let dt = new Date();
    let date = dt.getFullYear().toString().substr(-2);   
    date += ('0' + (dt.getMonth()+1).toString()).slice(-2); // January is 0, February is 1, and so on. + 1
    date += ('0' + dt.getDate().toString()).slice(-2);

    //'1-180222-001' = embId(get it in php) - 2018 Feb 22 - consecutivo(este ultimo se inyecta en php)
    let dataPedido = {
      numeroOrden: date,
      nombre: username,
      email: useremail,
      cantidadPares: 0,
      total: 0.0,
      detail: []
    };

    // detalExample = [
    //   {
    //     modelo: 2,
    //     talla: 1,
    //     color: 2,
    //     precioUnitario: 150,
    //     cantidad: 2
    //   },
    //   {
    //     modelo: 1,
    //     talla: 2,
    //     color: 1,
    //     precioUnitario: 100.5,
    //     cantidad: 1
    //   }
    // ];

    let pedidosItems = $('.user-pedido-item');
    for (let i = 0; i < pedidosItems.length; i++) {
      let pedidoItem = $(pedidosItems[i]).data();
      dataPedido.cantidadPares += parseInt(pedidoItem.pedidoCantidadPares);
      dataPedido.total += parseFloat(pedidoItem.pedidoPrecioUnitario) * parseInt(pedidoItem.pedidoCantidadPares);


      dataPedido.detail.push({
        modelo: pedidoItem.pedidoModeloId,
        talla: pedidoItem.pedidoTallaId ,
        color: pedidoItem.pedidoColorId ,
        precioUnitario: pedidoItem.pedidoPrecioUnitario ,
        cantidad: pedidoItem.pedidoCantidadPares,
        subtotal: pedidoItem.pedidoSubtotal
      });
      // console.log(pedidoItem);
    }
    // console.log('total $:', dataPedido.total);
    // console.log('total n:', dataPedido.cantidadPares);


    // console.log('dataPedido:', dataPedido);
    console.log('dataPedido to json:', JSON.stringify(dataPedido));
    /** 
     * elements to add in server side 
     *  - pedidoFecha
     *  - pedidoEstatus
     *  - pedidoEmbajadorId
     *  - confirmado
     */
    $('#user_place_order_email').find('i').removeClass('fa-paper-plane-o').addClass('fa-refresh fa-spin');
    // ajax call to get email
    let request = $.ajax(
      {
        type: 'GET',
        url: 'ajax/email_ajax_server.php', // for the server
        // url: 'ajax/email_ajax.php', // for local
        data: {
          action: 'placeOrder',
          dataPedido: JSON.stringify(dataPedido)
        }
      }
    );
    
    request.done(function(data) {
      message = 'success';
      let resp = $.parseJSON(data); // response
      console.log('###### resp ', resp);

      if(!resp.error){
        swal({
          title: 'Â¡Listo!',
          text: resp.successMsg,
          icon: "success"
        }).then(() => {
          window.open(`?controller=user&action=comprobante&numOrden=${resp.numOrden}&nombre=${resp.nombre}&email=${resp.email}&numOrden=${resp.numOrden}&cantidadPares=${resp.cantidadPares}&total=${resp.total}&embPointer=${resp.embPointer}&detail=${JSON.stringify(resp.detail)}`
          , '_self');
        });

      } else {
        swal({
          title: 'Ups',
          text: resp.errorMsg,
          icon: 'error'
        });
      }
      
    });
  
    request.fail(function() {
      message = 'fail';
      // window.open('?controller=pages&action=error', '_self');
    });
  
    request.always(function() {
      console.log('ajax email status: ', message);
      $('#user_place_order_email').find('i').removeClass('fa-refresh fa-spin').addClass('fa-paper-plane-o');
      // console.log('end of email ajax call');
    });
  }


});


$('#user_comprobante_btn').click(function() {
  // let newWin =  new windoe($('#user_comprobante'));
  window.print();
  // var divToPrint=document.getElementById('user_comprobante');

  // var newWin = window.open('','Print-Window');

  // newWin.document.open();

  // newWin.document.write('<html><body onload="window.print()">'+divToPrint.innerHTML+'</body></html>');

  // newWin.document.close();

  // setTimeout(function(){newWin.close();},10);
});

/***/ })
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgMjliYWNhY2I5ODBiMThkYmI4N2EiLCJ3ZWJwYWNrOi8vLy4vdmlld3MvYXNzZXRzL2pzL2FqYXhfc2NyaXB0cy91c2VyX2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi92aWV3cy9hc3NldHMvanMvYWpheF9zY3JpcHRzL3BhZ2VzX3Njcm9sbC5qcyIsIndlYnBhY2s6Ly8vLi92aWV3cy9hc3NldHMvanMvYWpheF9zY3JpcHRzL3VzZXJfY29sb3JzLmpzIiwid2VicGFjazovLy8uL3ZpZXdzL2Fzc2V0cy9qcy9hamF4X3NjcmlwdHMvdXNlcl9wcmV2aWV3LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zd2VldGFsZXJ0L2Rpc3Qvc3dlZXRhbGVydC5taW4uanMiLCJ3ZWJwYWNrOi8vLy4vdmlld3MvYXNzZXRzL2pzL2FqYXhfc2NyaXB0cy91c2VyX21vZGVscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGltZXJzLWJyb3dzZXJpZnkvbWFpbi5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovLy8uL3ZpZXdzL2Fzc2V0cy9qcy9hamF4X3NjcmlwdHMvdXNlcl9jYXJyaXRvLmpzIiwid2VicGFjazovLy8uL3ZpZXdzL2Fzc2V0cy9qcy9zY3JpcHRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zZXRpbW1lZGlhdGUvc2V0SW1tZWRpYXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vdmlld3MvYXNzZXRzL2pzL2FqYXhfc2NyaXB0cy9wYWdlc19sb2dpbi5qcyIsIndlYnBhY2s6Ly8vLi92aWV3cy9hc3NldHMvanMvYWpheF9zY3JpcHRzL2FkbWluX2FkZFVzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vdmlld3MvYXNzZXRzL2pzL2FqYXhfc2NyaXB0cy9hZG1pbl9wZWRpZG9zLmpzIiwid2VicGFjazovLy8uL3ZpZXdzL2Fzc2V0cy9qcy9hamF4X3NjcmlwdHMvdXNlcl90YWxsYS5qcyIsIndlYnBhY2s6Ly8vLi92aWV3cy9hc3NldHMvanMvYWpheF9zY3JpcHRzL3VzZXJfc2VuZEVtYWlsLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbUNBQTJCLDBCQUEwQixFQUFFO0FBQ3ZELHlDQUFpQyxlQUFlO0FBQ2hEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDhEQUFzRCwrREFBK0Q7O0FBRXJIO0FBQ0E7O0FBRUE7QUFDQTs7Ozs7OztBQzdEQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEM7Ozs7OztBQ3JEQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSwwQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMs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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDBDQUEwQyxzQkFBc0IsRUFBRTtBQUNsRTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7Ozs7Ozs7QUN6TEQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHFDQUFxQzs7QUFFckM7QUFDQTtBQUNBOztBQUVBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsVUFBVTs7Ozs7Ozs7QUN0THRDOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtB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Q0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUEsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOzs7QUFHQSxDQUFDOzs7QUFHRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQSwyQkFBMkIsZ0JBQWdCO0FBQzNDLENBQUMsRSIsImZpbGUiOiJzY3JpcHRzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDkpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIDI5YmFjYWNiOTgwYjE4ZGJiODdhIiwibGV0IGFsbENhdDtcblxuXG5sZXQgY29sb3JzO1xubGV0IGNvbG9yc0ZpbHRlcmVkO1xuXG4vLyBhbGxDb2xvcnNPcHRpb25zXG4vLyBjb2xvcnNBdmFpbGFiZVxuXG5sZXQgY2F0O1xuLy8gbGV0IGNhdEZpbHRlcmVkID0gW1xuLy8gICB7XG4vLyAgICAgbW9kZWw6IFwiMVwiLFxuLy8gICAgIGNvbG9yczogWycxJywnMicsJzMnXSxcbi8vICAgICBwcmVjaW9zOiBbJzEwMC4wMCcsICcxNTAuMDAnLCAnMjAwLjAwJ11cbi8vICAgfSxcbi8vICAge1xuLy8gICAgIG1vZGVsOiBcIjJcIixcbi8vICAgICBjb2xvcnM6IFsnMScsJzInXSxcbi8vICAgICBwcmVjaW9zOiBbJzEwMC4wMCcsICcxNTAuMDAnXVxuLy8gICB9LFxuLy8gICB7XG4vLyAgICAgbW9kZWw6IFwiM1wiLFxuLy8gICAgIGNvbG9yczogWycxJ10sXG4vLyAgICAgcHJlY2lvczogWycxMDAuMDAnXVxuLy8gICB9LFxuLy8gICB7XG4vLyAgICAgbW9kZWw6IFwiNFwiLFxuLy8gICAgIGNvbG9yczogWyczJ10sXG4vLyAgICAgcHJlY2lvczogWycxNTAnXVxuLy8gICB9XG4vLyBdO1xubGV0IGNhdEZpbHRlcmVkID0gW107XG5cbmxldCBtb2RlbHM7XG5sZXQgbW9kZWxzRmlsdGVyZWQgPSBbXTtcblxubGV0IG1vZGVsQ2hlY2tlZCA9IHVuZGVmaW5lZDtcbmxldCBjb2xvckNoZWNrZWQgPSB1bmRlZmluZWQ7XG5cbmxldCB0YWxsYVNlbGVjdGVkID0gdW5kZWZpbmVkO1xuLy8gYWxsTW9kZWxzT3B0aW9uc1xuLy8gbW9kZWxzQXZhaWxhYmVcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGNhdEZpbHRlcmVkLFxuICBjb2xvcnMsXG4gIGNvbG9yc0ZpbHRlcmVkLFxuICBjb2xvckNoZWNrZWQsXG4gIG1vZGVscyxcbiAgbW9kZWxzRmlsdGVyZWQsXG4gIG1vZGVsQ2hlY2tlZCxcbiAgdGFsbGFTZWxlY3RlZFxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vdmlld3MvYXNzZXRzL2pzL2FqYXhfc2NyaXB0cy91c2VyX2dsb2JhbC5qc1xuLy8gbW9kdWxlIGlkID0gMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyAgQWRkIHNtb290aCB0cmFuc2l0aW9uIG9uIGNoYW5naW5nIGxpbmtzXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgc21vb3RoU2Nyb2xsVG9cbn07XG5cbiAgJCgnLm5hdi1pdGVtJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgJCgnLm5hdi1pdGVtJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICB9KTtcblxuICQoJ2FbaHJlZl49XCIjX1wiXScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAvL2FsZXJ0KCdvbiBzbW9vdGgnKTtcbiAgIHZhciB0YXJnZXQgPSAkKCAkKHRoaXMpLmF0dHIoJ2hyZWYnKSApOyAgICAgIFxuICAgdmFyIGRpc3QgPSB0YXJnZXQub2Zmc2V0KCkudG9wIC0gMTAwO1xuXG4gICBpZih0YXJnZXQubGVuZ3RoKSB7XG4gICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtcbiAgICAgICBzY3JvbGxUb3A6IGRpc3RcbiAgICAgfSwgNTAwKTtcbiAgIH1cbiAgIC8vICQoJyNtZW51QnRuJykuYWRkQ2xhc3MoJ2NvbGxhcHNlJyk7XG4gICAkKCcjbmF2YmFyU3VwcG9ydGVkQ29udGVudCcpLnJlbW92ZUNsYXNzKCdzaG93Jyk7XG4gfSk7XG5cbiBmdW5jdGlvbiBzbW9vdGhTY3JvbGxUbyhlbGVtZW50LCB0YXJnZXROYW1lKXtcbiAgdmFyIHRhcmdldDtcbiAgc3dpdGNoIChlbGVtZW50KSB7XG4gICAgY2FzZSAnc2VjdGlvbic6XG4gICAgICB0YXJnZXQgPSAkKGBzZWN0aW9uW2lkXj1cIiR7dGFyZ2V0TmFtZX1cIl1gKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2EnOlxuICAgICAgdGFyZ2V0ID0gJChgYVtocmVmXj1cIiR7dGFyZ2V0TmFtZX1cIl1gKTtcbiAgICAgIGJyZWFrO1xuICBcbiAgICBkZWZhdWx0OlxuICAgICAgYnJlYWs7XG4gIH1cbiAgIGxldCBkaXN0ID0gdGFyZ2V0Lm9mZnNldCgpLnRvcCAtIDEwMDtcbiAgIGxldCB0aW1lID0gKGRpc3QgKyAxMDAuMCkgLyAoMjUwLjAvMTUwLjApO1xuICAvLyAgY29uc29sZS5sb2coJyMjIyMjIyMjIyBESVNUID4nICxkaXN0KTtcbiAgLy8gIGNvbnNvbGUubG9nKCcjIyMjIyMjIyMgVElNRSA+JyAsdGltZSk7XG4gICBpZih0YXJnZXQubGVuZ3RoKSB7XG4gICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtcbiAgICAgICBzY3JvbGxUb3A6IGRpc3RcbiAgICAgfSwgdGltZSk7XG4gICB9XG4gfVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vdmlld3MvYXNzZXRzL2pzL2FqYXhfc2NyaXB0cy9wYWdlc19zY3JvbGwuanNcbi8vIG1vZHVsZSBpZCA9IDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSB7XG4gIHJlbmRlckZpbHRlcmVkQ29sb3JzLFxuICBjbGVhckNoZWNrZWRDb2xvcixcbiAgcmVzZXRDb2xvcnMsXG4gIGNvbG9yVGVzdFxufTtcblxubGV0IHN3YWwgPSAgcmVxdWlyZSgnc3dlZXRhbGVydCcpO1xubGV0IHVzZXJHbG9iYWwgPSByZXF1aXJlKCcuL3VzZXJfZ2xvYmFsLmpzJyk7XG5sZXQgdXNlclByZXZpZXcgPSByZXF1aXJlKCcuL3VzZXJfcHJldmlldy5qcycpO1xubGV0IHNjcm9sbCA9IHJlcXVpcmUoJy4vcGFnZXNfc2Nyb2xsLmpzJyk7XG5cbiAgLyogY29sb3Igb3B0aW9uIGNzcyAqL1xuICAkKCcuY29sb3Itb3B0aW9uJykub24oJ2NsaWNrJyxmdW5jdGlvbihldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgLy8gJCgnLmNvbG9yLW9wdGlvbj4udmlldz4ubWFzaz5pJykucmVtb3ZlQ2xhc3MoJ2ZhLWNoZWNrJyk7XG4gICAgY2xlYXJDaGVja2VkQ29sb3IoKTtcbiAgICB1c2VyR2xvYmFsLmNvbG9yQ2hlY2tlZCA9IHVuZGVmaW5lZDtcblxuICAgIGNvbnNvbGUubG9nKCdnbG9iYWwubW9kZWxjaGVja2VkICcsIHVzZXJHbG9iYWwubW9kZWxDaGVja2VkICk7XG4gICAgaWYodXNlckdsb2JhbC5tb2RlbENoZWNrZWQpe1xuICAgICAgJCh0aGlzKS5maW5kKCdpJykuYWRkQ2xhc3MoJ2ZhLWNoZWNrJyk7XG4gICAgICAkKHRoaXMpLmFkZENsYXNzKCdjb2xvci1jaGVja2VkJyk7XG4gICAgICB1c2VyR2xvYmFsLmNvbG9yQ2hlY2tlZCA9ICQodGhpcykuZGF0YSgpO1xuICAgICAgdXNlclByZXZpZXcuaGlkZVByZXZpZXdNc2coKTtcbiAgICAgIHVzZXJQcmV2aWV3LmNyZWF0ZVByZXZpZXcoKTtcbiAgICAgIHNjcm9sbC5zbW9vdGhTY3JvbGxUbygnc2VjdGlvbicsICdfdXNlcl9wcmV2aWV3Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3YWwoe1xuICAgICAgICB0aXRsZTogXCJVcHNcIixcbiAgICAgICAgdGV4dDogJ1NlbGVjY2lvbmUgdW4gbW9kZWxvJywgLy9yZXMuZXJyb3JNc2dcbiAgICAgICAgaWNvbjogXCJlcnJvclwiXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGNsZWFyQ2hlY2tlZENvbG9yKCkge1xuICAgIC8vICQoJy5jb2xvci1vcHRpb24+LnZpZXc+Lm1hc2s+aScpLnJlbW92ZUNsYXNzKCdmYS1jaGVjaycpO1xuICAgIHVzZXJHbG9iYWwuY29sb3JDaGVja2VkID0gdW5kZWZpbmVkO1xuICAgICQoJy5jb2xvci1vcHRpb24nKS5maW5kKCdpJykucmVtb3ZlQ2xhc3MoJ2ZhLWNoZWNrJyk7XG4gICAgJCgnLmNvbG9yLW9wdGlvbicpLnJlbW92ZUNsYXNzKCdjb2xvci1jaGVja2VkJyk7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIHJlbmRlckZpbHRlcmVkQ29sb3JzKG1vZGVsQ2hlY2tlZCkgeyAvLyBmaWx0ZXJlZC9hdmFpbGFibGUgY29sb3JzIGZvciBhIHNlbGVjdGVkIE1vZGVsXG5cbiAgICAvLyBtb2RlbENoZWNrZWQgPSAkKG1vZGVsQ2hlY2tlZFswXSkuZGF0YSgpO1xuICAgIC8vIGNvbnNvbGUubG9nKCdtb2RlbC1jaGVja2VkLmRhdGEoKTogJywgbW9kZWxDaGVja2VkKTtcbiAgICAkKCcjY29sb3ItY29udGFpbmVyLW1lc3NhZ2UnKS5hZGRDbGFzcygnZC1ub25lJyk7XG5cbiAgICAvLyBpZiBtb2RlbHMgZXhpc3QgZm9yIGNlcnRhaW4gc2l6ZVxuICAgIGlmKCB1c2VyR2xvYmFsLmNhdEZpbHRlcmVkICl7XG4gICAgICBcbiAgICAgIGZvciggbGV0IGogPSAwOyBqIDwgdXNlckdsb2JhbC5jYXRGaWx0ZXJlZC5sZW5ndGg7IGorKyl7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGBjYXRGaWx0ZXJlZFske2p9XSAke3VzZXJHbG9iYWwuY2F0RmlsdGVyZWRbal0ubW9kZWx9ID09IG1vZGVsQ2hlY2tlZC5jYXJkTW9kZWxJZCAke21vZGVsQ2hlY2tlZC5jYXJkTW9kZWxJZH1gICk7XG4gICAgICAgIGlmKHVzZXJHbG9iYWwuY2F0RmlsdGVyZWRbal0ubW9kZWwgPT0gbW9kZWxDaGVja2VkLmNhcmRNb2RlbElkICl7XG4gICAgICAgICAgdXNlckdsb2JhbC5jb2xvcnNGaWx0ZXJlZCA9IHVzZXJHbG9iYWwuY2F0RmlsdGVyZWRbal0uY29sb3JzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdnbG9iYWwgbW9kZWxzIGxvb3AnLCB1c2VyR2xvYmFsLmNhdEZpbHRlcmVkW2ldKTtcbiAgICAgIH1cblxuICAgICAgbGV0IGNvbG9yc09iaiA9ICQoJy5jb2xvci1vcHRpb24nKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCAnY29sb3JzT2JqOicsIGNvbG9yc09iaik7ICBcbiAgICAgIC8vIGNvbnNvbGUubG9nKCAnY29sb3JzRmlsdGVyZWQ6JywgdXNlckdsb2JhbC5jb2xvcnNGaWx0ZXJlZCk7XG4gICAgICAvLyBsb29wIHRocm91Z2ggY29sb3JzT2JqZWN0XG4gICAgICBmb3IoIGxldCBpID0gMDsgaSA8IGNvbG9yc09iai5sZW5ndGggOyBpKysgKXtcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2NvbG9yc09ialtpXScsIGNvbG9yc09ialtpXSk7IGNvbnNvbGUubG9nKCckKGNvbG9yKS5kYXRhKCknLCAkKGNvbG9yKS5kYXRhKCkpO1xuICAgICAgICBsZXQgY29sb3IgPSBjb2xvcnNPYmpbaV07IC8vIGNvbG9yIG9wdGlvblxuICAgICAgICBsZXQgY29sb3JEYXRhID0gJChjb2xvcikuZGF0YSgpIDsgLy8gY29sb3JJZCBjb2xvck5hbWVcbiAgICAgICAgLy8gY29uc29sZS5sb2coIGBjb2xvcjogJHtjb2xvckRhdGEuY29sb3JJZH0gaXMgaW4gJHt1c2VyR2xvYmFsLmNvbG9yc0ZpbHRlcmVkfTogJHtjb2xvckRhdGEuY29sb3JOYW1lfWApOyAgXG5cbiAgICAgICAgaWYoICQuaW5BcnJheSggU3RyaW5nKGNvbG9yRGF0YS5jb2xvcklkKSwgdXNlckdsb2JhbC5jb2xvcnNGaWx0ZXJlZCkgPiAtMSl7XG4gICAgICAgICAgJChjb2xvcikucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGNvbG9yIG9wdGlvbiBpcyBub3QgYXZhaWxhYmxlIGZvciB0aGF0IG1vZGVsXG4gICAgICAgICAgJChjb2xvcikuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xuICAgICAgICB9XG5cbiAgICAgIH1cbiAgICAgIFxuXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHVzZXJHbG9iYWwubW9kZWxzRml0ZXJlZCBkb2VzIG5vdCBleGlzdCwgYXNrIHVzZXIgdG8gc2VsZWN0IGEgc2l6ZSBhbmQgdW5jaGVjayB0aGUgbW9kZWxcbiAgICAgIHN3YWwoe1xuICAgICAgICB0aXRsZTogXCJVcHNcIixcbiAgICAgICAgdGV4dDogJ1NlbGVjY2lvbmUgdW5hIHRhbGxhJywgLy8gcmVzLmVycm9yTXNnXG4gICAgICAgIGljb246IFwiZXJyb3JcIlxuICAgICAgfSk7XG4gICAgfVxuICAgIFxuICB9IC8vICAvcmVuZGVyRmlsdGVyZWRDb2xvcnMoKVxuXG4gIGZ1bmN0aW9uIHJlc2V0Q29sb3JzKCkge1xuICAgIC8vIGRlc2NyaXB0aW9uIFNob3dzIGFsbCBjb2xvcnMgYXZhaWxhYmUgaW4gdGhlIERPTVxuICAgIGNvbnNvbGUubG9nKCdyZXNldENvbG9ycyBjYWxsZWQnKTtcbiAgICAkKCcuY29sb3Itb3B0aW9uJykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xuICB9IC8vICAvcmVzZXRDb2xvcnMoKVxuXG4gIGZ1bmN0aW9uIGNvbG9yVGVzdCgpIHtcbiAgICBjb25zb2xlLmxvZygnY29sb3JUZXN0IGNhbGxlZCcpO1xuICB9IC8vICAvcmVzZXRDb2xvcnMoKVxuXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3ZpZXdzL2Fzc2V0cy9qcy9hamF4X3NjcmlwdHMvdXNlcl9jb2xvcnMuanNcbi8vIG1vZHVsZSBpZCA9IDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSB7XG4gIGNyZWF0ZVByZXZpZXcsXG4gIGhpZGVQcmV2aWV3LFxuICB1cGRhdGVTdWJ0b3RhbCxcbiAgc2hvd1ByZXZpZXdNc2csXG4gIGhpZGVQcmV2aWV3TXNnLFxufTtcblxubGV0IHVzZXJHbG9iYWwgPSByZXF1aXJlKCcuL3VzZXJfZ2xvYmFsLmpzJyk7XG5sZXQgdXNlckNvbG9ycyA9IHJlcXVpcmUoJy4vdXNlcl9jb2xvcnMuanMnKTtcbmxldCB1c2VyQ2Fycml0byA9IHJlcXVpcmUoJy4vdXNlcl9jYXJyaXRvLmpzJyk7XG5sZXQgdXNlck1vZGVscyA9IHJlcXVpcmUoJy4vdXNlcl9tb2RlbHMuanMnKTtcbmxldCBzY3JvbGwgPSByZXF1aXJlKCcuL3BhZ2VzX3Njcm9sbC5qcycpO1xuXG5cbiQoJyN1c2VyX3ByZXZfYWRkUGFpcicpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICBjaGFuZ2VQYWlycygnYWRkJyk7XG59KTtcblxuJCgnI3VzZXJfcHJldl9zdWJzUGFpcicpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICBjaGFuZ2VQYWlycygnc3ViJyk7XG59KTtcblxuJCgnI3VzZXJfcHJldl9idG5BZGRDYXJkJykuY2xpY2soZnVuY3Rpb24oKSB7XG4gIC8vIGNvbnNvbGUubG9nKCd1c2VyQ2Fycml0byBpbiBwcmV2aWV3JywgdXNlckNhcnJpdG8pO1xuICB1c2VyQ2Fycml0by5hZGRJdGVtVG9DYXJkKCk7XG4gIHVzZXJNb2RlbHMuY2xlYXJDaGVja2VkTW9kZWwoKTsgXG4gIHVzZXJDb2xvcnMuY2xlYXJDaGVja2VkQ29sb3IoKTtcbiAgc2Nyb2xsLnNtb290aFNjcm9sbFRvKCdzZWN0aW9uJywnX2NhcnJpdG8nKTtcblxuICBzaG93UHJldmlld01zZygnKiBTZWxlY2Npb25hciB1biBtb2RlbG88YnI+KiBTZWxlY2Npb25hciB1biBjb2xvcicpO1xuXG59KTtcblxuXG4kKCcjdXNlcl9wcmV2X2J0bkNhbmNlbCcpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAvLyBjb25zb2xlLmxvZygndXNlckNvbG9ycyBpbiBwcmV2aWV3JywgdXNlckNvbG9ycyk7XG4gIHN3YWwoe1xuICAgIHRpdGxlOiBcIsK/RGVzZWFzIGNhbmNlbGFyP1wiLFxuICAgIHRleHQ6IFwiU2UgYm9ycmFyYW4gbG9zIGRhdG9zIGVuIHBhbnRhbGxhXCIsXG4gICAgaWNvbjogXCJ3YXJuaW5nXCIsXG4gICAgYnV0dG9uczogdHJ1ZSxcbiAgICBkYW5nZXJNb2RlOiB0cnVlLFxuICB9KVxuICAudGhlbigod2lsbERlbGV0ZSkgPT4ge1xuICAgIGlmICh3aWxsRGVsZXRlKSB7XG4gICAgICB1c2VyQ29sb3JzLmNsZWFyQ2hlY2tlZENvbG9yKCk7XG4gICAgICBoaWRlUHJldmlldygpO1xuICAgICAgc2hvd1ByZXZpZXdNc2coJyogU2VsZWNjaW9uYXIgdW4gbW9kZWxvPGJyPiogU2VsZWNjaW9uYXIgdW4gY29sb3InKTtcbiAgICB9XG4gIH0pO1xufSk7XG5cblxuXG5mdW5jdGlvbiBjaGFuZ2VQYWlycyhvcCkge1xuICBsZXQgcGFpcnMgPSAkKCcjdXNlcl9wcmV2X3BhcmVzJyk7XG4gIGxldCBwYWlyc0N1YW50aXR5ID0gcGFyc2VJbnQocGFpcnMudmFsKCkpO1xuXG4gIFxuICBpZihvcCA9PSAnYWRkJyl7XG4gICAgaWYocGFpcnNDdWFudGl0eSA8IDEwKXtcbiAgICAgIHBhaXJzLnZhbCggcGFpcnNDdWFudGl0eSArIDEgKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoIG9wID09ICdzdWInKXtcbiAgICBpZiggcGFpcnNDdWFudGl0eSA+IDEpe1xuICAgICAgcGFpcnMudmFsKCBwYWlyc0N1YW50aXR5IC0gMSApO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBhbGVydCgnbm90IGF2YWlsYWJlIG9wdGlvbiBbYWRkLCBzdWJdJyk7XG4gIH1cbiAgXG4gIHVwZGF0ZVN1YnRvdGFsKCk7XG59XG5cblxuXG5mdW5jdGlvbiB1cGRhdGVTdWJ0b3RhbCgpIHtcbiAgLy8gY29uc29sZS5sb2coJ3ByaWNlJywgcHJpY2UpOyBjb25zb2xlLmxvZygncGFpcnMnLCBwYWlycyk7XG4gIGxldCBwcmljZSA9ICQoJyN1c2VyX3ByZXZfcHJlY2lvJykudGV4dCgpO1xuICBwcmljZSA9IHBhcnNlRmxvYXQocHJpY2UpO1xuICBsZXQgcGFpcnMgPSBwYXJzZUludCgkKCcjdXNlcl9wcmV2X3BhcmVzJykudmFsKCkpO1xuICAkKCcjdXNlcl9wcmV2X3N1YnRvdGFsJykudGV4dCggcGFyc2VGbG9hdChwcmljZSAqIHBhaXJzKS50b0ZpeGVkKDIpICk7XG59XG5cblxuZnVuY3Rpb24gY3JlYXRlUHJldmlldygpIHtcbiAgY29uc29sZS5sb2coJ2NyZWF0aW5nIHByZXZpZXcnKTtcbiAgJCgnI3VzZXJfcHJldl9wYXJlcycpLnZhbCgnMScpOyAvLyByZXNldHMgdGhlIGNhbnRpZGFkIFBhcmVzXG4gIGxldCBwcmV2aWV3VGFsbGEgPSAkKCcjdXNlcl90YWxsYSBvcHRpb246c2VsZWN0ZWQnKS50ZXh0KCk7XG4gIGxldCBwcmV2aWV3VGFsbGFJZCA9ICQoJyN1c2VyX3RhbGxhIG9wdGlvbjpzZWxlY3RlZCcpLnZhbCgpO1xuICBsZXQgcHJldmlld01vZGVsID0gdXNlckdsb2JhbC5tb2RlbENoZWNrZWQ7XG4gIGxldCBwcmV2aWV3Q29sb3IgPSB1c2VyR2xvYmFsLmNvbG9yQ2hlY2tlZDtcbiAgbGV0IHByZXZpZXdQcmVjaW87XG5cbiAgbGV0IG1vZGVsU2VsZWN0ZWQgPSB1c2VyR2xvYmFsLmNhdEZpbHRlcmVkLmZpbHRlcihmdW5jdGlvbihtb2QpIHtcbiAgICByZXR1cm4gbW9kLm1vZGVsID09IHByZXZpZXdNb2RlbC5jYXJkTW9kZWxJZDtcbiAgfSlbMF07XG5cbiAgcHJldmlld1ByZWNpbyA9IG1vZGVsU2VsZWN0ZWQucHJlY2lvc1ttb2RlbFNlbGVjdGVkLmNvbG9ycy5pbmRleE9mKCBTdHJpbmcocHJldmlld0NvbG9yLmNvbG9ySWQpICldO1xuICBcbiAgLy8gY29uc29sZS5sb2coJ2NhdEZpbHRlcmVkJywgdXNlckdsb2JhbC5jYXRGaWx0ZXJlZCk7XG4gIC8vIGNvbnNvbGUubG9nKCdtb2RlbFNlbGVjdGVkJywgbW9kZWxTZWxlY3RlZCk7XG4gIC8vIGNvbnNvbGUubG9nKCdwcmV2aWV3VGFsbGEnLCBwcmV2aWV3VGFsbGEpO1xuICAvLyBjb25zb2xlLmxvZygncHJldmlld01vZGVsJywgcHJldmlld01vZGVsKTtcbiAgLy8gY29uc29sZS5sb2coJ3ByZXZpZXdDb2xvcicsIHByZXZpZXdDb2xvcik7XG4gIC8vIGNvbnNvbGUubG9nKCdwcmVjaW9zIGluZGV4JywgbW9kZWxTZWxlY3RlZC5jb2xvcnMuaW5kZXhPZiggU3RyaW5nKHByZXZpZXdDb2xvci5jb2xvcklkKSApKTtcbiAgLy8gY29uc29sZS5sb2coJ3ByZXZpZXdQcmVjaW8nLCBwcmV2aWV3UHJlY2lvKTtcbiAgXG4gIC8vIGNvbnNvbGUubG9nKCdtb2RlbENvZGUnLCBwcmV2aWV3TW9kZWwuY2FyZE1vZGVsQ29kZSk7XG4gIC8vIGNvbnNvbGUubG9nKCdjb2xvckNvZGUnLCBwcmV2aWV3Q29sb3IuY29sb3JDb2RlKTtcbiAgXG4gICQoJyN1c2VyX3ByZXZfaW1nJykuYXR0cignc3JjJywgJ21hdGVyaWFsL2NhdF9tb2RlbC8nICsgcHJldmlld01vZGVsLmNhcmRNb2RlbENvZGUudG9Mb3dlckNhc2UoKSArICctJyArIHByZXZpZXdDb2xvci5jb2xvckNvZGUudG9Mb3dlckNhc2UoKSArICcuanBnJyk7XG4gICQoJyN1c2VyX3ByZXZfbW9kZWwnKS50ZXh0KHByZXZpZXdNb2RlbC5jYXJkTW9kZWxOYW1lKTtcbiAgJCgnI3VzZXJfcHJldl9jb2xvcicpLnRleHQocHJldmlld0NvbG9yLmNvbG9yTmFtZSk7XG4gICQoJyN1c2VyX3ByZXZfdGFsbGEnKS50ZXh0KHByZXZpZXdUYWxsYSk7XG4gICQoJyN1c2VyX3ByZXZfcHJlY2lvJykudGV4dChwcmV2aWV3UHJlY2lvKTtcbiAgLy8gJCgnI3VzZXJfcHJldl8nKS50ZXh0KHByZXZpZXcpO1xuICB1cGRhdGVTdWJ0b3RhbCgpO1xuXG4gIC8vICQoJyN1c2VyX3ByZXZfY2FyZCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcbiAgcmVuZGVyUHJldmlldygpO1xufSAvLyAuY3JlYXRlUHJldmlldygpO1xuXG5mdW5jdGlvbiByZW5kZXJQcmV2aWV3KCkge1xuICAvLyAkKCcjdXNlcl9wcmV2X2NhcmQnKS5hZGRDbGFzcygnZC1ub25lJyk7XG4gICQoJyN1c2VyX3ByZXZfY2FyZCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcbiAgJCgnI3VzZXJfcHJldl9idG5zJykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xufVxuXG5mdW5jdGlvbiBoaWRlUHJldmlldygpIHtcbiAgLy8gJCgnI3VzZXJfcHJldl9jYXJkJykuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xuICAkKCcjdXNlcl9wcmV2X2NhcmQnKS5hZGRDbGFzcygnZC1ub25lJyk7XG4gICQoJyN1c2VyX3ByZXZfYnRucycpLmFkZENsYXNzKCdkLW5vbmUnKTtcbiAgLy8gdXNlckNvbG9ycy5jbGVhckNoZWNrZWRDb2xvcigpO1xuICAvLyB1c2VyTW9kZWxzLnJlc2V0TW9kZWxzKCk7IFxufVxuXG5mdW5jdGlvbiBzaG93UHJldmlld01zZyhtc2cpIHtcbiAgJCgnI3ByZXZpZXctY29udGFpbmVyLW1lc3NhZ2UnKS5maW5kKCdwJykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xuICAkKCcjcHJldmlldy1jb250YWluZXItbWVzc2FnZScpLmZpbmQoJ3AnKS5odG1sKG1zZyk7XG59XG5cbmZ1bmN0aW9uIGhpZGVQcmV2aWV3TXNnKCkge1xuICAkKCcjcHJldmlldy1jb250YWluZXItbWVzc2FnZScpLmZpbmQoJ3AnKS5hZGRDbGFzcygnZC1ub25lJyk7XG4gICQoJyNwcmV2aWV3LWNvbnRhaW5lci1tZXNzYWdlJykuZmluZCgncCcpLnRleHQoJ01lc3NhZ2UgZ29lcyBoZXJlJyk7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi92aWV3cy9hc3NldHMvanMvYWpheF9zY3JpcHRzL3VzZXJfcHJldmlldy5qc1xuLy8gbW9kdWxlIGlkID0gM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIhZnVuY3Rpb24odCxlKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSxlKTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLnN3YWw9ZSgpOnQuc3dhbD1lKCl9KHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShvKXtpZihuW29dKXJldHVybiBuW29dLmV4cG9ydHM7dmFyIHI9bltvXT17aTpvLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIHRbb10uY2FsbChyLmV4cG9ydHMscixyLmV4cG9ydHMsZSksci5sPSEwLHIuZXhwb3J0c312YXIgbj17fTtyZXR1cm4gZS5tPXQsZS5jPW4sZS5kPWZ1bmN0aW9uKHQsbixvKXtlLm8odCxuKXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbix7Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITAsZ2V0Om99KX0sZS5uPWZ1bmN0aW9uKHQpe3ZhciBuPXQmJnQuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiB0LmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIHR9O3JldHVybiBlLmQobixcImFcIixuKSxufSxlLm89ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSl9LGUucD1cIlwiLGUoZS5zPTgpfShbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPVwic3dhbC1idXR0b25cIjtlLkNMQVNTX05BTUVTPXtNT0RBTDpcInN3YWwtbW9kYWxcIixPVkVSTEFZOlwic3dhbC1vdmVybGF5XCIsU0hPV19NT0RBTDpcInN3YWwtb3ZlcmxheS0tc2hvdy1tb2RhbFwiLE1PREFMX1RJVExFOlwic3dhbC10aXRsZVwiLE1PREFMX1RFWFQ6XCJzd2FsLXRleHRcIixJQ09OOlwic3dhbC1pY29uXCIsSUNPTl9DVVNUT006XCJzd2FsLWljb24tLWN1c3RvbVwiLENPTlRFTlQ6XCJzd2FsLWNvbnRlbnRcIixGT09URVI6XCJzd2FsLWZvb3RlclwiLEJVVFRPTl9DT05UQUlORVI6XCJzd2FsLWJ1dHRvbi1jb250YWluZXJcIixCVVRUT046byxDT05GSVJNX0JVVFRPTjpvK1wiLS1jb25maXJtXCIsQ0FOQ0VMX0JVVFRPTjpvK1wiLS1jYW5jZWxcIixEQU5HRVJfQlVUVE9OOm8rXCItLWRhbmdlclwiLEJVVFRPTl9MT0FESU5HOm8rXCItLWxvYWRpbmdcIixCVVRUT05fTE9BREVSOm8rXCJfX2xvYWRlclwifSxlLmRlZmF1bHQ9ZS5DTEFTU19OQU1FU30sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuZ2V0Tm9kZT1mdW5jdGlvbih0KXt2YXIgZT1cIi5cIit0O3JldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGUpfSxlLnN0cmluZ1RvTm9kZT1mdW5jdGlvbih0KXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3JldHVybiBlLmlubmVySFRNTD10LnRyaW0oKSxlLmZpcnN0Q2hpbGR9LGUuaW5zZXJ0QWZ0ZXI9ZnVuY3Rpb24odCxlKXt2YXIgbj1lLm5leHRTaWJsaW5nO2UucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodCxuKX0sZS5yZW1vdmVOb2RlPWZ1bmN0aW9uKHQpe3QucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCh0KX0sZS50aHJvd0Vycj1mdW5jdGlvbih0KXt0aHJvdyB0PXQucmVwbGFjZSgvICsoPz0gKS9nLFwiXCIpLFwiU3dlZXRBbGVydDogXCIrKHQ9dC50cmltKCkpfSxlLmlzUGxhaW5PYmplY3Q9ZnVuY3Rpb24odCl7aWYoXCJbb2JqZWN0IE9iamVjdF1cIiE9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSlyZXR1cm4hMTt2YXIgZT1PYmplY3QuZ2V0UHJvdG90eXBlT2YodCk7cmV0dXJuIG51bGw9PT1lfHxlPT09T2JqZWN0LnByb3RvdHlwZX0sZS5vcmRpbmFsU3VmZml4T2Y9ZnVuY3Rpb24odCl7dmFyIGU9dCUxMCxuPXQlMTAwO3JldHVybiAxPT09ZSYmMTEhPT1uP3QrXCJzdFwiOjI9PT1lJiYxMiE9PW4/dCtcIm5kXCI6Mz09PWUmJjEzIT09bj90K1wicmRcIjp0K1widGhcIn19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKHQpe2Zvcih2YXIgbiBpbiB0KWUuaGFzT3duUHJvcGVydHkobil8fChlW25dPXRbbl0pfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLG8obigyNSkpO3ZhciByPW4oMjYpO2Uub3ZlcmxheU1hcmt1cD1yLmRlZmF1bHQsbyhuKDI3KSksbyhuKDI4KSksbyhuKDI5KSk7dmFyIGk9bigwKSxhPWkuZGVmYXVsdC5NT0RBTF9USVRMRSxzPWkuZGVmYXVsdC5NT0RBTF9URVhULGM9aS5kZWZhdWx0LklDT04sbD1pLmRlZmF1bHQuRk9PVEVSO2UuaWNvbk1hcmt1cD0nXFxuICA8ZGl2IGNsYXNzPVwiJytjKydcIj48L2Rpdj4nLGUudGl0bGVNYXJrdXA9J1xcbiAgPGRpdiBjbGFzcz1cIicrYSsnXCI+PC9kaXY+XFxuJyxlLnRleHRNYXJrdXA9J1xcbiAgPGRpdiBjbGFzcz1cIicrcysnXCI+PC9kaXY+JyxlLmZvb3Rlck1hcmt1cD0nXFxuICA8ZGl2IGNsYXNzPVwiJytsKydcIj48L2Rpdj5cXG4nfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89bigxKTtlLkNPTkZJUk1fS0VZPVwiY29uZmlybVwiLGUuQ0FOQ0VMX0tFWT1cImNhbmNlbFwiO3ZhciByPXt2aXNpYmxlOiEwLHRleHQ6bnVsbCx2YWx1ZTpudWxsLGNsYXNzTmFtZTpcIlwiLGNsb3NlTW9kYWw6ITB9LGk9T2JqZWN0LmFzc2lnbih7fSxyLHt2aXNpYmxlOiExLHRleHQ6XCJDYW5jZWxcIix2YWx1ZTpudWxsfSksYT1PYmplY3QuYXNzaWduKHt9LHIse3RleHQ6XCJPS1wiLHZhbHVlOiEwfSk7ZS5kZWZhdWx0QnV0dG9uTGlzdD17Y2FuY2VsOmksY29uZmlybTphfTt2YXIgcz1mdW5jdGlvbih0KXtzd2l0Y2godCl7Y2FzZSBlLkNPTkZJUk1fS0VZOnJldHVybiBhO2Nhc2UgZS5DQU5DRUxfS0VZOnJldHVybiBpO2RlZmF1bHQ6dmFyIG49dC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpO3JldHVybiBPYmplY3QuYXNzaWduKHt9LHIse3RleHQ6bix2YWx1ZTp0fSl9fSxjPWZ1bmN0aW9uKHQsZSl7dmFyIG49cyh0KTtyZXR1cm4hMD09PWU/T2JqZWN0LmFzc2lnbih7fSxuLHt2aXNpYmxlOiEwfSk6XCJzdHJpbmdcIj09dHlwZW9mIGU/T2JqZWN0LmFzc2lnbih7fSxuLHt2aXNpYmxlOiEwLHRleHQ6ZX0pOm8uaXNQbGFpbk9iamVjdChlKT9PYmplY3QuYXNzaWduKHt2aXNpYmxlOiEwfSxuLGUpOk9iamVjdC5hc3NpZ24oe30sbix7dmlzaWJsZTohMX0pfSxsPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT17fSxuPTAsbz1PYmplY3Qua2V5cyh0KTtuPG8ubGVuZ3RoO24rKyl7dmFyIHI9b1tuXSxhPXRbcl0scz1jKHIsYSk7ZVtyXT1zfXJldHVybiBlLmNhbmNlbHx8KGUuY2FuY2VsPWkpLGV9LHU9ZnVuY3Rpb24odCl7dmFyIG49e307c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDE6bltlLkNBTkNFTF9LRVldPU9iamVjdC5hc3NpZ24oe30saSx7dmlzaWJsZTohMX0pO2JyZWFrO2Nhc2UgMjpuW2UuQ0FOQ0VMX0tFWV09YyhlLkNBTkNFTF9LRVksdFswXSksbltlLkNPTkZJUk1fS0VZXT1jKGUuQ09ORklSTV9LRVksdFsxXSk7YnJlYWs7ZGVmYXVsdDpvLnRocm93RXJyKFwiSW52YWxpZCBudW1iZXIgb2YgJ2J1dHRvbnMnIGluIGFycmF5IChcIit0Lmxlbmd0aCtcIikuXFxuICAgICAgSWYgeW91IHdhbnQgbW9yZSB0aGFuIDIgYnV0dG9ucywgeW91IG5lZWQgdG8gdXNlIGFuIG9iamVjdCFcIil9cmV0dXJuIG59O2UuZ2V0QnV0dG9uTGlzdE9wdHM9ZnVuY3Rpb24odCl7dmFyIG49ZS5kZWZhdWx0QnV0dG9uTGlzdDtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdD9uW2UuQ09ORklSTV9LRVldPWMoZS5DT05GSVJNX0tFWSx0KTpBcnJheS5pc0FycmF5KHQpP249dSh0KTpvLmlzUGxhaW5PYmplY3QodCk/bj1sKHQpOiEwPT09dD9uPXUoWyEwLCEwXSk6ITE9PT10P249dShbITEsITFdKTp2b2lkIDA9PT10JiYobj1lLmRlZmF1bHRCdXR0b25MaXN0KSxufX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPW4oMSkscj1uKDIpLGk9bigwKSxhPWkuZGVmYXVsdC5NT0RBTCxzPWkuZGVmYXVsdC5PVkVSTEFZLGM9bigzMCksbD1uKDMxKSx1PW4oMzIpLGY9bigzMyk7ZS5pbmplY3RFbEludG9Nb2RhbD1mdW5jdGlvbih0KXt2YXIgZT1vLmdldE5vZGUoYSksbj1vLnN0cmluZ1RvTm9kZSh0KTtyZXR1cm4gZS5hcHBlbmRDaGlsZChuKSxufTt2YXIgZD1mdW5jdGlvbih0KXt0LmNsYXNzTmFtZT1hLHQudGV4dENvbnRlbnQ9XCJcIn0scD1mdW5jdGlvbih0LGUpe2QodCk7dmFyIG49ZS5jbGFzc05hbWU7biYmdC5jbGFzc0xpc3QuYWRkKG4pfTtlLmluaXRNb2RhbENvbnRlbnQ9ZnVuY3Rpb24odCl7dmFyIGU9by5nZXROb2RlKGEpO3AoZSx0KSxjLmRlZmF1bHQodC5pY29uKSxsLmluaXRUaXRsZSh0LnRpdGxlKSxsLmluaXRUZXh0KHQudGV4dCksZi5kZWZhdWx0KHQuY29udGVudCksdS5kZWZhdWx0KHQuYnV0dG9ucyx0LmRhbmdlck1vZGUpfTt2YXIgbT1mdW5jdGlvbigpe3ZhciB0PW8uZ2V0Tm9kZShzKSxlPW8uc3RyaW5nVG9Ob2RlKHIubW9kYWxNYXJrdXApO3QuYXBwZW5kQ2hpbGQoZSl9O2UuZGVmYXVsdD1tfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89bigzKSxyPXtpc09wZW46ITEscHJvbWlzZTpudWxsLGFjdGlvbnM6e30sdGltZXI6bnVsbH0saT1PYmplY3QuYXNzaWduKHt9LHIpO2UucmVzZXRTdGF0ZT1mdW5jdGlvbigpe2k9T2JqZWN0LmFzc2lnbih7fSxyKX0sZS5zZXRBY3Rpb25WYWx1ZT1mdW5jdGlvbih0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gYShvLkNPTkZJUk1fS0VZLHQpO2Zvcih2YXIgZSBpbiB0KWEoZSx0W2VdKX07dmFyIGE9ZnVuY3Rpb24odCxlKXtpLmFjdGlvbnNbdF18fChpLmFjdGlvbnNbdF09e30pLE9iamVjdC5hc3NpZ24oaS5hY3Rpb25zW3RdLHt2YWx1ZTplfSl9O2Uuc2V0QWN0aW9uT3B0aW9uc0Zvcj1mdW5jdGlvbih0LGUpe3ZhciBuPSh2b2lkIDA9PT1lP3t9OmUpLmNsb3NlTW9kYWwsbz12b2lkIDA9PT1ufHxuO09iamVjdC5hc3NpZ24oaS5hY3Rpb25zW3RdLHtjbG9zZU1vZGFsOm99KX0sZS5kZWZhdWx0PWl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1uKDEpLHI9bigzKSxpPW4oMCksYT1pLmRlZmF1bHQuT1ZFUkxBWSxzPWkuZGVmYXVsdC5TSE9XX01PREFMLGM9aS5kZWZhdWx0LkJVVFRPTixsPWkuZGVmYXVsdC5CVVRUT05fTE9BRElORyx1PW4oNSk7ZS5vcGVuTW9kYWw9ZnVuY3Rpb24oKXtvLmdldE5vZGUoYSkuY2xhc3NMaXN0LmFkZChzKSx1LmRlZmF1bHQuaXNPcGVuPSEwfTt2YXIgZj1mdW5jdGlvbigpe28uZ2V0Tm9kZShhKS5jbGFzc0xpc3QucmVtb3ZlKHMpLHUuZGVmYXVsdC5pc09wZW49ITF9O2Uub25BY3Rpb249ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9ci5DQU5DRUxfS0VZKTt2YXIgZT11LmRlZmF1bHQuYWN0aW9uc1t0XSxuPWUudmFsdWU7aWYoITE9PT1lLmNsb3NlTW9kYWwpe3ZhciBpPWMrXCItLVwiK3Q7by5nZXROb2RlKGkpLmNsYXNzTGlzdC5hZGQobCl9ZWxzZSBmKCk7dS5kZWZhdWx0LnByb21pc2UucmVzb2x2ZShuKX0sZS5nZXRTdGF0ZT1mdW5jdGlvbigpe3ZhciB0PU9iamVjdC5hc3NpZ24oe30sdS5kZWZhdWx0KTtyZXR1cm4gZGVsZXRlIHQucHJvbWlzZSxkZWxldGUgdC50aW1lcix0fSxlLnN0b3BMb2FkaW5nPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuXCIrYyksZT0wO2U8dC5sZW5ndGg7ZSsrKXt0W2VdLmNsYXNzTGlzdC5yZW1vdmUobCl9fX0sZnVuY3Rpb24odCxlKXt2YXIgbjtuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCk7dHJ5e249bnx8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpfHwoMCxldmFsKShcInRoaXNcIil9Y2F0Y2godCl7XCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmKG49d2luZG93KX10LmV4cG9ydHM9bn0sZnVuY3Rpb24odCxlLG4peyhmdW5jdGlvbihlKXt0LmV4cG9ydHM9ZS5zd2VldEFsZXJ0PW4oOSl9KS5jYWxsKGUsbig3KSl9LGZ1bmN0aW9uKHQsZSxuKXsoZnVuY3Rpb24oZSl7dC5leHBvcnRzPWUuc3dhbD1uKDEwKX0pLmNhbGwoZSxuKDcpKX0sZnVuY3Rpb24odCxlLG4pe1widW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJm4oMTEpLG4oMTYpO3ZhciBvPW4oMjMpLmRlZmF1bHQ7dC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSxuKXt2YXIgbz1uKDEyKTtcInN0cmluZ1wiPT10eXBlb2YgbyYmKG89W1t0LmksbyxcIlwiXV0pO3ZhciByPXtpbnNlcnRBdDpcInRvcFwifTtyLnRyYW5zZm9ybT12b2lkIDA7bigxNCkobyxyKTtvLmxvY2FscyYmKHQuZXhwb3J0cz1vLmxvY2Fscyl9LGZ1bmN0aW9uKHQsZSxuKXtlPXQuZXhwb3J0cz1uKDEzKSh2b2lkIDApLGUucHVzaChbdC5pLCcuc3dhbC1pY29uLS1lcnJvcntib3JkZXItY29sb3I6I2YyNzQ3NDstd2Via2l0LWFuaW1hdGlvbjphbmltYXRlRXJyb3JJY29uIC41czthbmltYXRpb246YW5pbWF0ZUVycm9ySWNvbiAuNXN9LnN3YWwtaWNvbi0tZXJyb3JfX3gtbWFya3twb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmJsb2NrOy13ZWJraXQtYW5pbWF0aW9uOmFuaW1hdGVYTWFyayAuNXM7YW5pbWF0aW9uOmFuaW1hdGVYTWFyayAuNXN9LnN3YWwtaWNvbi0tZXJyb3JfX2xpbmV7cG9zaXRpb246YWJzb2x1dGU7aGVpZ2h0OjVweDt3aWR0aDo0N3B4O2JhY2tncm91bmQtY29sb3I6I2YyNzQ3NDtkaXNwbGF5OmJsb2NrO3RvcDozN3B4O2JvcmRlci1yYWRpdXM6MnB4fS5zd2FsLWljb24tLWVycm9yX19saW5lLS1sZWZ0ey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSg0NWRlZyk7dHJhbnNmb3JtOnJvdGF0ZSg0NWRlZyk7bGVmdDoxN3B4fS5zd2FsLWljb24tLWVycm9yX19saW5lLS1yaWdodHstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKTt0cmFuc2Zvcm06cm90YXRlKC00NWRlZyk7cmlnaHQ6MTZweH1ALXdlYmtpdC1rZXlmcmFtZXMgYW5pbWF0ZUVycm9ySWNvbnswJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGVYKDEwMGRlZyk7dHJhbnNmb3JtOnJvdGF0ZVgoMTAwZGVnKTtvcGFjaXR5OjB9dG97LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlWCgwZGVnKTt0cmFuc2Zvcm06cm90YXRlWCgwZGVnKTtvcGFjaXR5OjF9fUBrZXlmcmFtZXMgYW5pbWF0ZUVycm9ySWNvbnswJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGVYKDEwMGRlZyk7dHJhbnNmb3JtOnJvdGF0ZVgoMTAwZGVnKTtvcGFjaXR5OjB9dG97LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlWCgwZGVnKTt0cmFuc2Zvcm06cm90YXRlWCgwZGVnKTtvcGFjaXR5OjF9fUAtd2Via2l0LWtleWZyYW1lcyBhbmltYXRlWE1hcmt7MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoLjQpO3RyYW5zZm9ybTpzY2FsZSguNCk7bWFyZ2luLXRvcDoyNnB4O29wYWNpdHk6MH01MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoLjQpO3RyYW5zZm9ybTpzY2FsZSguNCk7bWFyZ2luLXRvcDoyNnB4O29wYWNpdHk6MH04MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMS4xNSk7dHJhbnNmb3JtOnNjYWxlKDEuMTUpO21hcmdpbi10b3A6LTZweH10b3std2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTt0cmFuc2Zvcm06c2NhbGUoMSk7bWFyZ2luLXRvcDowO29wYWNpdHk6MX19QGtleWZyYW1lcyBhbmltYXRlWE1hcmt7MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoLjQpO3RyYW5zZm9ybTpzY2FsZSguNCk7bWFyZ2luLXRvcDoyNnB4O29wYWNpdHk6MH01MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoLjQpO3RyYW5zZm9ybTpzY2FsZSguNCk7bWFyZ2luLXRvcDoyNnB4O29wYWNpdHk6MH04MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMS4xNSk7dHJhbnNmb3JtOnNjYWxlKDEuMTUpO21hcmdpbi10b3A6LTZweH10b3std2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTt0cmFuc2Zvcm06c2NhbGUoMSk7bWFyZ2luLXRvcDowO29wYWNpdHk6MX19LnN3YWwtaWNvbi0td2FybmluZ3tib3JkZXItY29sb3I6I2Y4YmI4Njstd2Via2l0LWFuaW1hdGlvbjpwdWxzZVdhcm5pbmcgLjc1cyBpbmZpbml0ZSBhbHRlcm5hdGU7YW5pbWF0aW9uOnB1bHNlV2FybmluZyAuNzVzIGluZmluaXRlIGFsdGVybmF0ZX0uc3dhbC1pY29uLS13YXJuaW5nX19ib2R5e3dpZHRoOjVweDtoZWlnaHQ6NDdweDt0b3A6MTBweDtib3JkZXItcmFkaXVzOjJweDttYXJnaW4tbGVmdDotMnB4fS5zd2FsLWljb24tLXdhcm5pbmdfX2JvZHksLnN3YWwtaWNvbi0td2FybmluZ19fZG90e3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6NTAlO2JhY2tncm91bmQtY29sb3I6I2Y4YmI4Nn0uc3dhbC1pY29uLS13YXJuaW5nX19kb3R7d2lkdGg6N3B4O2hlaWdodDo3cHg7Ym9yZGVyLXJhZGl1czo1MCU7bWFyZ2luLWxlZnQ6LTRweDtib3R0b206LTExcHh9QC13ZWJraXQta2V5ZnJhbWVzIHB1bHNlV2FybmluZ3swJXtib3JkZXItY29sb3I6I2Y4ZDQ4Nn10b3tib3JkZXItY29sb3I6I2Y4YmI4Nn19QGtleWZyYW1lcyBwdWxzZVdhcm5pbmd7MCV7Ym9yZGVyLWNvbG9yOiNmOGQ0ODZ9dG97Ym9yZGVyLWNvbG9yOiNmOGJiODZ9fS5zd2FsLWljb24tLXN1Y2Nlc3N7Ym9yZGVyLWNvbG9yOiNhNWRjODZ9LnN3YWwtaWNvbi0tc3VjY2VzczphZnRlciwuc3dhbC1pY29uLS1zdWNjZXNzOmJlZm9yZXtjb250ZW50OlwiXCI7Ym9yZGVyLXJhZGl1czo1MCU7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6NjBweDtoZWlnaHQ6MTIwcHg7YmFja2dyb3VuZDojZmZmOy13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSg0NWRlZyk7dHJhbnNmb3JtOnJvdGF0ZSg0NWRlZyl9LnN3YWwtaWNvbi0tc3VjY2VzczpiZWZvcmV7Ym9yZGVyLXJhZGl1czoxMjBweCAwIDAgMTIwcHg7dG9wOi03cHg7bGVmdDotMzNweDstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKTt0cmFuc2Zvcm06cm90YXRlKC00NWRlZyk7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOjYwcHggNjBweDt0cmFuc2Zvcm0tb3JpZ2luOjYwcHggNjBweH0uc3dhbC1pY29uLS1zdWNjZXNzOmFmdGVye2JvcmRlci1yYWRpdXM6MCAxMjBweCAxMjBweCAwO3RvcDotMTFweDtsZWZ0OjMwcHg7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKC00NWRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgtNDVkZWcpOy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjowIDYwcHg7dHJhbnNmb3JtLW9yaWdpbjowIDYwcHg7LXdlYmtpdC1hbmltYXRpb246cm90YXRlUGxhY2Vob2xkZXIgNC4yNXMgZWFzZS1pbjthbmltYXRpb246cm90YXRlUGxhY2Vob2xkZXIgNC4yNXMgZWFzZS1pbn0uc3dhbC1pY29uLS1zdWNjZXNzX19yaW5ne3dpZHRoOjgwcHg7aGVpZ2h0OjgwcHg7Ym9yZGVyOjRweCBzb2xpZCBoc2xhKDk4LDU1JSw2OSUsLjIpO2JvcmRlci1yYWRpdXM6NTAlO2JveC1zaXppbmc6Y29udGVudC1ib3g7cG9zaXRpb246YWJzb2x1dGU7bGVmdDotNHB4O3RvcDotNHB4O3otaW5kZXg6Mn0uc3dhbC1pY29uLS1zdWNjZXNzX19oaWRlLWNvcm5lcnN7d2lkdGg6NXB4O2hlaWdodDo5MHB4O2JhY2tncm91bmQtY29sb3I6I2ZmZjtwYWRkaW5nOjFweDtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjI4cHg7dG9wOjhweDt6LWluZGV4OjE7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKC00NWRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgtNDVkZWcpfS5zd2FsLWljb24tLXN1Y2Nlc3NfX2xpbmV7aGVpZ2h0OjVweDtiYWNrZ3JvdW5kLWNvbG9yOiNhNWRjODY7ZGlzcGxheTpibG9jaztib3JkZXItcmFkaXVzOjJweDtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjJ9LnN3YWwtaWNvbi0tc3VjY2Vzc19fbGluZS0tdGlwe3dpZHRoOjI1cHg7bGVmdDoxNHB4O3RvcDo0NnB4Oy13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSg0NWRlZyk7dHJhbnNmb3JtOnJvdGF0ZSg0NWRlZyk7LXdlYmtpdC1hbmltYXRpb246YW5pbWF0ZVN1Y2Nlc3NUaXAgLjc1czthbmltYXRpb246YW5pbWF0ZVN1Y2Nlc3NUaXAgLjc1c30uc3dhbC1pY29uLS1zdWNjZXNzX19saW5lLS1sb25ne3dpZHRoOjQ3cHg7cmlnaHQ6OHB4O3RvcDozOHB4Oy13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgtNDVkZWcpO3RyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKTstd2Via2l0LWFuaW1hdGlvbjphbmltYXRlU3VjY2Vzc0xvbmcgLjc1czthbmltYXRpb246YW5pbWF0ZVN1Y2Nlc3NMb25nIC43NXN9QC13ZWJraXQta2V5ZnJhbWVzIHJvdGF0ZVBsYWNlaG9sZGVyezAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgtNDVkZWcpO3RyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKX01JXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKTt0cmFuc2Zvcm06cm90YXRlKC00NWRlZyl9MTIley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgtNDA1ZGVnKTt0cmFuc2Zvcm06cm90YXRlKC00MDVkZWcpfXRvey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgtNDA1ZGVnKTt0cmFuc2Zvcm06cm90YXRlKC00MDVkZWcpfX1Aa2V5ZnJhbWVzIHJvdGF0ZVBsYWNlaG9sZGVyezAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgtNDVkZWcpO3RyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKX01JXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKTt0cmFuc2Zvcm06cm90YXRlKC00NWRlZyl9MTIley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgtNDA1ZGVnKTt0cmFuc2Zvcm06cm90YXRlKC00MDVkZWcpfXRvey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgtNDA1ZGVnKTt0cmFuc2Zvcm06cm90YXRlKC00MDVkZWcpfX1ALXdlYmtpdC1rZXlmcmFtZXMgYW5pbWF0ZVN1Y2Nlc3NUaXB7MCV7d2lkdGg6MDtsZWZ0OjFweDt0b3A6MTlweH01NCV7d2lkdGg6MDtsZWZ0OjFweDt0b3A6MTlweH03MCV7d2lkdGg6NTBweDtsZWZ0Oi04cHg7dG9wOjM3cHh9ODQle3dpZHRoOjE3cHg7bGVmdDoyMXB4O3RvcDo0OHB4fXRve3dpZHRoOjI1cHg7bGVmdDoxNHB4O3RvcDo0NXB4fX1Aa2V5ZnJhbWVzIGFuaW1hdGVTdWNjZXNzVGlwezAle3dpZHRoOjA7bGVmdDoxcHg7dG9wOjE5cHh9NTQle3dpZHRoOjA7bGVmdDoxcHg7dG9wOjE5cHh9NzAle3dpZHRoOjUwcHg7bGVmdDotOHB4O3RvcDozN3B4fTg0JXt3aWR0aDoxN3B4O2xlZnQ6MjFweDt0b3A6NDhweH10b3t3aWR0aDoyNXB4O2xlZnQ6MTRweDt0b3A6NDVweH19QC13ZWJraXQta2V5ZnJhbWVzIGFuaW1hdGVTdWNjZXNzTG9uZ3swJXt3aWR0aDowO3JpZ2h0OjQ2cHg7dG9wOjU0cHh9NjUle3dpZHRoOjA7cmlnaHQ6NDZweDt0b3A6NTRweH04NCV7d2lkdGg6NTVweDtyaWdodDowO3RvcDozNXB4fXRve3dpZHRoOjQ3cHg7cmlnaHQ6OHB4O3RvcDozOHB4fX1Aa2V5ZnJhbWVzIGFuaW1hdGVTdWNjZXNzTG9uZ3swJXt3aWR0aDowO3JpZ2h0OjQ2cHg7dG9wOjU0cHh9NjUle3dpZHRoOjA7cmlnaHQ6NDZweDt0b3A6NTRweH04NCV7d2lkdGg6NTVweDtyaWdodDowO3RvcDozNXB4fXRve3dpZHRoOjQ3cHg7cmlnaHQ6OHB4O3RvcDozOHB4fX0uc3dhbC1pY29uLS1pbmZve2JvcmRlci1jb2xvcjojYzlkYWUxfS5zd2FsLWljb24tLWluZm86YmVmb3Jle3dpZHRoOjVweDtoZWlnaHQ6MjlweDtib3R0b206MTdweDtib3JkZXItcmFkaXVzOjJweDttYXJnaW4tbGVmdDotMnB4fS5zd2FsLWljb24tLWluZm86YWZ0ZXIsLnN3YWwtaWNvbi0taW5mbzpiZWZvcmV7Y29udGVudDpcIlwiO3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6NTAlO2JhY2tncm91bmQtY29sb3I6I2M5ZGFlMX0uc3dhbC1pY29uLS1pbmZvOmFmdGVye3dpZHRoOjdweDtoZWlnaHQ6N3B4O2JvcmRlci1yYWRpdXM6NTAlO21hcmdpbi1sZWZ0Oi0zcHg7dG9wOjE5cHh9LnN3YWwtaWNvbnt3aWR0aDo4MHB4O2hlaWdodDo4MHB4O2JvcmRlci13aWR0aDo0cHg7Ym9yZGVyLXN0eWxlOnNvbGlkO2JvcmRlci1yYWRpdXM6NTAlO3BhZGRpbmc6MDtwb3NpdGlvbjpyZWxhdGl2ZTtib3gtc2l6aW5nOmNvbnRlbnQtYm94O21hcmdpbjoyMHB4IGF1dG99LnN3YWwtaWNvbjpmaXJzdC1jaGlsZHttYXJnaW4tdG9wOjMycHh9LnN3YWwtaWNvbi0tY3VzdG9te3dpZHRoOmF1dG87aGVpZ2h0OmF1dG87bWF4LXdpZHRoOjEwMCU7Ym9yZGVyOm5vbmU7Ym9yZGVyLXJhZGl1czowfS5zd2FsLWljb24gaW1ne21heC13aWR0aDoxMDAlO21heC1oZWlnaHQ6MTAwJX0uc3dhbC10aXRsZXtjb2xvcjpyZ2JhKDAsMCwwLC42NSk7Zm9udC13ZWlnaHQ6NjAwO3RleHQtdHJhbnNmb3JtOm5vbmU7cG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpibG9jaztwYWRkaW5nOjEzcHggMTZweDtmb250LXNpemU6MjdweDtsaW5lLWhlaWdodDpub3JtYWw7dGV4dC1hbGlnbjpjZW50ZXI7bWFyZ2luLWJvdHRvbTowfS5zd2FsLXRpdGxlOmZpcnN0LWNoaWxke21hcmdpbi10b3A6MjZweH0uc3dhbC10aXRsZTpub3QoOmZpcnN0LWNoaWxkKXtwYWRkaW5nLWJvdHRvbTowfS5zd2FsLXRpdGxlOm5vdCg6bGFzdC1jaGlsZCl7bWFyZ2luLWJvdHRvbToxM3B4fS5zd2FsLXRleHR7Zm9udC1zaXplOjE2cHg7cG9zaXRpb246cmVsYXRpdmU7ZmxvYXQ6bm9uZTtsaW5lLWhlaWdodDpub3JtYWw7dmVydGljYWwtYWxpZ246dG9wO3RleHQtYWxpZ246bGVmdDtkaXNwbGF5OmlubGluZS1ibG9jazttYXJnaW46MDtwYWRkaW5nOjAgMTBweDtmb250LXdlaWdodDo0MDA7Y29sb3I6cmdiYSgwLDAsMCwuNjQpO21heC13aWR0aDpjYWxjKDEwMCUgLSAyMHB4KTtvdmVyZmxvdy13cmFwOmJyZWFrLXdvcmQ7Ym94LXNpemluZzpib3JkZXItYm94fS5zd2FsLXRleHQ6Zmlyc3QtY2hpbGR7bWFyZ2luLXRvcDo0NXB4fS5zd2FsLXRleHQ6bGFzdC1jaGlsZHttYXJnaW4tYm90dG9tOjQ1cHh9LnN3YWwtZm9vdGVye3RleHQtYWxpZ246cmlnaHQ7cGFkZGluZy10b3A6MTNweDttYXJnaW4tdG9wOjEzcHg7cGFkZGluZzoxM3B4IDE2cHg7Ym9yZGVyLXJhZGl1czppbmhlcml0O2JvcmRlci10b3AtbGVmdC1yYWRpdXM6MDtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czowfS5zd2FsLWJ1dHRvbi1jb250YWluZXJ7bWFyZ2luOjVweDtkaXNwbGF5OmlubGluZS1ibG9jaztwb3NpdGlvbjpyZWxhdGl2ZX0uc3dhbC1idXR0b257YmFja2dyb3VuZC1jb2xvcjojN2NkMWY5O2NvbG9yOiNmZmY7Ym9yZGVyOm5vbmU7Ym94LXNoYWRvdzpub25lO2JvcmRlci1yYWRpdXM6NXB4O2ZvbnQtd2VpZ2h0OjYwMDtmb250LXNpemU6MTRweDtwYWRkaW5nOjEwcHggMjRweDttYXJnaW46MDtjdXJzb3I6cG9pbnRlcn0uc3dhbC1idXR0b25bbm90OmRpc2FibGVkXTpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiM3OGNiZjJ9LnN3YWwtYnV0dG9uOmFjdGl2ZXtiYWNrZ3JvdW5kLWNvbG9yOiM3MGJjZTB9LnN3YWwtYnV0dG9uOmZvY3Vze291dGxpbmU6bm9uZTtib3gtc2hhZG93OjAgMCAwIDFweCAjZmZmLDAgMCAwIDNweCByZ2JhKDQzLDExNCwxNjUsLjI5KX0uc3dhbC1idXR0b25bZGlzYWJsZWRde29wYWNpdHk6LjU7Y3Vyc29yOmRlZmF1bHR9LnN3YWwtYnV0dG9uOjotbW96LWZvY3VzLWlubmVye2JvcmRlcjowfS5zd2FsLWJ1dHRvbi0tY2FuY2Vse2NvbG9yOiM1NTU7YmFja2dyb3VuZC1jb2xvcjojZWZlZmVmfS5zd2FsLWJ1dHRvbi0tY2FuY2VsW25vdDpkaXNhYmxlZF06aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojZThlOGU4fS5zd2FsLWJ1dHRvbi0tY2FuY2VsOmFjdGl2ZXtiYWNrZ3JvdW5kLWNvbG9yOiNkN2Q3ZDd9LnN3YWwtYnV0dG9uLS1jYW5jZWw6Zm9jdXN7Ym94LXNoYWRvdzowIDAgMCAxcHggI2ZmZiwwIDAgMCAzcHggcmdiYSgxMTYsMTM2LDE1MCwuMjkpfS5zd2FsLWJ1dHRvbi0tZGFuZ2Vye2JhY2tncm91bmQtY29sb3I6I2U2NDk0Mn0uc3dhbC1idXR0b24tLWRhbmdlcltub3Q6ZGlzYWJsZWRdOmhvdmVye2JhY2tncm91bmQtY29sb3I6I2RmNDc0MH0uc3dhbC1idXR0b24tLWRhbmdlcjphY3RpdmV7YmFja2dyb3VuZC1jb2xvcjojY2Y0MjNifS5zd2FsLWJ1dHRvbi0tZGFuZ2VyOmZvY3Vze2JveC1zaGFkb3c6MCAwIDAgMXB4ICNmZmYsMCAwIDAgM3B4IHJnYmEoMTY1LDQzLDQzLC4yOSl9LnN3YWwtY29udGVudHtwYWRkaW5nOjAgMjBweDttYXJnaW4tdG9wOjIwcHg7Zm9udC1zaXplOm1lZGl1bX0uc3dhbC1jb250ZW50Omxhc3QtY2hpbGR7bWFyZ2luLWJvdHRvbToyMHB4fS5zd2FsLWNvbnRlbnRfX2lucHV0LC5zd2FsLWNvbnRlbnRfX3RleHRhcmVhey13ZWJraXQtYXBwZWFyYW5jZTpub25lO2JhY2tncm91bmQtY29sb3I6I2ZmZjtib3JkZXI6bm9uZTtmb250LXNpemU6MTRweDtkaXNwbGF5OmJsb2NrO2JveC1zaXppbmc6Ym9yZGVyLWJveDt3aWR0aDoxMDAlO2JvcmRlcjoxcHggc29saWQgcmdiYSgwLDAsMCwuMTQpO3BhZGRpbmc6MTBweCAxM3B4O2JvcmRlci1yYWRpdXM6MnB4O3RyYW5zaXRpb246Ym9yZGVyLWNvbG9yIC4yc30uc3dhbC1jb250ZW50X19pbnB1dDpmb2N1cywuc3dhbC1jb250ZW50X190ZXh0YXJlYTpmb2N1c3tvdXRsaW5lOm5vbmU7Ym9yZGVyLWNvbG9yOiM2ZGI4ZmZ9LnN3YWwtY29udGVudF9fdGV4dGFyZWF7cmVzaXplOnZlcnRpY2FsfS5zd2FsLWJ1dHRvbi0tbG9hZGluZ3tjb2xvcjp0cmFuc3BhcmVudH0uc3dhbC1idXR0b24tLWxvYWRpbmd+LnN3YWwtYnV0dG9uX19sb2FkZXJ7b3BhY2l0eToxfS5zd2FsLWJ1dHRvbl9fbG9hZGVye3Bvc2l0aW9uOmFic29sdXRlO2hlaWdodDphdXRvO3dpZHRoOjQzcHg7ei1pbmRleDoyO2xlZnQ6NTAlO3RvcDo1MCU7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgtNTAlKSB0cmFuc2xhdGVZKC01MCUpO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpIHRyYW5zbGF0ZVkoLTUwJSk7dGV4dC1hbGlnbjpjZW50ZXI7cG9pbnRlci1ldmVudHM6bm9uZTtvcGFjaXR5OjB9LnN3YWwtYnV0dG9uX19sb2FkZXIgZGl2e2Rpc3BsYXk6aW5saW5lLWJsb2NrO2Zsb2F0Om5vbmU7dmVydGljYWwtYWxpZ246YmFzZWxpbmU7d2lkdGg6OXB4O2hlaWdodDo5cHg7cGFkZGluZzowO2JvcmRlcjpub25lO21hcmdpbjoycHg7b3BhY2l0eTouNDtib3JkZXItcmFkaXVzOjdweDtiYWNrZ3JvdW5kLWNvbG9yOmhzbGEoMCwwJSwxMDAlLC45KTt0cmFuc2l0aW9uOmJhY2tncm91bmQgLjJzOy13ZWJraXQtYW5pbWF0aW9uOnN3YWwtbG9hZGluZy1hbmltIDFzIGluZmluaXRlO2FuaW1hdGlvbjpzd2FsLWxvYWRpbmctYW5pbSAxcyBpbmZpbml0ZX0uc3dhbC1idXR0b25fX2xvYWRlciBkaXY6bnRoLWNoaWxkKDNuKzIpey13ZWJraXQtYW5pbWF0aW9uLWRlbGF5Oi4xNXM7YW5pbWF0aW9uLWRlbGF5Oi4xNXN9LnN3YWwtYnV0dG9uX19sb2FkZXIgZGl2Om50aC1jaGlsZCgzbiszKXstd2Via2l0LWFuaW1hdGlvbi1kZWxheTouM3M7YW5pbWF0aW9uLWRlbGF5Oi4zc31ALXdlYmtpdC1rZXlmcmFtZXMgc3dhbC1sb2FkaW5nLWFuaW17MCV7b3BhY2l0eTouNH0yMCV7b3BhY2l0eTouNH01MCV7b3BhY2l0eToxfXRve29wYWNpdHk6LjR9fUBrZXlmcmFtZXMgc3dhbC1sb2FkaW5nLWFuaW17MCV7b3BhY2l0eTouNH0yMCV7b3BhY2l0eTouNH01MCV7b3BhY2l0eToxfXRve29wYWNpdHk6LjR9fS5zd2FsLW92ZXJsYXl7cG9zaXRpb246Zml4ZWQ7dG9wOjA7Ym90dG9tOjA7bGVmdDowO3JpZ2h0OjA7dGV4dC1hbGlnbjpjZW50ZXI7Zm9udC1zaXplOjA7b3ZlcmZsb3cteTphdXRvO2JhY2tncm91bmQtY29sb3I6cmdiYSgwLDAsMCwuNCk7ei1pbmRleDoxMDAwMDtwb2ludGVyLWV2ZW50czpub25lO29wYWNpdHk6MDt0cmFuc2l0aW9uOm9wYWNpdHkgLjNzfS5zd2FsLW92ZXJsYXk6YmVmb3Jle2NvbnRlbnQ6XCIgXCI7ZGlzcGxheTppbmxpbmUtYmxvY2s7dmVydGljYWwtYWxpZ246bWlkZGxlO2hlaWdodDoxMDAlfS5zd2FsLW92ZXJsYXktLXNob3ctbW9kYWx7b3BhY2l0eToxO3BvaW50ZXItZXZlbnRzOmF1dG99LnN3YWwtb3ZlcmxheS0tc2hvdy1tb2RhbCAuc3dhbC1tb2RhbHtvcGFjaXR5OjE7cG9pbnRlci1ldmVudHM6YXV0bztib3gtc2l6aW5nOmJvcmRlci1ib3g7LXdlYmtpdC1hbmltYXRpb246c2hvd1N3ZWV0QWxlcnQgLjNzO2FuaW1hdGlvbjpzaG93U3dlZXRBbGVydCAuM3M7d2lsbC1jaGFuZ2U6dHJhbnNmb3JtfS5zd2FsLW1vZGFse3dpZHRoOjQ3OHB4O29wYWNpdHk6MDtwb2ludGVyLWV2ZW50czpub25lO2JhY2tncm91bmQtY29sb3I6I2ZmZjt0ZXh0LWFsaWduOmNlbnRlcjtib3JkZXItcmFkaXVzOjVweDtwb3NpdGlvbjpzdGF0aWM7bWFyZ2luOjIwcHggYXV0bztkaXNwbGF5OmlubGluZS1ibG9jazt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMSk7dHJhbnNmb3JtOnNjYWxlKDEpOy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjo1MCUgNTAlO3RyYW5zZm9ybS1vcmlnaW46NTAlIDUwJTt6LWluZGV4OjEwMDAxO3RyYW5zaXRpb246b3BhY2l0eSAuMnMsLXdlYmtpdC10cmFuc2Zvcm0gLjNzO3RyYW5zaXRpb246dHJhbnNmb3JtIC4zcyxvcGFjaXR5IC4yczt0cmFuc2l0aW9uOnRyYW5zZm9ybSAuM3Msb3BhY2l0eSAuMnMsLXdlYmtpdC10cmFuc2Zvcm0gLjNzfUBtZWRpYSAobWF4LXdpZHRoOjUwMHB4KXsuc3dhbC1tb2RhbHt3aWR0aDpjYWxjKDEwMCUgLSAyMHB4KX19QC13ZWJraXQta2V5ZnJhbWVzIHNob3dTd2VldEFsZXJ0ezAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEpO3RyYW5zZm9ybTpzY2FsZSgxKX0xJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSguNSk7dHJhbnNmb3JtOnNjYWxlKC41KX00NSV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMS4wNSk7dHJhbnNmb3JtOnNjYWxlKDEuMDUpfTgwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSguOTUpO3RyYW5zZm9ybTpzY2FsZSguOTUpfXRvey13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEpO3RyYW5zZm9ybTpzY2FsZSgxKX19QGtleWZyYW1lcyBzaG93U3dlZXRBbGVydHswJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTt0cmFuc2Zvcm06c2NhbGUoMSl9MSV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoLjUpO3RyYW5zZm9ybTpzY2FsZSguNSl9NDUley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEuMDUpO3RyYW5zZm9ybTpzY2FsZSgxLjA1KX04MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoLjk1KTt0cmFuc2Zvcm06c2NhbGUoLjk1KX10b3std2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTt0cmFuc2Zvcm06c2NhbGUoMSl9fScsXCJcIl0pfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4odCxlKXt2YXIgbj10WzFdfHxcIlwiLHI9dFszXTtpZighcilyZXR1cm4gbjtpZihlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBidG9hKXt2YXIgaT1vKHIpO3JldHVybltuXS5jb25jYXQoci5zb3VyY2VzLm1hcChmdW5jdGlvbih0KXtyZXR1cm5cIi8qIyBzb3VyY2VVUkw9XCIrci5zb3VyY2VSb290K3QrXCIgKi9cIn0pKS5jb25jYXQoW2ldKS5qb2luKFwiXFxuXCIpfXJldHVybltuXS5qb2luKFwiXFxuXCIpfWZ1bmN0aW9uIG8odCl7cmV0dXJuXCIvKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIrYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkodCkpKSkrXCIgKi9cIn10LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9W107cmV0dXJuIGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oZSl7dmFyIG89bihlLHQpO3JldHVybiBlWzJdP1wiQG1lZGlhIFwiK2VbMl0rXCJ7XCIrbytcIn1cIjpvfSkuam9pbihcIlwiKX0sZS5pPWZ1bmN0aW9uKHQsbil7XCJzdHJpbmdcIj09dHlwZW9mIHQmJih0PVtbbnVsbCx0LFwiXCJdXSk7Zm9yKHZhciBvPXt9LHI9MDtyPHRoaXMubGVuZ3RoO3IrKyl7dmFyIGk9dGhpc1tyXVswXTtcIm51bWJlclwiPT10eXBlb2YgaSYmKG9baV09ITApfWZvcihyPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBhPXRbcl07XCJudW1iZXJcIj09dHlwZW9mIGFbMF0mJm9bYVswXV18fChuJiYhYVsyXT9hWzJdPW46biYmKGFbMl09XCIoXCIrYVsyXStcIikgYW5kIChcIituK1wiKVwiKSxlLnB1c2goYSkpfX0sZX19LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBvKHQsZSl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBvPXRbbl0scj1tW28uaWRdO2lmKHIpe3IucmVmcysrO2Zvcih2YXIgaT0wO2k8ci5wYXJ0cy5sZW5ndGg7aSsrKXIucGFydHNbaV0oby5wYXJ0c1tpXSk7Zm9yKDtpPG8ucGFydHMubGVuZ3RoO2krKylyLnBhcnRzLnB1c2godShvLnBhcnRzW2ldLGUpKX1lbHNle2Zvcih2YXIgYT1bXSxpPTA7aTxvLnBhcnRzLmxlbmd0aDtpKyspYS5wdXNoKHUoby5wYXJ0c1tpXSxlKSk7bVtvLmlkXT17aWQ6by5pZCxyZWZzOjEscGFydHM6YX19fX1mdW5jdGlvbiByKHQsZSl7Zm9yKHZhciBuPVtdLG89e30scj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgaT10W3JdLGE9ZS5iYXNlP2lbMF0rZS5iYXNlOmlbMF0scz1pWzFdLGM9aVsyXSxsPWlbM10sdT17Y3NzOnMsbWVkaWE6Yyxzb3VyY2VNYXA6bH07b1thXT9vW2FdLnBhcnRzLnB1c2godSk6bi5wdXNoKG9bYV09e2lkOmEscGFydHM6W3VdfSl9cmV0dXJuIG59ZnVuY3Rpb24gaSh0LGUpe3ZhciBuPXYodC5pbnNlcnRJbnRvKTtpZighbil0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydEludG8nIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTt2YXIgbz13W3cubGVuZ3RoLTFdO2lmKFwidG9wXCI9PT10Lmluc2VydEF0KW8/by5uZXh0U2libGluZz9uLmluc2VydEJlZm9yZShlLG8ubmV4dFNpYmxpbmcpOm4uYXBwZW5kQ2hpbGQoZSk6bi5pbnNlcnRCZWZvcmUoZSxuLmZpcnN0Q2hpbGQpLHcucHVzaChlKTtlbHNle2lmKFwiYm90dG9tXCIhPT10Lmluc2VydEF0KXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnLiBNdXN0IGJlICd0b3AnIG9yICdib3R0b20nLlwiKTtuLmFwcGVuZENoaWxkKGUpfX1mdW5jdGlvbiBhKHQpe2lmKG51bGw9PT10LnBhcmVudE5vZGUpcmV0dXJuITE7dC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpO3ZhciBlPXcuaW5kZXhPZih0KTtlPj0wJiZ3LnNwbGljZShlLDEpfWZ1bmN0aW9uIHModCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO3JldHVybiB0LmF0dHJzLnR5cGU9XCJ0ZXh0L2Nzc1wiLGwoZSx0LmF0dHJzKSxpKHQsZSksZX1mdW5jdGlvbiBjKHQpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO3JldHVybiB0LmF0dHJzLnR5cGU9XCJ0ZXh0L2Nzc1wiLHQuYXR0cnMucmVsPVwic3R5bGVzaGVldFwiLGwoZSx0LmF0dHJzKSxpKHQsZSksZX1mdW5jdGlvbiBsKHQsZSl7T2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbihuKXt0LnNldEF0dHJpYnV0ZShuLGVbbl0pfSl9ZnVuY3Rpb24gdSh0LGUpe3ZhciBuLG8scixpO2lmKGUudHJhbnNmb3JtJiZ0LmNzcyl7aWYoIShpPWUudHJhbnNmb3JtKHQuY3NzKSkpcmV0dXJuIGZ1bmN0aW9uKCl7fTt0LmNzcz1pfWlmKGUuc2luZ2xldG9uKXt2YXIgbD1oKys7bj1nfHwoZz1zKGUpKSxvPWYuYmluZChudWxsLG4sbCwhMSkscj1mLmJpbmQobnVsbCxuLGwsITApfWVsc2UgdC5zb3VyY2VNYXAmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFVSTCYmXCJmdW5jdGlvblwiPT10eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCYmXCJmdW5jdGlvblwiPT10eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCYmXCJmdW5jdGlvblwiPT10eXBlb2YgQmxvYiYmXCJmdW5jdGlvblwiPT10eXBlb2YgYnRvYT8obj1jKGUpLG89cC5iaW5kKG51bGwsbixlKSxyPWZ1bmN0aW9uKCl7YShuKSxuLmhyZWYmJlVSTC5yZXZva2VPYmplY3RVUkwobi5ocmVmKX0pOihuPXMoZSksbz1kLmJpbmQobnVsbCxuKSxyPWZ1bmN0aW9uKCl7YShuKX0pO3JldHVybiBvKHQpLGZ1bmN0aW9uKGUpe2lmKGUpe2lmKGUuY3NzPT09dC5jc3MmJmUubWVkaWE9PT10Lm1lZGlhJiZlLnNvdXJjZU1hcD09PXQuc291cmNlTWFwKXJldHVybjtvKHQ9ZSl9ZWxzZSByKCl9fWZ1bmN0aW9uIGYodCxlLG4sbyl7dmFyIHI9bj9cIlwiOm8uY3NzO2lmKHQuc3R5bGVTaGVldCl0LnN0eWxlU2hlZXQuY3NzVGV4dD14KGUscik7ZWxzZXt2YXIgaT1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShyKSxhPXQuY2hpbGROb2RlczthW2VdJiZ0LnJlbW92ZUNoaWxkKGFbZV0pLGEubGVuZ3RoP3QuaW5zZXJ0QmVmb3JlKGksYVtlXSk6dC5hcHBlbmRDaGlsZChpKX19ZnVuY3Rpb24gZCh0LGUpe3ZhciBuPWUuY3NzLG89ZS5tZWRpYTtpZihvJiZ0LnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsbyksdC5zdHlsZVNoZWV0KXQuc3R5bGVTaGVldC5jc3NUZXh0PW47ZWxzZXtmb3IoO3QuZmlyc3RDaGlsZDspdC5yZW1vdmVDaGlsZCh0LmZpcnN0Q2hpbGQpO3QuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobikpfX1mdW5jdGlvbiBwKHQsZSxuKXt2YXIgbz1uLmNzcyxyPW4uc291cmNlTWFwLGk9dm9pZCAwPT09ZS5jb252ZXJ0VG9BYnNvbHV0ZVVybHMmJnI7KGUuY29udmVydFRvQWJzb2x1dGVVcmxzfHxpKSYmKG89eShvKSksciYmKG8rPVwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIitidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShyKSkpKStcIiAqL1wiKTt2YXIgYT1uZXcgQmxvYihbb10se3R5cGU6XCJ0ZXh0L2Nzc1wifSkscz10LmhyZWY7dC5ocmVmPVVSTC5jcmVhdGVPYmplY3RVUkwoYSkscyYmVVJMLnJldm9rZU9iamVjdFVSTChzKX12YXIgbT17fSxiPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT1lJiYoZT10LmFwcGx5KHRoaXMsYXJndW1lbnRzKSksZX19KGZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdyYmZG9jdW1lbnQmJmRvY3VtZW50LmFsbCYmIXdpbmRvdy5hdG9ifSksdj1mdW5jdGlvbih0KXt2YXIgZT17fTtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIHZvaWQgMD09PWVbbl0mJihlW25dPXQuY2FsbCh0aGlzLG4pKSxlW25dfX0oZnVuY3Rpb24odCl7cmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodCl9KSxnPW51bGwsaD0wLHc9W10seT1uKDE1KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgREVCVUcmJkRFQlVHJiZcIm9iamVjdFwiIT10eXBlb2YgZG9jdW1lbnQpdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO2U9ZXx8e30sZS5hdHRycz1cIm9iamVjdFwiPT10eXBlb2YgZS5hdHRycz9lLmF0dHJzOnt9LGUuc2luZ2xldG9ufHwoZS5zaW5nbGV0b249YigpKSxlLmluc2VydEludG98fChlLmluc2VydEludG89XCJoZWFkXCIpLGUuaW5zZXJ0QXR8fChlLmluc2VydEF0PVwiYm90dG9tXCIpO3ZhciBuPXIodCxlKTtyZXR1cm4gbyhuLGUpLGZ1bmN0aW9uKHQpe2Zvcih2YXIgaT1bXSxhPTA7YTxuLmxlbmd0aDthKyspe3ZhciBzPW5bYV0sYz1tW3MuaWRdO2MucmVmcy0tLGkucHVzaChjKX1pZih0KXtvKHIodCxlKSxlKX1mb3IodmFyIGE9MDthPGkubGVuZ3RoO2ErKyl7dmFyIGM9aVthXTtpZigwPT09Yy5yZWZzKXtmb3IodmFyIGw9MDtsPGMucGFydHMubGVuZ3RoO2wrKyljLnBhcnRzW2xdKCk7ZGVsZXRlIG1bYy5pZF19fX19O3ZhciB4PWZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuIGZ1bmN0aW9uKGUsbil7cmV0dXJuIHRbZV09bix0LmZpbHRlcihCb29sZWFuKS5qb2luKFwiXFxuXCIpfX0oKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LmxvY2F0aW9uO2lmKCFlKXRocm93IG5ldyBFcnJvcihcImZpeFVybHMgcmVxdWlyZXMgd2luZG93LmxvY2F0aW9uXCIpO2lmKCF0fHxcInN0cmluZ1wiIT10eXBlb2YgdClyZXR1cm4gdDt2YXIgbj1lLnByb3RvY29sK1wiLy9cIitlLmhvc3Qsbz1uK2UucGF0aG5hbWUucmVwbGFjZSgvXFwvW15cXC9dKiQvLFwiL1wiKTtyZXR1cm4gdC5yZXBsYWNlKC91cmxcXHMqXFwoKCg/OlteKShdfFxcKCg/OlteKShdK3xcXChbXikoXSpcXCkpKlxcKSkqKVxcKS9naSxmdW5jdGlvbih0LGUpe3ZhciByPWUudHJpbSgpLnJlcGxhY2UoL15cIiguKilcIiQvLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGV9KS5yZXBsYWNlKC9eJyguKiknJC8sZnVuY3Rpb24odCxlKXtyZXR1cm4gZX0pO2lmKC9eKCN8ZGF0YTp8aHR0cDpcXC9cXC98aHR0cHM6XFwvXFwvfGZpbGU6XFwvXFwvXFwvKS9pLnRlc3QocikpcmV0dXJuIHQ7dmFyIGk7cmV0dXJuIGk9MD09PXIuaW5kZXhPZihcIi8vXCIpP3I6MD09PXIuaW5kZXhPZihcIi9cIik/bityOm8rci5yZXBsYWNlKC9eXFwuXFwvLyxcIlwiKSxcInVybChcIitKU09OLnN0cmluZ2lmeShpKStcIilcIn0pfX0sZnVuY3Rpb24odCxlLG4pe3ZhciBvPW4oMTcpO1widW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3d8fHdpbmRvdy5Qcm9taXNlfHwod2luZG93LlByb21pc2U9byksbigyMSksU3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlc3x8KFN0cmluZy5wcm90b3R5cGUuaW5jbHVkZXM9ZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtyZXR1cm5cIm51bWJlclwiIT10eXBlb2YgZSYmKGU9MCksIShlK3QubGVuZ3RoPnRoaXMubGVuZ3RoKSYmLTEhPT10aGlzLmluZGV4T2YodCxlKX0pLEFycmF5LnByb3RvdHlwZS5pbmNsdWRlc3x8T2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSxcImluY2x1ZGVzXCIse3ZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYobnVsbD09dGhpcyl0aHJvdyBuZXcgVHlwZUVycm9yKCdcInRoaXNcIiBpcyBudWxsIG9yIG5vdCBkZWZpbmVkJyk7dmFyIG49T2JqZWN0KHRoaXMpLG89bi5sZW5ndGg+Pj4wO2lmKDA9PT1vKXJldHVybiExO2Zvcih2YXIgcj0wfGUsaT1NYXRoLm1heChyPj0wP3I6by1NYXRoLmFicyhyKSwwKTtpPG87KXtpZihmdW5jdGlvbih0LGUpe3JldHVybiB0PT09ZXx8XCJudW1iZXJcIj09dHlwZW9mIHQmJlwibnVtYmVyXCI9PXR5cGVvZiBlJiZpc05hTih0KSYmaXNOYU4oZSl9KG5baV0sdCkpcmV0dXJuITA7aSsrfXJldHVybiExfX0pLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJmZ1bmN0aW9uKHQpe3QuZm9yRWFjaChmdW5jdGlvbih0KXt0Lmhhc093blByb3BlcnR5KFwicmVtb3ZlXCIpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInJlbW92ZVwiLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpmdW5jdGlvbigpe3RoaXMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzKX19KX0pfShbRWxlbWVudC5wcm90b3R5cGUsQ2hhcmFjdGVyRGF0YS5wcm90b3R5cGUsRG9jdW1lbnRUeXBlLnByb3RvdHlwZV0pfSxmdW5jdGlvbih0LGUsbil7KGZ1bmN0aW9uKGUpeyFmdW5jdGlvbihuKXtmdW5jdGlvbiBvKCl7fWZ1bmN0aW9uIHIodCxlKXtyZXR1cm4gZnVuY3Rpb24oKXt0LmFwcGx5KGUsYXJndW1lbnRzKX19ZnVuY3Rpb24gaSh0KXtpZihcIm9iamVjdFwiIT10eXBlb2YgdGhpcyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJvbWlzZXMgbXVzdCBiZSBjb25zdHJ1Y3RlZCB2aWEgbmV3XCIpO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIm5vdCBhIGZ1bmN0aW9uXCIpO3RoaXMuX3N0YXRlPTAsdGhpcy5faGFuZGxlZD0hMSx0aGlzLl92YWx1ZT12b2lkIDAsdGhpcy5fZGVmZXJyZWRzPVtdLGYodCx0aGlzKX1mdW5jdGlvbiBhKHQsZSl7Zm9yKDszPT09dC5fc3RhdGU7KXQ9dC5fdmFsdWU7aWYoMD09PXQuX3N0YXRlKXJldHVybiB2b2lkIHQuX2RlZmVycmVkcy5wdXNoKGUpO3QuX2hhbmRsZWQ9ITAsaS5faW1tZWRpYXRlRm4oZnVuY3Rpb24oKXt2YXIgbj0xPT09dC5fc3RhdGU/ZS5vbkZ1bGZpbGxlZDplLm9uUmVqZWN0ZWQ7aWYobnVsbD09PW4pcmV0dXJuIHZvaWQoMT09PXQuX3N0YXRlP3M6YykoZS5wcm9taXNlLHQuX3ZhbHVlKTt2YXIgbzt0cnl7bz1uKHQuX3ZhbHVlKX1jYXRjaCh0KXtyZXR1cm4gdm9pZCBjKGUucHJvbWlzZSx0KX1zKGUucHJvbWlzZSxvKX0pfWZ1bmN0aW9uIHModCxlKXt0cnl7aWYoZT09PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkEgcHJvbWlzZSBjYW5ub3QgYmUgcmVzb2x2ZWQgd2l0aCBpdHNlbGYuXCIpO2lmKGUmJihcIm9iamVjdFwiPT10eXBlb2YgZXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpe3ZhciBuPWUudGhlbjtpZihlIGluc3RhbmNlb2YgaSlyZXR1cm4gdC5fc3RhdGU9Myx0Ll92YWx1ZT1lLHZvaWQgbCh0KTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBuKXJldHVybiB2b2lkIGYocihuLGUpLHQpfXQuX3N0YXRlPTEsdC5fdmFsdWU9ZSxsKHQpfWNhdGNoKGUpe2ModCxlKX19ZnVuY3Rpb24gYyh0LGUpe3QuX3N0YXRlPTIsdC5fdmFsdWU9ZSxsKHQpfWZ1bmN0aW9uIGwodCl7Mj09PXQuX3N0YXRlJiYwPT09dC5fZGVmZXJyZWRzLmxlbmd0aCYmaS5faW1tZWRpYXRlRm4oZnVuY3Rpb24oKXt0Ll9oYW5kbGVkfHxpLl91bmhhbmRsZWRSZWplY3Rpb25Gbih0Ll92YWx1ZSl9KTtmb3IodmFyIGU9MCxuPXQuX2RlZmVycmVkcy5sZW5ndGg7ZTxuO2UrKylhKHQsdC5fZGVmZXJyZWRzW2VdKTt0Ll9kZWZlcnJlZHM9bnVsbH1mdW5jdGlvbiB1KHQsZSxuKXt0aGlzLm9uRnVsZmlsbGVkPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dDpudWxsLHRoaXMub25SZWplY3RlZD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlP2U6bnVsbCx0aGlzLnByb21pc2U9bn1mdW5jdGlvbiBmKHQsZSl7dmFyIG49ITE7dHJ5e3QoZnVuY3Rpb24odCl7bnx8KG49ITAscyhlLHQpKX0sZnVuY3Rpb24odCl7bnx8KG49ITAsYyhlLHQpKX0pfWNhdGNoKHQpe2lmKG4pcmV0dXJuO249ITAsYyhlLHQpfX12YXIgZD1zZXRUaW1lb3V0O2kucHJvdG90eXBlLmNhdGNoPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRoZW4obnVsbCx0KX0saS5wcm90b3R5cGUudGhlbj1mdW5jdGlvbih0LGUpe3ZhciBuPW5ldyB0aGlzLmNvbnN0cnVjdG9yKG8pO3JldHVybiBhKHRoaXMsbmV3IHUodCxlLG4pKSxufSxpLmFsbD1mdW5jdGlvbih0KXt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0KTtyZXR1cm4gbmV3IGkoZnVuY3Rpb24odCxuKXtmdW5jdGlvbiBvKGksYSl7dHJ5e2lmKGEmJihcIm9iamVjdFwiPT10eXBlb2YgYXx8XCJmdW5jdGlvblwiPT10eXBlb2YgYSkpe3ZhciBzPWEudGhlbjtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBzKXJldHVybiB2b2lkIHMuY2FsbChhLGZ1bmN0aW9uKHQpe28oaSx0KX0sbil9ZVtpXT1hLDA9PS0tciYmdChlKX1jYXRjaCh0KXtuKHQpfX1pZigwPT09ZS5sZW5ndGgpcmV0dXJuIHQoW10pO2Zvcih2YXIgcj1lLmxlbmd0aCxpPTA7aTxlLmxlbmd0aDtpKyspbyhpLGVbaV0pfSl9LGkucmVzb2x2ZT1mdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJvYmplY3RcIj09dHlwZW9mIHQmJnQuY29uc3RydWN0b3I9PT1pP3Q6bmV3IGkoZnVuY3Rpb24oZSl7ZSh0KX0pfSxpLnJlamVjdD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGkoZnVuY3Rpb24oZSxuKXtuKHQpfSl9LGkucmFjZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGkoZnVuY3Rpb24oZSxuKXtmb3IodmFyIG89MCxyPXQubGVuZ3RoO288cjtvKyspdFtvXS50aGVuKGUsbil9KX0saS5faW1tZWRpYXRlRm49XCJmdW5jdGlvblwiPT10eXBlb2YgZSYmZnVuY3Rpb24odCl7ZSh0KX18fGZ1bmN0aW9uKHQpe2QodCwwKX0saS5fdW5oYW5kbGVkUmVqZWN0aW9uRm49ZnVuY3Rpb24odCl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUmJmNvbnNvbGUmJmNvbnNvbGUud2FybihcIlBvc3NpYmxlIFVuaGFuZGxlZCBQcm9taXNlIFJlamVjdGlvbjpcIix0KX0saS5fc2V0SW1tZWRpYXRlRm49ZnVuY3Rpb24odCl7aS5faW1tZWRpYXRlRm49dH0saS5fc2V0VW5oYW5kbGVkUmVqZWN0aW9uRm49ZnVuY3Rpb24odCl7aS5fdW5oYW5kbGVkUmVqZWN0aW9uRm49dH0sdm9pZCAwIT09dCYmdC5leHBvcnRzP3QuZXhwb3J0cz1pOm4uUHJvbWlzZXx8KG4uUHJvbWlzZT1pKX0odGhpcyl9KS5jYWxsKGUsbigxOCkuc2V0SW1tZWRpYXRlKX0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIG8odCxlKXt0aGlzLl9pZD10LHRoaXMuX2NsZWFyRm49ZX12YXIgcj1GdW5jdGlvbi5wcm90b3R5cGUuYXBwbHk7ZS5zZXRUaW1lb3V0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBvKHIuY2FsbChzZXRUaW1lb3V0LHdpbmRvdyxhcmd1bWVudHMpLGNsZWFyVGltZW91dCl9LGUuc2V0SW50ZXJ2YWw9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG8oci5jYWxsKHNldEludGVydmFsLHdpbmRvdyxhcmd1bWVudHMpLGNsZWFySW50ZXJ2YWwpfSxlLmNsZWFyVGltZW91dD1lLmNsZWFySW50ZXJ2YWw9ZnVuY3Rpb24odCl7dCYmdC5jbG9zZSgpfSxvLnByb3RvdHlwZS51bnJlZj1vLnByb3RvdHlwZS5yZWY9ZnVuY3Rpb24oKXt9LG8ucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJGbi5jYWxsKHdpbmRvdyx0aGlzLl9pZCl9LGUuZW5yb2xsPWZ1bmN0aW9uKHQsZSl7Y2xlYXJUaW1lb3V0KHQuX2lkbGVUaW1lb3V0SWQpLHQuX2lkbGVUaW1lb3V0PWV9LGUudW5lbnJvbGw9ZnVuY3Rpb24odCl7Y2xlYXJUaW1lb3V0KHQuX2lkbGVUaW1lb3V0SWQpLHQuX2lkbGVUaW1lb3V0PS0xfSxlLl91bnJlZkFjdGl2ZT1lLmFjdGl2ZT1mdW5jdGlvbih0KXtjbGVhclRpbWVvdXQodC5faWRsZVRpbWVvdXRJZCk7dmFyIGU9dC5faWRsZVRpbWVvdXQ7ZT49MCYmKHQuX2lkbGVUaW1lb3V0SWQ9c2V0VGltZW91dChmdW5jdGlvbigpe3QuX29uVGltZW91dCYmdC5fb25UaW1lb3V0KCl9LGUpKX0sbigxOSksZS5zZXRJbW1lZGlhdGU9c2V0SW1tZWRpYXRlLGUuY2xlYXJJbW1lZGlhdGU9Y2xlYXJJbW1lZGlhdGV9LGZ1bmN0aW9uKHQsZSxuKXsoZnVuY3Rpb24odCxlKXshZnVuY3Rpb24odCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKHQpe1wiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJih0PW5ldyBGdW5jdGlvbihcIlwiK3QpKTtmb3IodmFyIGU9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSksbj0wO248ZS5sZW5ndGg7bisrKWVbbl09YXJndW1lbnRzW24rMV07dmFyIG89e2NhbGxiYWNrOnQsYXJnczplfTtyZXR1cm4gbFtjXT1vLHMoYyksYysrfWZ1bmN0aW9uIHIodCl7ZGVsZXRlIGxbdF19ZnVuY3Rpb24gaSh0KXt2YXIgZT10LmNhbGxiYWNrLG89dC5hcmdzO3N3aXRjaChvLmxlbmd0aCl7Y2FzZSAwOmUoKTticmVhaztjYXNlIDE6ZShvWzBdKTticmVhaztjYXNlIDI6ZShvWzBdLG9bMV0pO2JyZWFrO2Nhc2UgMzplKG9bMF0sb1sxXSxvWzJdKTticmVhaztkZWZhdWx0OmUuYXBwbHkobixvKX19ZnVuY3Rpb24gYSh0KXtpZih1KXNldFRpbWVvdXQoYSwwLHQpO2Vsc2V7dmFyIGU9bFt0XTtpZihlKXt1PSEwO3RyeXtpKGUpfWZpbmFsbHl7cih0KSx1PSExfX19fWlmKCF0LnNldEltbWVkaWF0ZSl7dmFyIHMsYz0xLGw9e30sdT0hMSxmPXQuZG9jdW1lbnQsZD1PYmplY3QuZ2V0UHJvdG90eXBlT2YmJk9iamVjdC5nZXRQcm90b3R5cGVPZih0KTtkPWQmJmQuc2V0VGltZW91dD9kOnQsXCJbb2JqZWN0IHByb2Nlc3NdXCI9PT17fS50b1N0cmluZy5jYWxsKHQucHJvY2Vzcyk/ZnVuY3Rpb24oKXtzPWZ1bmN0aW9uKHQpe2UubmV4dFRpY2soZnVuY3Rpb24oKXthKHQpfSl9fSgpOmZ1bmN0aW9uKCl7aWYodC5wb3N0TWVzc2FnZSYmIXQuaW1wb3J0U2NyaXB0cyl7dmFyIGU9ITAsbj10Lm9ubWVzc2FnZTtyZXR1cm4gdC5vbm1lc3NhZ2U9ZnVuY3Rpb24oKXtlPSExfSx0LnBvc3RNZXNzYWdlKFwiXCIsXCIqXCIpLHQub25tZXNzYWdlPW4sZX19KCk/ZnVuY3Rpb24oKXt2YXIgZT1cInNldEltbWVkaWF0ZSRcIitNYXRoLnJhbmRvbSgpK1wiJFwiLG49ZnVuY3Rpb24obil7bi5zb3VyY2U9PT10JiZcInN0cmluZ1wiPT10eXBlb2Ygbi5kYXRhJiYwPT09bi5kYXRhLmluZGV4T2YoZSkmJmEoK24uZGF0YS5zbGljZShlLmxlbmd0aCkpfTt0LmFkZEV2ZW50TGlzdGVuZXI/dC5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLG4sITEpOnQuYXR0YWNoRXZlbnQoXCJvbm1lc3NhZ2VcIixuKSxzPWZ1bmN0aW9uKG4pe3QucG9zdE1lc3NhZ2UoZStuLFwiKlwiKX19KCk6dC5NZXNzYWdlQ2hhbm5lbD9mdW5jdGlvbigpe3ZhciB0PW5ldyBNZXNzYWdlQ2hhbm5lbDt0LnBvcnQxLm9ubWVzc2FnZT1mdW5jdGlvbih0KXthKHQuZGF0YSl9LHM9ZnVuY3Rpb24oZSl7dC5wb3J0Mi5wb3N0TWVzc2FnZShlKX19KCk6ZiYmXCJvbnJlYWR5c3RhdGVjaGFuZ2VcImluIGYuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKT9mdW5jdGlvbigpe3ZhciB0PWYuZG9jdW1lbnRFbGVtZW50O3M9ZnVuY3Rpb24oZSl7dmFyIG49Zi5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO24ub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7YShlKSxuLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLHQucmVtb3ZlQ2hpbGQobiksbj1udWxsfSx0LmFwcGVuZENoaWxkKG4pfX0oKTpmdW5jdGlvbigpe3M9ZnVuY3Rpb24odCl7c2V0VGltZW91dChhLDAsdCl9fSgpLGQuc2V0SW1tZWRpYXRlPW8sZC5jbGVhckltbWVkaWF0ZT1yfX0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIHNlbGY/dm9pZCAwPT09dD90aGlzOnQ6c2VsZil9KS5jYWxsKGUsbig3KSxuKDIwKSl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3Rocm93IG5ldyBFcnJvcihcInNldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIil9ZnVuY3Rpb24gbygpe3Rocm93IG5ldyBFcnJvcihcImNsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKX1mdW5jdGlvbiByKHQpe2lmKHU9PT1zZXRUaW1lb3V0KXJldHVybiBzZXRUaW1lb3V0KHQsMCk7aWYoKHU9PT1ufHwhdSkmJnNldFRpbWVvdXQpcmV0dXJuIHU9c2V0VGltZW91dCxzZXRUaW1lb3V0KHQsMCk7dHJ5e3JldHVybiB1KHQsMCl9Y2F0Y2goZSl7dHJ5e3JldHVybiB1LmNhbGwobnVsbCx0LDApfWNhdGNoKGUpe3JldHVybiB1LmNhbGwodGhpcyx0LDApfX19ZnVuY3Rpb24gaSh0KXtpZihmPT09Y2xlYXJUaW1lb3V0KXJldHVybiBjbGVhclRpbWVvdXQodCk7aWYoKGY9PT1vfHwhZikmJmNsZWFyVGltZW91dClyZXR1cm4gZj1jbGVhclRpbWVvdXQsY2xlYXJUaW1lb3V0KHQpO3RyeXtyZXR1cm4gZih0KX1jYXRjaChlKXt0cnl7cmV0dXJuIGYuY2FsbChudWxsLHQpfWNhdGNoKGUpe3JldHVybiBmLmNhbGwodGhpcyx0KX19fWZ1bmN0aW9uIGEoKXtiJiZwJiYoYj0hMSxwLmxlbmd0aD9tPXAuY29uY2F0KG0pOnY9LTEsbS5sZW5ndGgmJnMoKSl9ZnVuY3Rpb24gcygpe2lmKCFiKXt2YXIgdD1yKGEpO2I9ITA7Zm9yKHZhciBlPW0ubGVuZ3RoO2U7KXtmb3IocD1tLG09W107Kyt2PGU7KXAmJnBbdl0ucnVuKCk7dj0tMSxlPW0ubGVuZ3RofXA9bnVsbCxiPSExLGkodCl9fWZ1bmN0aW9uIGModCxlKXt0aGlzLmZ1bj10LHRoaXMuYXJyYXk9ZX1mdW5jdGlvbiBsKCl7fXZhciB1LGYsZD10LmV4cG9ydHM9e307IWZ1bmN0aW9uKCl7dHJ5e3U9XCJmdW5jdGlvblwiPT10eXBlb2Ygc2V0VGltZW91dD9zZXRUaW1lb3V0Om59Y2F0Y2godCl7dT1ufXRyeXtmPVwiZnVuY3Rpb25cIj09dHlwZW9mIGNsZWFyVGltZW91dD9jbGVhclRpbWVvdXQ6b31jYXRjaCh0KXtmPW99fSgpO3ZhciBwLG09W10sYj0hMSx2PS0xO2QubmV4dFRpY2s9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSk7aWYoYXJndW1lbnRzLmxlbmd0aD4xKWZvcih2YXIgbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspZVtuLTFdPWFyZ3VtZW50c1tuXTttLnB1c2gobmV3IGModCxlKSksMSE9PW0ubGVuZ3RofHxifHxyKHMpfSxjLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXt0aGlzLmZ1bi5hcHBseShudWxsLHRoaXMuYXJyYXkpfSxkLnRpdGxlPVwiYnJvd3NlclwiLGQuYnJvd3Nlcj0hMCxkLmVudj17fSxkLmFyZ3Y9W10sZC52ZXJzaW9uPVwiXCIsZC52ZXJzaW9ucz17fSxkLm9uPWwsZC5hZGRMaXN0ZW5lcj1sLGQub25jZT1sLGQub2ZmPWwsZC5yZW1vdmVMaXN0ZW5lcj1sLGQucmVtb3ZlQWxsTGlzdGVuZXJzPWwsZC5lbWl0PWwsZC5wcmVwZW5kTGlzdGVuZXI9bCxkLnByZXBlbmRPbmNlTGlzdGVuZXI9bCxkLmxpc3RlbmVycz1mdW5jdGlvbih0KXtyZXR1cm5bXX0sZC5iaW5kaW5nPWZ1bmN0aW9uKHQpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkXCIpfSxkLmN3ZD1mdW5jdGlvbigpe3JldHVyblwiL1wifSxkLmNoZGlyPWZ1bmN0aW9uKHQpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZFwiKX0sZC51bWFzaz1mdW5jdGlvbigpe3JldHVybiAwfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO24oMjIpLnBvbHlmaWxsKCl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKHQsZSl7aWYodm9pZCAwPT09dHx8bnVsbD09PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjb252ZXJ0IGZpcnN0IGFyZ3VtZW50IHRvIG9iamVjdFwiKTtmb3IodmFyIG49T2JqZWN0KHQpLG89MTtvPGFyZ3VtZW50cy5sZW5ndGg7bysrKXt2YXIgcj1hcmd1bWVudHNbb107aWYodm9pZCAwIT09ciYmbnVsbCE9PXIpZm9yKHZhciBpPU9iamVjdC5rZXlzKE9iamVjdChyKSksYT0wLHM9aS5sZW5ndGg7YTxzO2ErKyl7dmFyIGM9aVthXSxsPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocixjKTt2b2lkIDAhPT1sJiZsLmVudW1lcmFibGUmJihuW2NdPXJbY10pfX1yZXR1cm4gbn1mdW5jdGlvbiByKCl7T2JqZWN0LmFzc2lnbnx8T2JqZWN0LmRlZmluZVByb3BlcnR5KE9iamVjdCxcImFzc2lnblwiLHtlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpvfSl9dC5leHBvcnRzPXthc3NpZ246byxwb2x5ZmlsbDpyfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPW4oMjQpLHI9big2KSxpPW4oNSksYT1uKDM2KSxzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cpe3ZhciBuPWEuZ2V0T3B0cy5hcHBseSh2b2lkIDAsdCk7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHQsZSl7aS5kZWZhdWx0LnByb21pc2U9e3Jlc29sdmU6dCxyZWplY3Q6ZX0sby5kZWZhdWx0KG4pLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyLm9wZW5Nb2RhbCgpfSl9KX19O3MuY2xvc2U9ci5vbkFjdGlvbixzLmdldFN0YXRlPXIuZ2V0U3RhdGUscy5zZXRBY3Rpb25WYWx1ZT1pLnNldEFjdGlvblZhbHVlLHMuc3RvcExvYWRpbmc9ci5zdG9wTG9hZGluZyxzLnNldERlZmF1bHRzPWEuc2V0RGVmYXVsdHMsZS5kZWZhdWx0PXN9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1uKDEpLHI9bigwKSxpPXIuZGVmYXVsdC5NT0RBTCxhPW4oNCkscz1uKDM0KSxjPW4oMzUpLGw9bigxKTtlLmluaXQ9ZnVuY3Rpb24odCl7by5nZXROb2RlKGkpfHwoZG9jdW1lbnQuYm9keXx8bC50aHJvd0VycihcIllvdSBjYW4gb25seSB1c2UgU3dlZXRBbGVydCBBRlRFUiB0aGUgRE9NIGhhcyBsb2FkZWQhXCIpLHMuZGVmYXVsdCgpLGEuZGVmYXVsdCgpKSxhLmluaXRNb2RhbENvbnRlbnQodCksYy5kZWZhdWx0KHQpfSxlLmRlZmF1bHQ9ZS5pbml0fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89bigwKSxyPW8uZGVmYXVsdC5NT0RBTDtlLm1vZGFsTWFya3VwPSdcXG4gIDxkaXYgY2xhc3M9XCInK3IrJ1wiIHJvbGU9XCJkaWFsb2dcIiBhcmlhLW1vZGFsPVwidHJ1ZVwiPjwvZGl2PicsZS5kZWZhdWx0PWUubW9kYWxNYXJrdXB9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1uKDApLHI9by5kZWZhdWx0Lk9WRVJMQVksaT0nPGRpdiBcXG4gICAgY2xhc3M9XCInK3IrJ1wiXFxuICAgIHRhYkluZGV4PVwiLTFcIj5cXG4gIDwvZGl2Pic7ZS5kZWZhdWx0PWl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1uKDApLHI9by5kZWZhdWx0LklDT047ZS5lcnJvckljb25NYXJrdXA9ZnVuY3Rpb24oKXt2YXIgdD1yK1wiLS1lcnJvclwiLGU9dCtcIl9fbGluZVwiO3JldHVybidcXG4gICAgPGRpdiBjbGFzcz1cIicrdCsnX194LW1hcmtcIj5cXG4gICAgICA8c3BhbiBjbGFzcz1cIicrZStcIiBcIitlKyctLWxlZnRcIj48L3NwYW4+XFxuICAgICAgPHNwYW4gY2xhc3M9XCInK2UrXCIgXCIrZSsnLS1yaWdodFwiPjwvc3Bhbj5cXG4gICAgPC9kaXY+XFxuICAnfSxlLndhcm5pbmdJY29uTWFya3VwPWZ1bmN0aW9uKCl7dmFyIHQ9citcIi0td2FybmluZ1wiO3JldHVybidcXG4gICAgPHNwYW4gY2xhc3M9XCInK3QrJ19fYm9keVwiPlxcbiAgICAgIDxzcGFuIGNsYXNzPVwiJyt0KydfX2RvdFwiPjwvc3Bhbj5cXG4gICAgPC9zcGFuPlxcbiAgJ30sZS5zdWNjZXNzSWNvbk1hcmt1cD1mdW5jdGlvbigpe3ZhciB0PXIrXCItLXN1Y2Nlc3NcIjtyZXR1cm4nXFxuICAgIDxzcGFuIGNsYXNzPVwiJyt0K1wiX19saW5lIFwiK3QrJ19fbGluZS0tbG9uZ1wiPjwvc3Bhbj5cXG4gICAgPHNwYW4gY2xhc3M9XCInK3QrXCJfX2xpbmUgXCIrdCsnX19saW5lLS10aXBcIj48L3NwYW4+XFxuXFxuICAgIDxkaXYgY2xhc3M9XCInK3QrJ19fcmluZ1wiPjwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVwiJyt0KydfX2hpZGUtY29ybmVyc1wiPjwvZGl2PlxcbiAgJ319LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1uKDApLHI9by5kZWZhdWx0LkNPTlRFTlQ7ZS5jb250ZW50TWFya3VwPSdcXG4gIDxkaXYgY2xhc3M9XCInK3IrJ1wiPlxcblxcbiAgPC9kaXY+XFxuJ30sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPW4oMCkscj1vLmRlZmF1bHQuQlVUVE9OX0NPTlRBSU5FUixpPW8uZGVmYXVsdC5CVVRUT04sYT1vLmRlZmF1bHQuQlVUVE9OX0xPQURFUjtlLmJ1dHRvbk1hcmt1cD0nXFxuICA8ZGl2IGNsYXNzPVwiJytyKydcIj5cXG5cXG4gICAgPGJ1dHRvblxcbiAgICAgIGNsYXNzPVwiJytpKydcIlxcbiAgICA+PC9idXR0b24+XFxuXFxuICAgIDxkaXYgY2xhc3M9XCInK2ErJ1wiPlxcbiAgICAgIDxkaXY+PC9kaXY+XFxuICAgICAgPGRpdj48L2Rpdj5cXG4gICAgICA8ZGl2PjwvZGl2PlxcbiAgICA8L2Rpdj5cXG5cXG4gIDwvZGl2Plxcbid9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1uKDQpLHI9bigyKSxpPW4oMCksYT1pLmRlZmF1bHQuSUNPTixzPWkuZGVmYXVsdC5JQ09OX0NVU1RPTSxjPVtcImVycm9yXCIsXCJ3YXJuaW5nXCIsXCJzdWNjZXNzXCIsXCJpbmZvXCJdLGw9e2Vycm9yOnIuZXJyb3JJY29uTWFya3VwKCksd2FybmluZzpyLndhcm5pbmdJY29uTWFya3VwKCksc3VjY2VzczpyLnN1Y2Nlc3NJY29uTWFya3VwKCl9LHU9ZnVuY3Rpb24odCxlKXt2YXIgbj1hK1wiLS1cIit0O2UuY2xhc3NMaXN0LmFkZChuKTt2YXIgbz1sW3RdO28mJihlLmlubmVySFRNTD1vKX0sZj1mdW5jdGlvbih0LGUpe2UuY2xhc3NMaXN0LmFkZChzKTt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO24uc3JjPXQsZS5hcHBlbmRDaGlsZChuKX0sZD1mdW5jdGlvbih0KXtpZih0KXt2YXIgZT1vLmluamVjdEVsSW50b01vZGFsKHIuaWNvbk1hcmt1cCk7Yy5pbmNsdWRlcyh0KT91KHQsZSk6Zih0LGUpfX07ZS5kZWZhdWx0PWR9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1uKDIpLHI9big0KSxpPWZ1bmN0aW9uKHQpe25hdmlnYXRvci51c2VyQWdlbnQuaW5jbHVkZXMoXCJBcHBsZVdlYktpdFwiKSYmKHQuc3R5bGUuZGlzcGxheT1cIm5vbmVcIix0Lm9mZnNldEhlaWdodCx0LnN0eWxlLmRpc3BsYXk9XCJcIil9O2UuaW5pdFRpdGxlPWZ1bmN0aW9uKHQpe2lmKHQpe3ZhciBlPXIuaW5qZWN0RWxJbnRvTW9kYWwoby50aXRsZU1hcmt1cCk7ZS50ZXh0Q29udGVudD10LGkoZSl9fSxlLmluaXRUZXh0PWZ1bmN0aW9uKHQpe2lmKHQpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTt0LnNwbGl0KFwiXFxuXCIpLmZvckVhY2goZnVuY3Rpb24odCxuLG8pe2UuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodCkpLG48by5sZW5ndGgtMSYmZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnJcIikpfSk7dmFyIG49ci5pbmplY3RFbEludG9Nb2RhbChvLnRleHRNYXJrdXApO24uYXBwZW5kQ2hpbGQoZSksaShuKX19fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89bigxKSxyPW4oNCksaT1uKDApLGE9aS5kZWZhdWx0LkJVVFRPTixzPWkuZGVmYXVsdC5EQU5HRVJfQlVUVE9OLGM9bigzKSxsPW4oMiksdT1uKDYpLGY9big1KSxkPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1lLnRleHQsaT1lLnZhbHVlLGQ9ZS5jbGFzc05hbWUscD1lLmNsb3NlTW9kYWwsbT1vLnN0cmluZ1RvTm9kZShsLmJ1dHRvbk1hcmt1cCksYj1tLnF1ZXJ5U2VsZWN0b3IoXCIuXCIrYSksdj1hK1wiLS1cIit0O2lmKGIuY2xhc3NMaXN0LmFkZCh2KSxkKXsoQXJyYXkuaXNBcnJheShkKT9kOmQuc3BsaXQoXCIgXCIpKS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQubGVuZ3RoPjB9KS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2IuY2xhc3NMaXN0LmFkZCh0KX0pfW4mJnQ9PT1jLkNPTkZJUk1fS0VZJiZiLmNsYXNzTGlzdC5hZGQocyksYi50ZXh0Q29udGVudD1yO3ZhciBnPXt9O3JldHVybiBnW3RdPWksZi5zZXRBY3Rpb25WYWx1ZShnKSxmLnNldEFjdGlvbk9wdGlvbnNGb3IodCx7Y2xvc2VNb2RhbDpwfSksYi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe3JldHVybiB1Lm9uQWN0aW9uKHQpfSksbX0scD1mdW5jdGlvbih0LGUpe3ZhciBuPXIuaW5qZWN0RWxJbnRvTW9kYWwobC5mb290ZXJNYXJrdXApO2Zvcih2YXIgbyBpbiB0KXt2YXIgaT10W29dLGE9ZChvLGksZSk7aS52aXNpYmxlJiZuLmFwcGVuZENoaWxkKGEpfTA9PT1uLmNoaWxkcmVuLmxlbmd0aCYmbi5yZW1vdmUoKX07ZS5kZWZhdWx0PXB9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1uKDMpLHI9big0KSxpPW4oMiksYT1uKDUpLHM9big2KSxjPW4oMCksbD1jLmRlZmF1bHQuQ09OVEVOVCx1PWZ1bmN0aW9uKHQpe3QuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsZnVuY3Rpb24odCl7dmFyIGU9dC50YXJnZXQsbj1lLnZhbHVlO2Euc2V0QWN0aW9uVmFsdWUobil9KSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLGZ1bmN0aW9uKHQpe2lmKFwiRW50ZXJcIj09PXQua2V5KXJldHVybiBzLm9uQWN0aW9uKG8uQ09ORklSTV9LRVkpfSksc2V0VGltZW91dChmdW5jdGlvbigpe3QuZm9jdXMoKSxhLnNldEFjdGlvblZhbHVlKFwiXCIpfSwwKX0sZj1mdW5jdGlvbih0LGUsbil7dmFyIG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChlKSxyPWwrXCJfX1wiK2U7by5jbGFzc0xpc3QuYWRkKHIpO2Zvcih2YXIgaSBpbiBuKXt2YXIgYT1uW2ldO29baV09YX1cImlucHV0XCI9PT1lJiZ1KG8pLHQuYXBwZW5kQ2hpbGQobyl9LGQ9ZnVuY3Rpb24odCl7aWYodCl7dmFyIGU9ci5pbmplY3RFbEludG9Nb2RhbChpLmNvbnRlbnRNYXJrdXApLG49dC5lbGVtZW50LG89dC5hdHRyaWJ1dGVzO1wic3RyaW5nXCI9PXR5cGVvZiBuP2YoZSxuLG8pOmUuYXBwZW5kQ2hpbGQobil9fTtlLmRlZmF1bHQ9ZH0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPW4oMSkscj1uKDIpLGk9ZnVuY3Rpb24oKXt2YXIgdD1vLnN0cmluZ1RvTm9kZShyLm92ZXJsYXlNYXJrdXApO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodCl9O2UuZGVmYXVsdD1pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89big1KSxyPW4oNiksaT1uKDEpLGE9bigzKSxzPW4oMCksYz1zLmRlZmF1bHQuTU9EQUwsbD1zLmRlZmF1bHQuQlVUVE9OLHU9cy5kZWZhdWx0Lk9WRVJMQVksZj1mdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCksdigpfSxkPWZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKSxnKCl9LHA9ZnVuY3Rpb24odCl7aWYoby5kZWZhdWx0LmlzT3Blbilzd2l0Y2godC5rZXkpe2Nhc2VcIkVzY2FwZVwiOnJldHVybiByLm9uQWN0aW9uKGEuQ0FOQ0VMX0tFWSl9fSxtPWZ1bmN0aW9uKHQpe2lmKG8uZGVmYXVsdC5pc09wZW4pc3dpdGNoKHQua2V5KXtjYXNlXCJUYWJcIjpyZXR1cm4gZih0KX19LGI9ZnVuY3Rpb24odCl7aWYoby5kZWZhdWx0LmlzT3BlbilyZXR1cm5cIlRhYlwiPT09dC5rZXkmJnQuc2hpZnRLZXk/ZCh0KTp2b2lkIDB9LHY9ZnVuY3Rpb24oKXt2YXIgdD1pLmdldE5vZGUobCk7dCYmKHQudGFiSW5kZXg9MCx0LmZvY3VzKCkpfSxnPWZ1bmN0aW9uKCl7dmFyIHQ9aS5nZXROb2RlKGMpLGU9dC5xdWVyeVNlbGVjdG9yQWxsKFwiLlwiK2wpLG49ZS5sZW5ndGgtMSxvPWVbbl07byYmby5mb2N1cygpfSxoPWZ1bmN0aW9uKHQpe3RbdC5sZW5ndGgtMV0uYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIixtKX0sdz1mdW5jdGlvbih0KXt0WzBdLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsYil9LHk9ZnVuY3Rpb24oKXt2YXIgdD1pLmdldE5vZGUoYyksZT10LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuXCIrbCk7ZS5sZW5ndGgmJihoKGUpLHcoZSkpfSx4PWZ1bmN0aW9uKHQpe2lmKGkuZ2V0Tm9kZSh1KT09PXQudGFyZ2V0KXJldHVybiByLm9uQWN0aW9uKGEuQ0FOQ0VMX0tFWSl9LF89ZnVuY3Rpb24odCl7dmFyIGU9aS5nZXROb2RlKHUpO2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIseCksdCYmZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix4KX0saz1mdW5jdGlvbih0KXtvLmRlZmF1bHQudGltZXImJmNsZWFyVGltZW91dChvLmRlZmF1bHQudGltZXIpLHQmJihvLmRlZmF1bHQudGltZXI9d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gci5vbkFjdGlvbihhLkNBTkNFTF9LRVkpfSx0KSl9LE89ZnVuY3Rpb24odCl7dC5jbG9zZU9uRXNjP2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLHApOmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLHApLHQuZGFuZ2VyTW9kZT92KCk6ZygpLHkoKSxfKHQuY2xvc2VPbkNsaWNrT3V0c2lkZSksayh0LnRpbWVyKX07ZS5kZWZhdWx0PU99LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1uKDEpLHI9bigzKSxpPW4oMzcpLGE9bigzOCkscz17dGl0bGU6bnVsbCx0ZXh0Om51bGwsaWNvbjpudWxsLGJ1dHRvbnM6ci5kZWZhdWx0QnV0dG9uTGlzdCxjb250ZW50Om51bGwsY2xhc3NOYW1lOm51bGwsY2xvc2VPbkNsaWNrT3V0c2lkZTohMCxjbG9zZU9uRXNjOiEwLGRhbmdlck1vZGU6ITEsdGltZXI6bnVsbH0sYz1PYmplY3QuYXNzaWduKHt9LHMpO2Uuc2V0RGVmYXVsdHM9ZnVuY3Rpb24odCl7Yz1PYmplY3QuYXNzaWduKHt9LHMsdCl9O3ZhciBsPWZ1bmN0aW9uKHQpe3ZhciBlPXQmJnQuYnV0dG9uLG49dCYmdC5idXR0b25zO3JldHVybiB2b2lkIDAhPT1lJiZ2b2lkIDAhPT1uJiZvLnRocm93RXJyKFwiQ2Fubm90IHNldCBib3RoICdidXR0b24nIGFuZCAnYnV0dG9ucycgb3B0aW9ucyFcIiksdm9pZCAwIT09ZT97Y29uZmlybTplfTpufSx1PWZ1bmN0aW9uKHQpe3JldHVybiBvLm9yZGluYWxTdWZmaXhPZih0KzEpfSxmPWZ1bmN0aW9uKHQsZSl7by50aHJvd0Vycih1KGUpK1wiIGFyZ3VtZW50ICgnXCIrdCtcIicpIGlzIGludmFsaWRcIil9LGQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10KzEscj1lW25dO28uaXNQbGFpbk9iamVjdChyKXx8dm9pZCAwPT09cnx8by50aHJvd0VycihcIkV4cGVjdGVkIFwiK3UobikrXCIgYXJndW1lbnQgKCdcIityK1wiJykgdG8gYmUgYSBwbGFpbiBvYmplY3RcIil9LHA9ZnVuY3Rpb24odCxlKXt2YXIgbj10KzEscj1lW25dO3ZvaWQgMCE9PXImJm8udGhyb3dFcnIoXCJVbmV4cGVjdGVkIFwiK3UobikrXCIgYXJndW1lbnQgKFwiK3IrXCIpXCIpfSxtPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPXR5cGVvZiBlLGE9XCJzdHJpbmdcIj09PWkscz1lIGluc3RhbmNlb2YgRWxlbWVudDtpZihhKXtpZigwPT09bilyZXR1cm57dGV4dDplfTtpZigxPT09bilyZXR1cm57dGV4dDplLHRpdGxlOnJbMF19O2lmKDI9PT1uKXJldHVybiBkKG4scikse2ljb246ZX07ZihlLG4pfWVsc2V7aWYocyYmMD09PW4pcmV0dXJuIGQobixyKSx7Y29udGVudDplfTtpZihvLmlzUGxhaW5PYmplY3QoZSkpcmV0dXJuIHAobixyKSxlO2YoZSxuKX19O2UuZ2V0T3B0cz1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2VdPWFyZ3VtZW50c1tlXTt2YXIgbj17fTt0LmZvckVhY2goZnVuY3Rpb24oZSxvKXt2YXIgcj1tKDAsZSxvLHQpO09iamVjdC5hc3NpZ24obixyKX0pO3ZhciBvPWwobik7bi5idXR0b25zPXIuZ2V0QnV0dG9uTGlzdE9wdHMobyksZGVsZXRlIG4uYnV0dG9uLG4uY29udGVudD1pLmdldENvbnRlbnRPcHRzKG4uY29udGVudCk7dmFyIHU9T2JqZWN0LmFzc2lnbih7fSxzLGMsbik7cmV0dXJuIE9iamVjdC5rZXlzKHUpLmZvckVhY2goZnVuY3Rpb24odCl7YS5ERVBSRUNBVEVEX09QVFNbdF0mJmEubG9nRGVwcmVjYXRpb24odCl9KSx1fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPW4oMSkscj17ZWxlbWVudDpcImlucHV0XCIsYXR0cmlidXRlczp7cGxhY2Vob2xkZXI6XCJcIn19O2UuZ2V0Q29udGVudE9wdHM9ZnVuY3Rpb24odCl7dmFyIGU9e307cmV0dXJuIG8uaXNQbGFpbk9iamVjdCh0KT9PYmplY3QuYXNzaWduKGUsdCk6dCBpbnN0YW5jZW9mIEVsZW1lbnQ/e2VsZW1lbnQ6dH06XCJpbnB1dFwiPT09dD9yOm51bGx9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5sb2dEZXByZWNhdGlvbj1mdW5jdGlvbih0KXt2YXIgbj1lLkRFUFJFQ0FURURfT1BUU1t0XSxvPW4ub25seVJlbmFtZSxyPW4ucmVwbGFjZW1lbnQsaT1uLnN1Yk9wdGlvbixhPW4ubGluayxzPW8/XCJyZW5hbWVkXCI6XCJkZXByZWNhdGVkXCIsYz0nU3dlZXRBbGVydCB3YXJuaW5nOiBcIicrdCsnXCIgb3B0aW9uIGhhcyBiZWVuICcrcytcIi5cIjtpZihyKXtjKz1cIiBQbGVhc2UgdXNlXCIrKGk/JyBcIicraSsnXCIgaW4gJzpcIiBcIikrJ1wiJytyKydcIiBpbnN0ZWFkLid9dmFyIGw9XCJodHRwczovL3N3ZWV0YWxlcnQuanMub3JnXCI7Yys9YT9cIiBNb3JlIGRldGFpbHM6IFwiK2wrYTpcIiBNb3JlIGRldGFpbHM6IFwiK2wrXCIvZ3VpZGVzLyN1cGdyYWRpbmctZnJvbS0xeFwiLGNvbnNvbGUud2FybihjKX0sZS5ERVBSRUNBVEVEX09QVFM9e3R5cGU6e3JlcGxhY2VtZW50OlwiaWNvblwiLGxpbms6XCIvZG9jcy8jaWNvblwifSxpbWFnZVVybDp7cmVwbGFjZW1lbnQ6XCJpY29uXCIsbGluazpcIi9kb2NzLyNpY29uXCJ9LGN1c3RvbUNsYXNzOntyZXBsYWNlbWVudDpcImNsYXNzTmFtZVwiLG9ubHlSZW5hbWU6ITAsbGluazpcIi9kb2NzLyNjbGFzc25hbWVcIn0saW1hZ2VTaXplOnt9LHNob3dDYW5jZWxCdXR0b246e3JlcGxhY2VtZW50OlwiYnV0dG9uc1wiLGxpbms6XCIvZG9jcy8jYnV0dG9uc1wifSxzaG93Q29uZmlybUJ1dHRvbjp7cmVwbGFjZW1lbnQ6XCJidXR0b25cIixsaW5rOlwiL2RvY3MvI2J1dHRvblwifSxjb25maXJtQnV0dG9uVGV4dDp7cmVwbGFjZW1lbnQ6XCJidXR0b25cIixsaW5rOlwiL2RvY3MvI2J1dHRvblwifSxjb25maXJtQnV0dG9uQ29sb3I6e30sY2FuY2VsQnV0dG9uVGV4dDp7cmVwbGFjZW1lbnQ6XCJidXR0b25zXCIsbGluazpcIi9kb2NzLyNidXR0b25zXCJ9LGNsb3NlT25Db25maXJtOntyZXBsYWNlbWVudDpcImJ1dHRvblwiLHN1Yk9wdGlvbjpcImNsb3NlTW9kYWxcIixsaW5rOlwiL2RvY3MvI2J1dHRvblwifSxjbG9zZU9uQ2FuY2VsOntyZXBsYWNlbWVudDpcImJ1dHRvbnNcIixzdWJPcHRpb246XCJjbG9zZU1vZGFsXCIsbGluazpcIi9kb2NzLyNidXR0b25zXCJ9LHNob3dMb2FkZXJPbkNvbmZpcm06e3JlcGxhY2VtZW50OlwiYnV0dG9uc1wifSxhbmltYXRpb246e30saW5wdXRUeXBlOntyZXBsYWNlbWVudDpcImNvbnRlbnRcIixsaW5rOlwiL2RvY3MvI2NvbnRlbnRcIn0saW5wdXRWYWx1ZTp7cmVwbGFjZW1lbnQ6XCJjb250ZW50XCIsbGluazpcIi9kb2NzLyNjb250ZW50XCJ9LGlucHV0UGxhY2Vob2xkZXI6e3JlcGxhY2VtZW50OlwiY29udGVudFwiLGxpbms6XCIvZG9jcy8jY29udGVudFwifSxodG1sOntyZXBsYWNlbWVudDpcImNvbnRlbnRcIixsaW5rOlwiL2RvY3MvI2NvbnRlbnRcIn0sYWxsb3dFc2NhcGVLZXk6e3JlcGxhY2VtZW50OlwiY2xvc2VPbkVzY1wiLG9ubHlSZW5hbWU6ITAsbGluazpcIi9kb2NzLyNjbG9zZW9uZXNjXCJ9LGFsbG93Q2xpY2tPdXRzaWRlOntyZXBsYWNlbWVudDpcImNsb3NlT25DbGlja091dHNpZGVcIixvbmx5UmVuYW1lOiEwLGxpbms6XCIvZG9jcy8jY2xvc2VvbmNsaWNrb3V0c2lkZVwifX19XSl9KTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9zd2VldGFsZXJ0L2Rpc3Qvc3dlZXRhbGVydC5taW4uanNcbi8vIG1vZHVsZSBpZCA9IDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSB7XG4gIHNob3dNb2RlbE1zZyxcbiAgaGlkZU1vZGVsTXNnLFxuICByZXNldE1vZGVscyxcbiAgY2xlYXJDaGVja2VkTW9kZWwsXG4gIGZpbHRlck1vZGVscyxcbiAgZ2V0TW9kZWxzXG59O1xuXG5sZXQgdXNlckdsb2JhbCA9IHJlcXVpcmUoJy4vdXNlcl9nbG9iYWwuanMnKTtcbmxldCB1c2VyQ29sb3JzID0gcmVxdWlyZSgnLi91c2VyX2NvbG9ycy5qcycpOyBcbmxldCB1c2VyUHJldmlldyA9IHJlcXVpcmUoJy4vdXNlcl9wcmV2aWV3LmpzJyk7IFxubGV0IHN3YWwgPSByZXF1aXJlKCdzd2VldGFsZXJ0Jyk7XG5sZXQgc2Nyb2xsID0gcmVxdWlyZSgnLi9wYWdlc19zY3JvbGwuanMnKTtcblxuLy8gZ2xvYmFsIHZhcmlhYmxlc1xubGV0IGhtID0gJ2htLWJsYWNrLWxpZ2h0JztcblxuICAvKiBjb2xvciBvcHRpb24gY3NzICovXG4gICQoJy5tb2RlbC1vcHRpb24nKS5vbignY2xpY2snLGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAvLyBjb25zb2xlLmxvZygnbW9kZWwgb3B0aW9uIGhhcyBjbGFzczogJywgJCh0aGlzKS5maW5kKCdpJykuaGFzQ2xhc3MoJ2ZhLWNoZWNrJykgKTtcblxuICAgIGlmKCAhdXNlckdsb2JhbC50YWxsYVNlbGVjdGVkICl7XG4gICAgICBzd2FsKHtcbiAgICAgICAgdGl0bGU6IFwiVXBzXCIsXG4gICAgICAgIHRleHQ6ICdQcmltZXJvIHNlbGVjY2lvbmUgdW5hIHRhbGxhLicsIC8vcmVzLmVycm9yTXNnXG4gICAgICAgIGljb246IFwiZXJyb3JcIlxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIHVzZXJDb2xvcnMuY2xlYXJDaGVja2VkQ29sb3IoKTtcblxuICAgIGlmKCAkKHRoaXMpLmhhc0NsYXNzKCdtb2RlbC1jaGVja2VkJykgKXtcbiAgICAgICQodGhpcykuZmluZCgnaScpLnJlbW92ZUNsYXNzKCdmYS1jaGVjaycpO1xuICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnbW9kZWwtY2hlY2tlZCcpO1xuICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcyhobSk7XG5cbiAgICAgIHVzZXJDb2xvcnMucmVzZXRDb2xvcnMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzZXRNb2RlbHMoaG0pO1xuXG4gICAgICAkKHRoaXMpLmZpbmQoJ2knKS5hZGRDbGFzcygnZmEtY2hlY2snKTtcbiAgICAgICQodGhpcykuYWRkQ2xhc3MoJ21vZGVsLWNoZWNrZWQnKTtcbiAgICAgICQodGhpcykuYWRkQ2xhc3MoaG0pO1xuICAgICAgc2Nyb2xsLnNtb290aFNjcm9sbFRvKCdzZWN0aW9uJywgJ19jb2xvcnMnKTtcbiAgICB9XG5cbiAgICBsZXQgbW9kZWxDaGVja2VkID0gJCgnLm1vZGVsLWNoZWNrZWQnKTtcbiAgICBtb2RlbENoZWNrZWQgPSAkKG1vZGVsQ2hlY2tlZFswXSkuZGF0YSgpO1xuICAgIGlmKG1vZGVsQ2hlY2tlZCl7XG4gICAgICB1c2VyR2xvYmFsLm1vZGVsQ2hlY2tlZCA9IG1vZGVsQ2hlY2tlZDtcbiAgICAgIHVzZXJDb2xvcnMucmVuZGVyRmlsdGVyZWRDb2xvcnMobW9kZWxDaGVja2VkKTtcbiAgICAgIHVzZXJQcmV2aWV3LmhpZGVQcmV2aWV3KCk7XG4gICAgICB1c2VyUHJldmlldy5zaG93UHJldmlld01zZygnKiBTZWxlY2Npb25lIHVuIGNvbG9yJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIG5vIG1vZGVsIHNlbGVjdGVkLCBsZXQgdGhlIHVzZXIga25vdywgaGUgbmVlZHMgdG8gc2VsZWN0IG9uZSBtb2RlbCBmaXJzdFxuICAgICAgdXNlckdsb2JhbC5tb2RlbENoZWNrZWQgPSB1bmRlZmluZWQ7XG4gICAgICAkKCcjY29sb3ItY29udGFpbmVyLW1lc3NhZ2UnKS5maW5kKCdwJykudGV4dCgnU2VsZWNjaW9uZSB1biBtb2RlbG8nKTtcbiAgICAgICQoJyNjb2xvci1jb250YWluZXItbWVzc2FnZScpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcbiAgICAgIHVzZXJQcmV2aWV3LmhpZGVQcmV2aWV3KCk7XG4gICAgICB1c2VyUHJldmlldy5zaG93UHJldmlld01zZygnKiBTZWxlY2Npb25lIHVuIG1vZGVsbzxicj5TZWxlY2Npb25lIHVuIGNvbG9yJyk7XG4gICAgfVxuXG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGZpbHRlck1vZGVscygpIHtcbiAgICAvKiBnZXQgYWwgZGUgLm1vZGVsLW9wdGlvbnMgZWxlbW50IGluIHRoZSBET00gKi9cbiAgICBsZXQgbW9kZWxPcHRpb25zID0gJCgnLm1vZGVsLW9wdGlvbicpO1xuICAgIGxldCBtb2RlbHNBdmxiID0gW107IC8vIG1vZGVscyBhYmFpbGFibGVcbiAgICBcbiAgICAvKiBnZXQgZGUgYXJyYXkgb2YgbW9kZWxzIGF2YWlsYWJsZSBmb3Igc2VsZWN0ZWQgc2l6ZSBpbiB1c2VyR2xvYmFsLmNhdEZpbHRlcmVkIC8vIFsxLDIsMTJdICovXG4gICAgbW9kZWxzQXZsYiA9IGdldE1vZGVscygpOyBcbiAgICBjb25zb2xlLmxvZygnbW9kZWxzQXZsYiAnLCBtb2RlbHNBdmxiKTtcbiAgICBcblxuICAgIC8qICBsb29wIHRocm91Z2ggLm1vZGVsLW9wdGlvbiBlbGVtZW50cyBnZXQgdGhlIGRhdGEoY2FyZE1vZGVsSWQpIGFuZCBpZiBpdCBleGlzdHNcbiAgICAgICAgaW4gbW9kZWxzQXZsYiBzaG93IGl0IGVsc2UgaGlkZSBpdCAqL1xuICAgIGZvciggbGV0IGkgPSAwOyBpIDwgbW9kZWxPcHRpb25zLmxlbmd0aCA7IGkrKyApe1xuICAgICAgbGV0IG1vZGVsID0gJChtb2RlbE9wdGlvbnNbaV0pO1xuICAgICAgbGV0IG1vZGVsSW1nSXNTZXQgPSBmYWxzZTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdtb2RlbCcsIG1vZGVsKTtcbiAgICAgIFxuICAgICAgLy8gY29uc29sZS5sb2coYG1vZGVsLmNvZGUgaW5pdCAjIyMjIyMjIyMjIyMjIyMjIyMjIyAgJHttb2RlbC5kYXRhKCdjYXJkTW9kZWxDb2RlJyl9YCk7XG4gICAgICAvLyBjb25zb2xlLmxvZygndXNlckdsb2JhbC5jYXRGaWx0ZXJlZCcsIHVzZXJHbG9iYWwuY2F0RmlsdGVyZWQpO1xuICAgICAgXG4gICAgICAvLyBpZih1c2VyR2xvYmFsLmNhdEZpbHRlcmVkKXtcbiAgICAgICAgbGV0IG1vZGVsRGV0YWlsID0gdXNlckdsb2JhbC5jYXRGaWx0ZXJlZC5maWx0ZXIoZnVuY3Rpb24obW9kKSB7XG4gICAgICAgICAgcmV0dXJuIG1vZC5tb2RlbCA9PSBtb2RlbC5kYXRhKCdjYXJkTW9kZWxJZCcpO1xuICAgICAgICB9KVswXTtcbiAgICAgIC8vIH1cblxuICAgICAgICAvLyBpZiggbW9kZWxEZXRhaWwgKXsgbW9kZWxEZXRhaWwgPSBtb2RlbERldGFpbFswXTsgfVxuXG4gICAgICAgIGlmKCQuaW5BcnJheSggJChtb2RlbCkuZGF0YSgnY2FyZE1vZGVsSWQnKSwgbW9kZWxzQXZsYiApID09IC0xKXsgXG4gICAgICAgICAgLyogaWYgY2FyZE1vZGVsSWQgaXMgbm90IGluIG1vZGVsc0F2bGIgaGlkZSBpdCAqL1xuICAgICAgICAgICQobW9kZWwpLmFkZENsYXNzKCdkLW5vbmUnKTsgXG4gICAgICAgIH0gZWxzZSB7IFxuICAgICAgICAgIC8qIGlmIGNhcmRNb2RlbElkIGlzIGluIG1vZGVsc0F2bGIgc2hvdyBpdCBhbmQgZmlsdGVyIHN1bW1hcnlDb2xvcnNPcHQqL1xuICAgICAgICAgIGxldCBzdW1tYXJ5Q29sb3JzT3B0ID0gbW9kZWwuZmluZCgnZGl2LnN1bW1hcnktY29sb3Itb3B0aW9uJyk7XG4gICAgICAgICAgJChtb2RlbCkucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xuICAgICAgICAgIGxldCBtb2RlbERldGFpbCA9IHVzZXJHbG9iYWwuY2F0RmlsdGVyZWQuZmlsdGVyKCBmdW5jdGlvbihtb2QpIHsgcmV0dXJuIG1vZC5tb2RlbCA9PSBtb2RlbC5kYXRhKCdjYXJkTW9kZWxJZCcpOyB9KVswXTtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZygnbW9kZWxEZXRhaWwnLCBtb2RlbERldGFpbCk7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coJ3VzZXJHbG9iYWwnLCB1c2VyR2xvYmFsLmNhdEZpbHRlcmVkKTtcbiAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHN1bW1hcnlDb2xvcnNPcHQubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGxldCBtaW5pQ29sb3IgPSAkKHN1bW1hcnlDb2xvcnNPcHRbal0pO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ21pbmlDb2xvcicsIG1pbmlDb2xvcik7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnbWluaUNvbG9yLmlkJywgbWluaUNvbG9yLmRhdGEoJ3N1bW1hcnlDb2xvcklkJykpO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ21vZGVsRGV0YWlsLmNvbG9ycycsIG1vZGVsRGV0YWlsLmNvbG9ycyk7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnbWluaUNvbG9yLmlkIGlzIGluIG1vZGVsRGV0YWlsLmNvbG9ycycsICQuaW5BcnJheSggbWluaUNvbG9yLmRhdGEoJ3N1bW1hcnlDb2xvcklkJyksIG1vZGVsRGV0YWlsLmNvbG9ycyApKTtcbiAgICAgICAgICAgIGlmKCAkLmluQXJyYXkoIFN0cmluZyhtaW5pQ29sb3IuZGF0YSgnc3VtbWFyeUNvbG9ySWQnKSksIG1vZGVsRGV0YWlsLmNvbG9ycyApICE9PSAtMSApe1xuICAgICAgICAgICAgICBtaW5pQ29sb3IucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xuXG4gICAgICAgICAgICAgIGlmKCFtb2RlbEltZ0lzU2V0KXtcbiAgICAgICAgICAgICAgICBsZXQgdXJsID0nbWF0ZXJpYWwvY2F0X21vZGVsLyc7XG4gICAgICAgICAgICAgICAgdXJsICs9IG1vZGVsLmRhdGEoJ2NhcmRNb2RlbENvZGUnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIHVybCArPSAnLSc7XG4gICAgICAgICAgICAgICAgdXJsICs9IG1pbmlDb2xvci5kYXRhKCdzdW1tYXJ5Q29sb3JDb2RlJykudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICB1cmwgKz0gJy5qcGcnO1xuICAgICAgICAgICAgICAgIC8vIG1vZGVsLmZpbmQoJ2ltZy5pbWctbW9kZWwtb3B0aW9uJykuYXR0cignc3JjJywgJ21hdGVyaWFsL2NhdF9tb2RlbC9sZHktcmVkLmpwZycpO1xuICAgICAgICAgICAgICAgIG1vZGVsLmZpbmQoJ2ltZy5pbWctbW9kZWwtb3B0aW9uJykuYXR0cignc3JjJywgdXJsKTtcbiAgICAgICAgICAgICAgICBtb2RlbEltZ0lzU2V0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbWluaUNvbG9yLmFkZENsYXNzKCdkLW5vbmUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH1cblxuICB9XG5cbiAgZnVuY3Rpb24gaGlkZU1vZGVsQ2FyZHMoKSB7XG4gICAgJCgnI21vZGVscy1jb250YWluZXItY2FyZHMnKS5hZGRDbGFzcygnZC1ub25lJyk7XG4gIH1cbiAgZnVuY3Rpb24gc2hvd01vZGVsQ2FyZHMoKSB7XG4gICAgJCgnI21vZGVscy1jb250YWluZXItY2FyZHMnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XG4gIH1cblxuICBmdW5jdGlvbiBzaG93TW9kZWxNc2cobXNnKSB7XG4gICAgJCgnI21vZGVscy1jb250YWluZXItbWVzc2FnZScpLmZpbmQoJ3AnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XG4gICAgJCgnI21vZGVscy1jb250YWluZXItbWVzc2FnZScpLmZpbmQoJ3AnKS50ZXh0KG1zZyk7XG4gIH1cblxuICBmdW5jdGlvbiBoaWRlTW9kZWxNc2coKSB7XG4gICAgJCgnI21vZGVscy1jb250YWluZXItbWVzc2FnZScpLmZpbmQoJ3AnKS5hZGRDbGFzcygnZC1ub25lJyk7XG4gICAgJCgnI21vZGVscy1jb250YWluZXItbWVzc2FnZScpLmZpbmQoJ3AnKS50ZXh0KCdNZXNzYWdlIGdvZXMgaGVyZScpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRNb2RlbHMoKSB7XG4gICAgLy8gJCgnLmNvbG9yLW9wdGlvbj4udmlldz4ubWFzaz5pJykucmVtb3ZlQ2xhc3MoJ2ZhLWNoZWNrJyk7XG4gICAgdXNlckdsb2JhbC5tb2RlbENoZWNrZWQgPSB1bmRlZmluZWQ7XG4gICAgJCgnLm1vZGVsLW9wdGlvbicpLmZpbmQoJ2knKS5yZW1vdmVDbGFzcygnZmEtY2hlY2snKTtcbiAgICAkKCcubW9kZWwtb3B0aW9uJykucmVtb3ZlQ2xhc3MoJ21vZGVsLWNoZWNrZWQnKTtcbiAgICAkKCcubW9kZWwtb3B0aW9uJykucmVtb3ZlQ2xhc3MoaG0pO1xuICB9XG4gIFxuICBmdW5jdGlvbiBjbGVhckNoZWNrZWRNb2RlbCgpIHtcbiAgICB1c2VyR2xvYmFsLm1vZGVsQ2hlY2tlZCA9IHVuZGVmaW5lZDtcbiAgICAkKCcubW9kZWwtb3B0aW9uJykuZmluZCgnaScpLnJlbW92ZUNsYXNzKCdmYS1jaGVjaycpO1xuICAgICQoJy5tb2RlbC1vcHRpb24nKS5yZW1vdmVDbGFzcygnbW9kZWwtY2hlY2tlZCcpO1xuICAgICQoJy5tb2RlbC1vcHRpb24nKS5yZW1vdmVDbGFzcyhobSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRNb2RlbHMoKSB7IFxuICAgIC8vIHJldHVybnMgYXJyYXkgb2YgdGhlIG1vZGVscycgaWQgYXZhaWxhYmxlIGZvciB0aGF0IHNpemVcbiAgICAvLyBbMSwyLDMsNF1cbiAgICBsZXQgYXJyTW9kZWxzSWQgPSBbXTtcbiAgICBpZih1c2VyR2xvYmFsLmNhdEZpbHRlcmVkKXtcbiAgICAgIHVzZXJHbG9iYWwuY2F0RmlsdGVyZWQuZm9yRWFjaChmdW5jdGlvbihtb2RlbE9iaikge1xuICAgICAgICBhcnJNb2RlbHNJZC5wdXNoKCBwYXJzZUludChtb2RlbE9iai5tb2RlbCkgKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gYXJyTW9kZWxzSWQ7XG4gIH1cblxuXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3ZpZXdzL2Fzc2V0cy9qcy9hamF4X3NjcmlwdHMvdXNlcl9tb2RlbHMuanNcbi8vIG1vZHVsZSBpZCA9IDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIGFwcGx5ID0gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5O1xuXG4vLyBET00gQVBJcywgZm9yIGNvbXBsZXRlbmVzc1xuXG5leHBvcnRzLnNldFRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0VGltZW91dCwgd2luZG93LCBhcmd1bWVudHMpLCBjbGVhclRpbWVvdXQpO1xufTtcbmV4cG9ydHMuc2V0SW50ZXJ2YWwgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0SW50ZXJ2YWwsIHdpbmRvdywgYXJndW1lbnRzKSwgY2xlYXJJbnRlcnZhbCk7XG59O1xuZXhwb3J0cy5jbGVhclRpbWVvdXQgPVxuZXhwb3J0cy5jbGVhckludGVydmFsID0gZnVuY3Rpb24odGltZW91dCkge1xuICBpZiAodGltZW91dCkge1xuICAgIHRpbWVvdXQuY2xvc2UoKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gVGltZW91dChpZCwgY2xlYXJGbikge1xuICB0aGlzLl9pZCA9IGlkO1xuICB0aGlzLl9jbGVhckZuID0gY2xlYXJGbjtcbn1cblRpbWVvdXQucHJvdG90eXBlLnVucmVmID0gVGltZW91dC5wcm90b3R5cGUucmVmID0gZnVuY3Rpb24oKSB7fTtcblRpbWVvdXQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX2NsZWFyRm4uY2FsbCh3aW5kb3csIHRoaXMuX2lkKTtcbn07XG5cbi8vIERvZXMgbm90IHN0YXJ0IHRoZSB0aW1lLCBqdXN0IHNldHMgdXAgdGhlIG1lbWJlcnMgbmVlZGVkLlxuZXhwb3J0cy5lbnJvbGwgPSBmdW5jdGlvbihpdGVtLCBtc2Vjcykge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG4gIGl0ZW0uX2lkbGVUaW1lb3V0ID0gbXNlY3M7XG59O1xuXG5leHBvcnRzLnVuZW5yb2xsID0gZnVuY3Rpb24oaXRlbSkge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG4gIGl0ZW0uX2lkbGVUaW1lb3V0ID0gLTE7XG59O1xuXG5leHBvcnRzLl91bnJlZkFjdGl2ZSA9IGV4cG9ydHMuYWN0aXZlID0gZnVuY3Rpb24oaXRlbSkge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG5cbiAgdmFyIG1zZWNzID0gaXRlbS5faWRsZVRpbWVvdXQ7XG4gIGlmIChtc2VjcyA+PSAwKSB7XG4gICAgaXRlbS5faWRsZVRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gb25UaW1lb3V0KCkge1xuICAgICAgaWYgKGl0ZW0uX29uVGltZW91dClcbiAgICAgICAgaXRlbS5fb25UaW1lb3V0KCk7XG4gICAgfSwgbXNlY3MpO1xuICB9XG59O1xuXG4vLyBzZXRpbW1lZGlhdGUgYXR0YWNoZXMgaXRzZWxmIHRvIHRoZSBnbG9iYWwgb2JqZWN0XG5yZXF1aXJlKFwic2V0aW1tZWRpYXRlXCIpO1xuLy8gT24gc29tZSBleG90aWMgZW52aXJvbm1lbnRzLCBpdCdzIG5vdCBjbGVhciB3aGljaCBvYmplY3QgYHNldGltbWVpZGF0ZWAgd2FzXG4vLyBhYmxlIHRvIGluc3RhbGwgb250by4gIFNlYXJjaCBlYWNoIHBvc3NpYmlsaXR5IGluIHRoZSBzYW1lIG9yZGVyIGFzIHRoZVxuLy8gYHNldGltbWVkaWF0ZWAgbGlicmFyeS5cbmV4cG9ydHMuc2V0SW1tZWRpYXRlID0gKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiICYmIHNlbGYuc2V0SW1tZWRpYXRlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBnbG9iYWwuc2V0SW1tZWRpYXRlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAodGhpcyAmJiB0aGlzLnNldEltbWVkaWF0ZSk7XG5leHBvcnRzLmNsZWFySW1tZWRpYXRlID0gKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiICYmIHNlbGYuY2xlYXJJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgJiYgZ2xvYmFsLmNsZWFySW1tZWRpYXRlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzICYmIHRoaXMuY2xlYXJJbW1lZGlhdGUpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdGltZXJzLWJyb3dzZXJpZnkvbWFpbi5qc1xuLy8gbW9kdWxlIGlkID0gNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgZztcclxuXHJcbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXHJcbmcgPSAoZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIHRoaXM7XHJcbn0pKCk7XHJcblxyXG50cnkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxyXG5cdGcgPSBnIHx8IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSB8fCAoMSxldmFsKShcInRoaXNcIik7XHJcbn0gY2F0Y2goZSkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXHJcblx0aWYodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIilcclxuXHRcdGcgPSB3aW5kb3c7XHJcbn1cclxuXHJcbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cclxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3NcclxuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBnO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAod2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanNcbi8vIG1vZHVsZSBpZCA9IDdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSB7XG4gIGFkZEl0ZW1Ub0NhcmQsXG4gIHJldm9tZUl0ZW1Gcm9tQ2FyZCxcbn07XG5cblxuXG5sZXQgdXNlckNvbG9ycyA9IHJlcXVpcmUoJy4vdXNlcl9jb2xvcnMuanMnKTtcbmxldCB1c2VyUHJldmlldyA9IHJlcXVpcmUoJy4vdXNlcl9wcmV2aWV3LmpzJyk7XG5sZXQgdXNlckdsb2JhbCA9IHJlcXVpcmUoJy4vdXNlcl9nbG9iYWwuanMnKTtcbi8vIGxldCBzd2FsID0gIHJlcXVpcmUoJ3N3ZWV0YWxlcnQnKTtcblxuXG4kKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIFwiLnVzZXItcGVkaWRvLXRyYXNoXCIsIGZ1bmN0aW9uKCl7XG4gIGxldCBpdGVtVG9EZWxldGUgPSAkKHRoaXMpO1xuICByZXZvbWVJdGVtRnJvbUNhcmQoaXRlbVRvRGVsZXRlKTtcbn0pO1xuXG5cbmZ1bmN0aW9uIGFkZEl0ZW1Ub0NhcmQoKSB7XG4gIGNvbnNvbGUubG9nKCcjIyMjIyMjIyMjIyMjIyMgaXRlbSBhZGRlZCcpO1xuICBsZXQgY2Fycml0b1RhYmxlSXRlbXMgPSAkKCcjdXNlcl9jYXJyaXRvX3RhYmxlX2l0ZW1zJyk7XG4gIFxuICAvLyBkeW5hbWljIHZhbHVlXG4gIGxldCBwZWRpZG9JZCA9ICQoJy51c2VyLXBlZGlkby1pdGVtJykubGVuZ3RoICsgMTsgLy8gZ2V0cyB0aGUgbGVuZ3RoXG5cbiAgLy8gdGhpcyBhcmUgb2JqZWN0cyB3aXRoIGRpZmZlcmVudCB2YWx1ZXNcbiAgbGV0IHBlZGlkb01vZGVsbyA9ICQoJy5tb2RlbC1jaGVja2VkJyk7XG4gIGxldCBwZWRpZG9Db2xvciA9ICQoJy5jb2xvci1jaGVja2VkJyk7XG4gIGxldCBwZWRpZG9UYWxsYSA9ICQoJyN1c2VyX3RhbGxhIG9wdGlvbjpzZWxlY3RlZCcpO1xuXG4gIC8vIHRoaXMgYXJlIGRpcmVjdCB2YWx1ZXNcbiAgbGV0IHBlZGlkb0NhbnRpZGFkUGFyZXMgPSAkKCcjdXNlcl9wcmV2X3BhcmVzJykudmFsKCk7XG4gIGxldCBwZWRpZG9TdWJ0b3RhbCA9ICQoJyN1c2VyX3ByZXZfc3VidG90YWwnKS50ZXh0KCk7XG4gIGxldCBwZWRpZG9JbWcgPSAkKCcjdXNlcl9wcmV2X2ltZycpLmF0dHIoJ3NyYycpO1xuXG4gIGxldCBwcmV2aWV3TW9kZWwgPSB1c2VyR2xvYmFsLm1vZGVsQ2hlY2tlZDtcbiAgbGV0IHByZXZpZXdDb2xvciA9IHVzZXJHbG9iYWwuY29sb3JDaGVja2VkO1xuICBsZXQgbW9kZWxTZWxlY3RlZCA9IHVzZXJHbG9iYWwuY2F0RmlsdGVyZWQuZmlsdGVyKGZ1bmN0aW9uKG1vZCkge1xuICAgIHJldHVybiBtb2QubW9kZWwgPT0gcHJldmlld01vZGVsLmNhcmRNb2RlbElkO1xuICB9KVswXTtcbiAgbGV0IHBlZGlkb1ByZWNpb1VuaXRhcmlvID0gbW9kZWxTZWxlY3RlZC5wcmVjaW9zW21vZGVsU2VsZWN0ZWQuY29sb3JzLmluZGV4T2YoIFN0cmluZyhwcmV2aWV3Q29sb3IuY29sb3JJZCkgKV07XG5cbiAgY29uc29sZS5sb2coJ3BlZGlkb0lkJywgcGVkaWRvSWQpO1xuICBjb25zb2xlLmxvZygncGVkaWRvTW9kZWxvJywgcGVkaWRvTW9kZWxvLmRhdGEoKSApO1xuICBjb25zb2xlLmxvZygncGVkaWRvQ29sb3InLCBwZWRpZG9Db2xvci5kYXRhKCkgKTtcbiAgY29uc29sZS5sb2coJ3BlZGlkb1RhbGxhJywgcGVkaWRvVGFsbGEuZGF0YSgpICk7XG4gIGNvbnNvbGUubG9nKCdwZWRpZG9DYW50aWRhZFBhcmVzJywgcGVkaWRvQ2FudGlkYWRQYXJlcyk7XG4gIGNvbnNvbGUubG9nKCdwZWRpZG9QcmVjaW9Vbml0YXJpbycsIHBlZGlkb1ByZWNpb1VuaXRhcmlvKTtcbiAgY29uc29sZS5sb2coJ3BlZGlkb1N1YnRvdGFsJywgcGVkaWRvU3VidG90YWwpO1xuICBjb25zb2xlLmxvZygncGVkaWRvSW1nJywgcGVkaWRvSW1nKTsgIFxuXG4gIGxldCBuZXdJdGVtVGVtcCA9IGA8dHIgY2xhc3M9J2FsaWduLWl0ZW1zLWNlbnRlciB1c2VyLXBlZGlkby1pdGVtJyBcbiAgICAgICAgICAgICAgICAgICAgICBkYXRhLXBlZGlkby1pZD0nJHtwZWRpZG9JZH0nIFxuICAgICAgICAgICAgICAgICAgICAgIGRhdGEtcGVkaWRvLW1vZGVsby1pZD0nJHtwZWRpZG9Nb2RlbG8uZGF0YSgnY2FyZE1vZGVsSWQnKX0nIFxuICAgICAgICAgICAgICAgICAgICAgIGRhdGEtcGVkaWRvLWNvbG9yLWlkPScke3BlZGlkb0NvbG9yLmRhdGEoJ2NvbG9ySWQnKX0nIFxuICAgICAgICAgICAgICAgICAgICAgIGRhdGEtcGVkaWRvLXRhbGxhLWlkPScke3BlZGlkb1RhbGxhLnZhbCgpfSdcbiAgICAgICAgICAgICAgICAgICAgICBkYXRhLXBlZGlkby1jYW50aWRhZC1wYXJlcz0nJHtwZWRpZG9DYW50aWRhZFBhcmVzfSdcbiAgICAgICAgICAgICAgICAgICAgICBkYXRhLXBlZGlkby1zdWJ0b3RhbD0nJHtwZWRpZG9TdWJ0b3RhbH0nXG4gICAgICAgICAgICAgICAgICAgICAgZGF0YS1wZWRpZG8tcHJlY2lvLXVuaXRhcmlvPScke3BlZGlkb1ByZWNpb1VuaXRhcmlvfSdcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPSdwLTAnPiBcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9J3ZpZXcgbXgtYXV0bycgc3R5bGU9J3dpZHRoOiAxMjBweDsnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz0nJHtwZWRpZG9JbWd9JyBjbGFzcz0naW1nLWZsdWlkIG14LWF1dG8nIGFsdD0nSW1nICR7cGVkaWRvTW9kZWxvLmRhdGEoJ2NhcmRNb2RlbENvZGUnKX0gJHtwZWRpZG9Db2xvci5kYXRhKCdjb2xvckNvZGUnKX0nPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+ICBcbiAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz0nZC1ibG9jayc+JHtwZWRpZG9Nb2RlbG8uZGF0YSgnY2FyZE1vZGVsTmFtZScpfTwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgPHRkPiR7cGVkaWRvQ29sb3IuZGF0YSgnY29sb3JOYW1lJyl9PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtwZWRpZG9UYWxsYS50ZXh0KCl9PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9J3RleHQtY2VudGVyJz4ke3BlZGlkb0NhbnRpZGFkUGFyZXN9PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9J3RleHQtY2VudGVyJz4ke3BlZGlkb1N1YnRvdGFsfTwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPSd0ZXh0LWNlbnRlciBweC0wIHB0LTAnPiBcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0nYnV0dG9uJyBjbGFzcz0ndXNlci1wZWRpZG8tdHJhc2ggYnRuIGJ0bi1kYW5nZXIgd2F2ZXMtZWZmZWN0IHdhdmVzLWxpZ2h0IHAtMiB1c2VyLXBlZGlkby10cmFzaCc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSdmYSBmYS10cmFzaC1vIHdoaXRlLXRleHQnPjwvaT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgIDwvdHI+YDtcbiAgY2Fycml0b1RhYmxlSXRlbXMuYXBwZW5kKCAkKG5ld0l0ZW1UZW1wKSApO1xuICB1c2VyUHJldmlldy5oaWRlUHJldmlldygpOyBcbiAgY2FsY1RvdGFsKCk7XG59IC8vIC5hZGRJdGVtVG9DYXJkKClcblxuXG5mdW5jdGlvbiByZXZvbWVJdGVtRnJvbUNhcmQoZWxlbWVudCkge1xuICAvLyBjb25zb2xlLmxvZygnIyMjIyMjIGl0ZW0gY2FuY2VsZWQnKTsgY29uc29sZS5sb2coJ2VsZW1lbnQgJywgZWxlbWVudC5wYXJlbnRzKCd0cicpKTtcbiAgZWxlbWVudC5wYXJlbnRzKCd0ci51c2VyLXBlZGlkby1pdGVtJykucmVtb3ZlKCk7XG4gIG9yZGVyUGVkaWRvc0lkKCk7XG4gIGNhbGNUb3RhbCgpO1xufVxuXG5mdW5jdGlvbiBvcmRlclBlZGlkb3NJZCgpIHtcbiAgLy8gbWFwIGl0ZW1zIGlmIG9uZSBpcyBkZWxldGVkIHRvIHJlc2V0IElEJ3NcbiAgbGV0IHBlZGlkb3MgPSAkKCcudXNlci1wZWRpZG8taXRlbScpO1xuICBjb25zb2xlLmxvZygndXNlciBwZWRpZG9zJywgcGVkaWRvcyk7XG5cbiAgLy8gZm9yIChsZXQgaSA9IDA7IGkgPCBwZWRpZG9zLmxlbmd0aDsgaSsrKSB7XG4gIC8vICAgbGV0IHBlZGlkbyA9ICQocGVkaWRvc1tpXSk7XG4gIC8vICAgcGVkaWRvLmF0dHIoICdkYXRhLXBlZGlkby1pZCcsIGkgKyAxICk7XG4gIC8vICAgLy8gY29uc29sZS5sb2coJyRwZWRpZG8nLCBwZWRpZG8pOyBjb25zb2xlLmxvZygndXBkYXRlZCB1c2VyUGVkaWRvJywgcGVkaWRvLmRhdGEoJ3BlZGlkb0lkJykpO1xuICAvLyB9XG5cbiAgcGVkaWRvcy5lYWNoKGZ1bmN0aW9uKGksIHBlZGlkbyl7XG4gICAgJChwZWRpZG8pLmF0dHIoICdkYXRhLXBlZGlkby1pZCcsIGkgKyAxICk7XG4gIH0pO1xuXG4gIGNvbnNvbGUubG9nKCd1c2VyIHBlZGlkb3MgZWRpdGVkJywgcGVkaWRvcyk7XG59XG5cblxuZnVuY3Rpb24gY2FsY1RvdGFsKCkge1xuICBsZXQgcGVkaWRvcyA9ICQoJy51c2VyLXBlZGlkby1pdGVtJyk7XG4gIGxldCBwYXJlc1RvdGFsZXMgPSAwO1xuICBsZXQgcGFnb1RvdGFsID0gMC4wMDtcblxuICBwZWRpZG9zLmVhY2goZnVuY3Rpb24oaSwgcGVkaWRvKXtcbiAgICBwYXJlc1RvdGFsZXMgKz0gcGFyc2VJbnQoICQocGVkaWRvKS5kYXRhKCdwZWRpZG9DYW50aWRhZFBhcmVzJykgKTtcbiAgICBwYWdvVG90YWwgKz0gcGFyc2VGbG9hdCggJChwZWRpZG8pLmRhdGEoJ3BlZGlkb1N1YnRvdGFsJykgKTtcbiAgfSk7XG4gIFxuICB1cGRhdGVOYXZiYXJTdW1tYXJ5KHBlZGlkb3MubGVuZ3RoKTtcbiAgJCgnI3VzZXJfY2Fycml0b19wYXJlc190b3RhbGVzJykudGV4dChwYXJlc1RvdGFsZXMpO1xuICAkKCcjdXNlcl9jYXJyaXRvX3RvdGFsJykudGV4dChwYWdvVG90YWwudG9GaXhlZCgyKSk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZU5hdmJhclN1bW1hcnkoaXRlbXMpIHtcbiAgLy8gbGV0IHBlZGlkb3MgPSAkKCcudXNlci1wZWRpZG8taXRlbScpO1xuICAkKCcjdXNlcl9uYXZiYXJfc3VtbWFyeV9wZWRpZG9zJykudGV4dChpdGVtcyk7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi92aWV3cy9hc3NldHMvanMvYWpheF9zY3JpcHRzL3VzZXJfY2Fycml0by5qc1xuLy8gbW9kdWxlIGlkID0gOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBsaWJyYXJpZXNcbmltcG9ydCBzd2FsIGZyb20gJ3N3ZWV0YWxlcnQnO1xuXG4vLyBwYWdlc1xucmVxdWlyZSgnLi9hamF4X3NjcmlwdHMvcGFnZXNfbG9naW4uanMnKTtcbnJlcXVpcmUoJy4vYWpheF9zY3JpcHRzL3BhZ2VzX3Njcm9sbC5qcycpO1xuXG4vLyBhZG1pblxucmVxdWlyZSgnLi9hamF4X3NjcmlwdHMvYWRtaW5fYWRkVXNlci5qcycpO1xucmVxdWlyZSgnLi9hamF4X3NjcmlwdHMvYWRtaW5fcGVkaWRvcy5qcycpO1xuXG5cbi8vIHVzZXJcbnJlcXVpcmUoJy4vYWpheF9zY3JpcHRzL3VzZXJfZ2xvYmFsLmpzJyk7IC8vIHJlZmVycyB0byBnbG9iYWwgdmFyaWFibGVzXG5yZXF1aXJlKCcuL2FqYXhfc2NyaXB0cy91c2VyX2luZGV4LmpzJyk7XG5yZXF1aXJlKCcuL2FqYXhfc2NyaXB0cy91c2VyX2FkZE9yZGVyLmpzJyk7XG5yZXF1aXJlKCcuL2FqYXhfc2NyaXB0cy91c2VyX2NvbG9ycy5qcycpO1xucmVxdWlyZSgnLi9hamF4X3NjcmlwdHMvdXNlcl90YWxsYS5qcycpO1xucmVxdWlyZSgnLi9hamF4X3NjcmlwdHMvdXNlcl9tb2RlbHMuanMnKTtcbnJlcXVpcmUoJy4vYWpheF9zY3JpcHRzL3VzZXJfcHJldmlldy5qcycpO1xucmVxdWlyZSgnLi9hamF4X3NjcmlwdHMvdXNlcl9jYXJyaXRvLmpzJyk7XG5yZXF1aXJlKCcuL2FqYXhfc2NyaXB0cy91c2VyX3NlbmRFbWFpbC5qcycpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vdmlld3MvYXNzZXRzL2pzL3NjcmlwdHMuanNcbi8vIG1vZHVsZSBpZCA9IDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiKGZ1bmN0aW9uIChnbG9iYWwsIHVuZGVmaW5lZCkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgaWYgKGdsb2JhbC5zZXRJbW1lZGlhdGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBuZXh0SGFuZGxlID0gMTsgLy8gU3BlYyBzYXlzIGdyZWF0ZXIgdGhhbiB6ZXJvXG4gICAgdmFyIHRhc2tzQnlIYW5kbGUgPSB7fTtcbiAgICB2YXIgY3VycmVudGx5UnVubmluZ0FUYXNrID0gZmFsc2U7XG4gICAgdmFyIGRvYyA9IGdsb2JhbC5kb2N1bWVudDtcbiAgICB2YXIgcmVnaXN0ZXJJbW1lZGlhdGU7XG5cbiAgICBmdW5jdGlvbiBzZXRJbW1lZGlhdGUoY2FsbGJhY2spIHtcbiAgICAgIC8vIENhbGxiYWNrIGNhbiBlaXRoZXIgYmUgYSBmdW5jdGlvbiBvciBhIHN0cmluZ1xuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGNhbGxiYWNrID0gbmV3IEZ1bmN0aW9uKFwiXCIgKyBjYWxsYmFjayk7XG4gICAgICB9XG4gICAgICAvLyBDb3B5IGZ1bmN0aW9uIGFyZ3VtZW50c1xuICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpICsgMV07XG4gICAgICB9XG4gICAgICAvLyBTdG9yZSBhbmQgcmVnaXN0ZXIgdGhlIHRhc2tcbiAgICAgIHZhciB0YXNrID0geyBjYWxsYmFjazogY2FsbGJhY2ssIGFyZ3M6IGFyZ3MgfTtcbiAgICAgIHRhc2tzQnlIYW5kbGVbbmV4dEhhbmRsZV0gPSB0YXNrO1xuICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUobmV4dEhhbmRsZSk7XG4gICAgICByZXR1cm4gbmV4dEhhbmRsZSsrO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsZWFySW1tZWRpYXRlKGhhbmRsZSkge1xuICAgICAgICBkZWxldGUgdGFza3NCeUhhbmRsZVtoYW5kbGVdO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJ1bih0YXNrKSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IHRhc2suY2FsbGJhY2s7XG4gICAgICAgIHZhciBhcmdzID0gdGFzay5hcmdzO1xuICAgICAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgY2FsbGJhY2soYXJnc1swXSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgY2FsbGJhY2soYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgY2FsbGJhY2soYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJ1bklmUHJlc2VudChoYW5kbGUpIHtcbiAgICAgICAgLy8gRnJvbSB0aGUgc3BlYzogXCJXYWl0IHVudGlsIGFueSBpbnZvY2F0aW9ucyBvZiB0aGlzIGFsZ29yaXRobSBzdGFydGVkIGJlZm9yZSB0aGlzIG9uZSBoYXZlIGNvbXBsZXRlZC5cIlxuICAgICAgICAvLyBTbyBpZiB3ZSdyZSBjdXJyZW50bHkgcnVubmluZyBhIHRhc2ssIHdlJ2xsIG5lZWQgdG8gZGVsYXkgdGhpcyBpbnZvY2F0aW9uLlxuICAgICAgICBpZiAoY3VycmVudGx5UnVubmluZ0FUYXNrKSB7XG4gICAgICAgICAgICAvLyBEZWxheSBieSBkb2luZyBhIHNldFRpbWVvdXQuIHNldEltbWVkaWF0ZSB3YXMgdHJpZWQgaW5zdGVhZCwgYnV0IGluIEZpcmVmb3ggNyBpdCBnZW5lcmF0ZWQgYVxuICAgICAgICAgICAgLy8gXCJ0b28gbXVjaCByZWN1cnNpb25cIiBlcnJvci5cbiAgICAgICAgICAgIHNldFRpbWVvdXQocnVuSWZQcmVzZW50LCAwLCBoYW5kbGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHRhc2sgPSB0YXNrc0J5SGFuZGxlW2hhbmRsZV07XG4gICAgICAgICAgICBpZiAodGFzaykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRseVJ1bm5pbmdBVGFzayA9IHRydWU7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcnVuKHRhc2spO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW1tZWRpYXRlKGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRseVJ1bm5pbmdBVGFzayA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxOZXh0VGlja0ltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgcHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbiAoKSB7IHJ1bklmUHJlc2VudChoYW5kbGUpOyB9KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYW5Vc2VQb3N0TWVzc2FnZSgpIHtcbiAgICAgICAgLy8gVGhlIHRlc3QgYWdhaW5zdCBgaW1wb3J0U2NyaXB0c2AgcHJldmVudHMgdGhpcyBpbXBsZW1lbnRhdGlvbiBmcm9tIGJlaW5nIGluc3RhbGxlZCBpbnNpZGUgYSB3ZWIgd29ya2VyLFxuICAgICAgICAvLyB3aGVyZSBgZ2xvYmFsLnBvc3RNZXNzYWdlYCBtZWFucyBzb21ldGhpbmcgY29tcGxldGVseSBkaWZmZXJlbnQgYW5kIGNhbid0IGJlIHVzZWQgZm9yIHRoaXMgcHVycG9zZS5cbiAgICAgICAgaWYgKGdsb2JhbC5wb3N0TWVzc2FnZSAmJiAhZ2xvYmFsLmltcG9ydFNjcmlwdHMpIHtcbiAgICAgICAgICAgIHZhciBwb3N0TWVzc2FnZUlzQXN5bmNocm9ub3VzID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBvbGRPbk1lc3NhZ2UgPSBnbG9iYWwub25tZXNzYWdlO1xuICAgICAgICAgICAgZ2xvYmFsLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXMgPSBmYWxzZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBnbG9iYWwucG9zdE1lc3NhZ2UoXCJcIiwgXCIqXCIpO1xuICAgICAgICAgICAgZ2xvYmFsLm9ubWVzc2FnZSA9IG9sZE9uTWVzc2FnZTtcbiAgICAgICAgICAgIHJldHVybiBwb3N0TWVzc2FnZUlzQXN5bmNocm9ub3VzO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbFBvc3RNZXNzYWdlSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIC8vIEluc3RhbGxzIGFuIGV2ZW50IGhhbmRsZXIgb24gYGdsb2JhbGAgZm9yIHRoZSBgbWVzc2FnZWAgZXZlbnQ6IHNlZVxuICAgICAgICAvLyAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL0RPTS93aW5kb3cucG9zdE1lc3NhZ2VcbiAgICAgICAgLy8gKiBodHRwOi8vd3d3LndoYXR3Zy5vcmcvc3BlY3Mvd2ViLWFwcHMvY3VycmVudC13b3JrL211bHRpcGFnZS9jb21tcy5odG1sI2Nyb3NzRG9jdW1lbnRNZXNzYWdlc1xuXG4gICAgICAgIHZhciBtZXNzYWdlUHJlZml4ID0gXCJzZXRJbW1lZGlhdGUkXCIgKyBNYXRoLnJhbmRvbSgpICsgXCIkXCI7XG4gICAgICAgIHZhciBvbkdsb2JhbE1lc3NhZ2UgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgaWYgKGV2ZW50LnNvdXJjZSA9PT0gZ2xvYmFsICYmXG4gICAgICAgICAgICAgICAgdHlwZW9mIGV2ZW50LmRhdGEgPT09IFwic3RyaW5nXCIgJiZcbiAgICAgICAgICAgICAgICBldmVudC5kYXRhLmluZGV4T2YobWVzc2FnZVByZWZpeCkgPT09IDApIHtcbiAgICAgICAgICAgICAgICBydW5JZlByZXNlbnQoK2V2ZW50LmRhdGEuc2xpY2UobWVzc2FnZVByZWZpeC5sZW5ndGgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBvbkdsb2JhbE1lc3NhZ2UsIGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdsb2JhbC5hdHRhY2hFdmVudChcIm9ubWVzc2FnZVwiLCBvbkdsb2JhbE1lc3NhZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIGdsb2JhbC5wb3N0TWVzc2FnZShtZXNzYWdlUHJlZml4ICsgaGFuZGxlLCBcIipcIik7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbE1lc3NhZ2VDaGFubmVsSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHZhciBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG4gICAgICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBoYW5kbGUgPSBldmVudC5kYXRhO1xuICAgICAgICAgICAgcnVuSWZQcmVzZW50KGhhbmRsZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIGNoYW5uZWwucG9ydDIucG9zdE1lc3NhZ2UoaGFuZGxlKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsUmVhZHlTdGF0ZUNoYW5nZUltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICB2YXIgaHRtbCA9IGRvYy5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgYSA8c2NyaXB0PiBlbGVtZW50OyBpdHMgcmVhZHlzdGF0ZWNoYW5nZSBldmVudCB3aWxsIGJlIGZpcmVkIGFzeW5jaHJvbm91c2x5IG9uY2UgaXQgaXMgaW5zZXJ0ZWRcbiAgICAgICAgICAgIC8vIGludG8gdGhlIGRvY3VtZW50LiBEbyBzbywgdGh1cyBxdWV1aW5nIHVwIHRoZSB0YXNrLiBSZW1lbWJlciB0byBjbGVhbiB1cCBvbmNlIGl0J3MgYmVlbiBjYWxsZWQuXG4gICAgICAgICAgICB2YXIgc2NyaXB0ID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XG4gICAgICAgICAgICBzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJ1bklmUHJlc2VudChoYW5kbGUpO1xuICAgICAgICAgICAgICAgIHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIGh0bWwucmVtb3ZlQ2hpbGQoc2NyaXB0KTtcbiAgICAgICAgICAgICAgICBzY3JpcHQgPSBudWxsO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGh0bWwuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsU2V0VGltZW91dEltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgc2V0VGltZW91dChydW5JZlByZXNlbnQsIDAsIGhhbmRsZSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gSWYgc3VwcG9ydGVkLCB3ZSBzaG91bGQgYXR0YWNoIHRvIHRoZSBwcm90b3R5cGUgb2YgZ2xvYmFsLCBzaW5jZSB0aGF0IGlzIHdoZXJlIHNldFRpbWVvdXQgZXQgYWwuIGxpdmUuXG4gICAgdmFyIGF0dGFjaFRvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihnbG9iYWwpO1xuICAgIGF0dGFjaFRvID0gYXR0YWNoVG8gJiYgYXR0YWNoVG8uc2V0VGltZW91dCA/IGF0dGFjaFRvIDogZ2xvYmFsO1xuXG4gICAgLy8gRG9uJ3QgZ2V0IGZvb2xlZCBieSBlLmcuIGJyb3dzZXJpZnkgZW52aXJvbm1lbnRzLlxuICAgIGlmICh7fS50b1N0cmluZy5jYWxsKGdsb2JhbC5wcm9jZXNzKSA9PT0gXCJbb2JqZWN0IHByb2Nlc3NdXCIpIHtcbiAgICAgICAgLy8gRm9yIE5vZGUuanMgYmVmb3JlIDAuOVxuICAgICAgICBpbnN0YWxsTmV4dFRpY2tJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgfSBlbHNlIGlmIChjYW5Vc2VQb3N0TWVzc2FnZSgpKSB7XG4gICAgICAgIC8vIEZvciBub24tSUUxMCBtb2Rlcm4gYnJvd3NlcnNcbiAgICAgICAgaW5zdGFsbFBvc3RNZXNzYWdlSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSBpZiAoZ2xvYmFsLk1lc3NhZ2VDaGFubmVsKSB7XG4gICAgICAgIC8vIEZvciB3ZWIgd29ya2Vycywgd2hlcmUgc3VwcG9ydGVkXG4gICAgICAgIGluc3RhbGxNZXNzYWdlQ2hhbm5lbEltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2UgaWYgKGRvYyAmJiBcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiIGluIGRvYy5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpKSB7XG4gICAgICAgIC8vIEZvciBJRSA24oCTOFxuICAgICAgICBpbnN0YWxsUmVhZHlTdGF0ZUNoYW5nZUltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBGb3Igb2xkZXIgYnJvd3NlcnNcbiAgICAgICAgaW5zdGFsbFNldFRpbWVvdXRJbXBsZW1lbnRhdGlvbigpO1xuICAgIH1cblxuICAgIGF0dGFjaFRvLnNldEltbWVkaWF0ZSA9IHNldEltbWVkaWF0ZTtcbiAgICBhdHRhY2hUby5jbGVhckltbWVkaWF0ZSA9IGNsZWFySW1tZWRpYXRlO1xufSh0eXBlb2Ygc2VsZiA9PT0gXCJ1bmRlZmluZWRcIiA/IHR5cGVvZiBnbG9iYWwgPT09IFwidW5kZWZpbmVkXCIgPyB0aGlzIDogZ2xvYmFsIDogc2VsZikpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvc2V0aW1tZWRpYXRlL3NldEltbWVkaWF0ZS5qc1xuLy8gbW9kdWxlIGlkID0gMTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qc1xuLy8gbW9kdWxlIGlkID0gMTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblxuXG4gICAgLyogbG9naW4gZm9ybSAqL1xuICAgICQoJyNzdWJtaXRMb2dpbicpLmNsaWNrKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY29uc29sZS5sb2coJ2xvZ2luQ2xpY2tlZCcpO1xuXG4gICAgICBsZXQgdXNlciA9ICQoJyN1c2VyQWNjJykudmFsKCk7XG4gICAgICBsZXQgcGFzcyA9ICQoJyN1c2VyUGFzcycpLnZhbCgpO1xuXG4gICAgICBsZXQgbWVzc2FnZTtcblxuICAgICAgY29uc29sZS5sb2coJ3VzZXI6ICcsIHVzZXIpO1xuICAgICAgY29uc29sZS5sb2coJ3Bhc3M6ICcsIHBhc3MpO1xuICAgICAgbGV0IHJlcXVlc3QgPSAkLmFqYXgoXG4gICAgICAgIHtcbiAgICAgICAgICB1cmw6ICdhamF4L3BhZ2VzX2FqYXgucGhwJyxcbiAgICAgICAgICB0eXBlOiAnR0VUJyxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBhY3Rpb246ICdsb2dpbicsXG4gICAgICAgICAgICB1c2VyOiB1c2VyLFxuICAgICAgICAgICAgcGFzczogcGFzc1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgcmVxdWVzdC5kb25lKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgbWVzc2FnZSA9ICdzdWNjZXNzJztcbiAgICAgICAgbGV0IHVzZXJJbmZvID0gJC5wYXJzZUpTT04oZGF0YSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdteSBzdWNjZXNzIGRhdGE6ICcsIHVzZXJJbmZvKTtcblxuICAgICAgICBzd2l0Y2ggKHVzZXJJbmZvLnVzZXJQZXJtaXNvKSB7XG4gICAgICAgICAgY2FzZSAnMSc6IGNhc2UgJzInOlxuICAgICAgICAgICAgd2luZG93Lm9wZW4oJz9jb250cm9sbGVyPWFkbWluJmFjdGlvbj1pbmRleCcsICdfc2VsZicpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnMyc6XG4gICAgICAgICAgICB3aW5kb3cub3BlbignP2NvbnRyb2xsZXI9dXNlciZhY3Rpb249aW5kZXgnLCAnX3NlbGYnKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgd2luZG93Lm9wZW4oJz9jb250cm9sbGVyPXBhZ2VzJmFjdGlvbj1lcnJvcicsICdfc2VsZicpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICB9KTtcblxuICAgICAgcmVxdWVzdC5mYWlsKGZ1bmN0aW9uKCkge1xuICAgICAgICBtZXNzYWdlID0gJ2ZhaWwnO1xuICAgICAgICB3aW5kb3cub3BlbignP2NvbnRyb2xsZXI9cGFnZXMmYWN0aW9uPWVycm9yJywgJ19zZWxmJyk7XG4gICAgICB9KTtcblxuICAgICAgcmVxdWVzdC5hbHdheXMoZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdhamF4IG1lc3NhZ2U6ICcsIG1lc3NhZ2UpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cblxufSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi92aWV3cy9hc3NldHMvanMvYWpheF9zY3JpcHRzL3BhZ2VzX2xvZ2luLmpzXG4vLyBtb2R1bGUgaWQgPSAxMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJsZXQgc3dhbCA9IHJlcXVpcmUoJ3N3ZWV0YWxlcnQnKTtcbi8vICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuXG4gIFxuICAgIC8qIGFkZE5ld1VzZXIgZm9ybSAqL1xuICAgICQoJyNidG5BZGROZXdVc2VyJykuY2xpY2soZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAvLyBjb25zb2xlLmxvZygnYWRkVXNlckNsaWNrZWQnKTtcblxuICAgICAgbGV0IGFjYyAgICAgPSAkKCcjYWRkTmV3VXNlcl9hY2MnKS52YWwoKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgbGV0IG5hbWUgICAgPSAkKCcjYWRkTmV3VXNlcl9uYW1lJykudmFsKCkudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXGJcXHcvZywgZnVuY3Rpb24obCl7IHJldHVybiBsLnRvVXBwZXJDYXNlKCkgfSk7XG4gICAgICBsZXQgZW1iSWQgICA9ICQoJyNhZGROZXdVc2VyX2VtYklkJykudmFsKCk7XG4gICAgICBsZXQgcGFzcyAgICA9ICQoJyNhZGROZXdVc2VyX3Bhc3MnKS52YWwoKTtcbiAgICAgIGxldCBwcml2ICAgID0gJCgnI2FkZE5ld1VzZXJfcHJpdicpLnZhbCgpO1xuICAgICAgbGV0IHBpY1VybCAgPSAkKCcjYWRkTmV3VXNlcl9waWNVcmwnKS52YWwoKTtcbiAgICAgIC8vIGxldCBwaWNVcmwgID0gKCQoJyNhZGROZXdVc2VyX3BpY1VybCcpLnZhbCgpKSA/ICQoJyNhZGROZXdVc2VyX3BpY1VybCcpLnZhbCgpIDogZmFsc2UgO1xuXG4gICAgICBsZXQgbWVzc2FnZTtcblxuICAgICAgaWYoIGFjYyAmJiBuYW1lICYmIChlbWJJZCAhPSAwKSAmJiBwYXNzICYmIChwcml2ICE9IDApKSB7XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN3YWwoe1xuICAgICAgICAgIHRpdGxlOiBcIlVwcy4uLlwiLFxuICAgICAgICAgIHRleHQ6IFwiRmFsdGEgbGxlbmFyIGFsZ3Vub3MgZGF0b3NcIixcbiAgICAgICAgICBpY29uOiBcImVycm9yXCIsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIGNvbnNvbGUubG9nKCdhY2M6ICcsIGFjYyk7XG4gICAgICAvLyBjb25zb2xlLmxvZygnbmFtZTogJywgbmFtZSApO1xuICAgICAgLy8gY29uc29sZS5sb2coJ2VtYklkOiAnLCBlbWJJZCk7XG4gICAgICAvLyBjb25zb2xlLmxvZygncGFzczogJywgcGFzcyk7XG4gICAgICAvLyBjb25zb2xlLmxvZygncHJpdjogJywgcHJpdik7XG4gICAgICAvLyBjb25zb2xlLmxvZygncGljVXJsOiAnLCBwaWNVcmwpO1xuXG4gICAgICBcbiAgICAgIGxldCByZXF1ZXN0ID0gJC5hamF4KFxuICAgICAgICB7XG4gICAgICAgICAgdXJsOiAnYWpheC9hZG1pbl9hamF4LnBocCcsXG4gICAgICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgYWN0aW9uOiAnYWRkTmV3VXNlcicsXG4gICAgICAgICAgICBhY2M6IGFjYyxcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICBlbWJJZDogZW1iSWQsXG4gICAgICAgICAgICBwYXNzOiBwYXNzLFxuICAgICAgICAgICAgcHJpdjogcHJpdixcbiAgICAgICAgICAgIHBpY1VybDogcGljVXJsLFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgcmVxdWVzdC5kb25lKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgbWVzc2FnZSA9ICdzdWNjZXNzJztcbiAgICAgICAgbGV0IHJlc3AgPSAkLnBhcnNlSlNPTihkYXRhKTsgLy8gcmVzcG9uc2VcbiAgICAgICAgJCgnI2FkZE5ld1VzZXJfYWNjJykudmFsKCcnKTtcbiAgICAgICAgJCgnI2FkZE5ld1VzZXJfbmFtZScpLnZhbCgnJyk7XG4gICAgICAgICQoJyNhZGROZXdVc2VyX2VtYklkJykudmFsKDApO1xuICAgICAgICAkKCcjYWRkTmV3VXNlcl9wYXNzJykudmFsKCcnKTtcbiAgICAgICAgJCgnI2FkZE5ld1VzZXJfcHJpdicpLnZhbCgwKTtcbiAgICAgICAgJCgnI2FkZE5ld1VzZXJfcGljVXJsJykudmFsKCcnKTtcblxuICAgICAgICAvLyBjb25zb2xlLmxvZygnSW4gc3VjY2VzcyA+IHR5cGUgb2ZyZXNwOiAnLHR5cGVvZiByZXNwKTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ0luIHN1Y2Nlc3MgPiByZXNwOiAnLCByZXNwKTtcblxuICAgICAgICBpZiggIXJlc3AuZXJyb3IgKXtcbiAgICAgICAgICBpZiggcmVzcC5leGlzdHMgKXtcbiAgICAgICAgICAgIC8vIHlhIGV4aXN0ZSB1c2VyXG4gICAgICAgICAgICBzd2FsKHtcbiAgICAgICAgICAgICAgdGl0bGU6IFwiwqFMbyBzZW50aW1vcyFcIixcbiAgICAgICAgICAgICAgdGV4dDogcmVzcC5lcnJvck1zZyxcbiAgICAgICAgICAgICAgaWNvbjogXCJlcnJvclwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHN1Y2NlcyBzZSBhZ3JlZ29cbiAgICAgICAgICAgIHN3YWwoe1xuICAgICAgICAgICAgICB0aXRsZTogXCLCoUxpc3RvIVwiLFxuICAgICAgICAgICAgICB0ZXh0OiByZXNwLnN1Y2Nlc3NNc2csXG4gICAgICAgICAgICAgIGljb246IFwic3VjY2Vzc1wiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGlmIGRhdGEgPSBzdWNjZXNzXG4gICAgICAgICAgc3dhbCh7XG4gICAgICAgICAgICB0aXRsZTogXCLCoUxvIHNlbnRpbW9zIVwiLFxuICAgICAgICAgICAgdGV4dDogcmVzcC5lcnJvck1zZyxcbiAgICAgICAgICAgIGljb246IFwiZXJyb3JcIixcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICB9KTtcblxuICAgICAgcmVxdWVzdC5mYWlsKGZ1bmN0aW9uKCkge1xuICAgICAgICBtZXNzYWdlID0gJ2ZhaWwnO1xuICAgICAgICAvLyB3aW5kb3cub3BlbignP2NvbnRyb2xsZXI9cGFnZXMmYWN0aW9uPWVycm9yJywgJ19zZWxmJyk7XG4gICAgICB9KTtcblxuICAgICAgcmVxdWVzdC5hbHdheXMoZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdhamF4IG1lc3NhZ2U6ICcsIG1lc3NhZ2UpO1xuICAgICAgfSk7XG5cbiAgICB9KTtcblxuXG5cblxuICAgIC8qIGFkZE5ld1VTZXIgY2FuY2VsICovXG4gICAgJCgnI2J0bkFkZE5ld1VzZXJDYW5jZWwnKS5jbGljayhmdW5jdGlvbihldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgc3dhbCh7XG4gICAgICAgIHRpdGxlOiBcIsK/RGVzZWFzIGNhbmNlbGFyP1wiLFxuICAgICAgICB0ZXh0OiBcIlNlIGJvcnJhcmFuIGxvcyBkYXRvcyBlbiBwYW50YWxsYVwiLFxuICAgICAgICBpY29uOiBcIndhcm5pbmdcIixcbiAgICAgICAgYnV0dG9uczogdHJ1ZSxcbiAgICAgICAgZGFuZ2VyTW9kZTogdHJ1ZSxcbiAgICAgIH0pXG4gICAgICAudGhlbigod2lsbERlbGV0ZSkgPT4ge1xuICAgICAgICBpZiAod2lsbERlbGV0ZSkge1xuICAgICAgICAgICQoJyNhZGROZXdVc2VyX2FjYycpLnZhbCgnJyk7XG4gICAgICAgICAgJCgnI2FkZE5ld1VzZXJfbmFtZScpLnZhbCgnJyk7XG4gICAgICAgICAgJCgnI2FkZE5ld1VzZXJfZW1iSWQnKS52YWwoMCk7XG4gICAgICAgICAgJCgnI2FkZE5ld1VzZXJfcGFzcycpLnZhbCgnJyk7XG4gICAgICAgICAgJCgnI2FkZE5ld1VzZXJfcHJpdicpLnZhbCgwKTtcbiAgICAgICAgICAkKCcjYWRkTmV3VXNlcl9waWNVcmwnKS52YWwoJycpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuXG4gICAgLyogQWpheCBsb2FkICovXG4gICAgXG4gICAgJCh0aGlzKS5hamF4U3RhcnQoZnVuY3Rpb24gKCkge1xuICAgICAgLy8gJGxvYWRpbmcuc2hvdygpO1xuICAgICAgJCgnI2FkZE5ld1VzZXJfbG9hZGVyJykucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcbiAgICAgIGNvbnNvbGUubG9nKCcgLS0tIGFqYXggU3RhcnRlZCAtLS0gJyk7XG4gICAgfSlcbiAgICAkKHRoaXMpLmFqYXhTdG9wKGZ1bmN0aW9uICgpIHtcbiAgICAgICQoJyNhZGROZXdVc2VyX2xvYWRlcicpLmFkZENsYXNzKCdoaWRlJyk7XG4gICAgICBjb25zb2xlLmxvZygnIC0tLSBhamF4IGVuZGVkIC0tLSAnKTtcbiAgICB9KTtcblxuXG4vLyB9KTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3ZpZXdzL2Fzc2V0cy9qcy9hamF4X3NjcmlwdHMvYWRtaW5fYWRkVXNlci5qc1xuLy8gbW9kdWxlIGlkID0gMTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiICAgIFxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gIFxuICBsZXQgdG91Y2h0aW1lID0gMDtcblxuICAvKiBhZGROZXdVc2VyIGZvcm0gKi9cbiAgJCgnLm9yZGVyLXJvdycpLmNsaWNrKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAvLyBjb25zb2xlLmxvZygnZW1haWwgZGF0YTogJywgJCh0aGlzKS5kYXRhKCdlbWFpbCcpKSA7XG4gICAgY29uc29sZS5sb2coJ3NlbGVjdCBvcHRpb25zOiAnLCAkKCcjcGVkaWRvX2RldGFsbGVfZXN0YXR1cyA+IG9wdGlvbicpICk7XG4gICAgJCgnI3BlZGlkb19kZXRhbGxlX2VzdGF0dXMgPiBvcHRpb24nKS5lYWNoKGZ1bmN0aW9uKG9wdCl7XG4gICAgICAvLyBvcHQuYXR0cignZGlzYWJsZWQnKTtcbiAgICAgIGNvbnNvbGUubG9nKCdvcHRpb246ICcsIG9wdCApO1xuICAgICAgXG4gICAgfSlcbiAgICBpZiAodG91Y2h0aW1lID09IDApIHtcbiAgICAgIC8vIHNldCBmaXJzdCBjbGlja1xuICAgICAgdG91Y2h0aW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGNvbXBhcmUgZmlyc3QgY2xpY2sgdG8gdGhpcyBjbGljayBhbmQgc2VlIGlmIHRoZXkgb2NjdXJyZWQgd2l0aGluIGRvdWJsZSBjbGljayB0aHJlc2hvbGRcbiAgICAgIGlmICgoKG5ldyBEYXRlKCkuZ2V0VGltZSgpKSAtIHRvdWNodGltZSkgPCA1MDApIHtcbiAgICAgICAgY29uc29sZS5sb2coJ29yZGVyLmRhdGE6ICcsICQodGhpcykuZGF0YSgpKSA7XG4gICAgICAgIGxldCBvcmRlciA9ICQodGhpcykuZGF0YSgpO1xuICAgICAgICAkKCcjcGVkaWRvX2RldGFsbGVfbm9tYnJlJykgICAudGV4dChvcmRlci5ub21icmUpO1xuICAgICAgICAkKCcjcGVkaWRvX2RldGFsbGVfZW1haWwnKSAgICAudGV4dChvcmRlci5lbWFpbCk7XG4gICAgICAgICQoJyNwZWRpZG9fZGV0YWxsZV9udW1PcmRlbicpIC50ZXh0KG9yZGVyLm51bU9yZGVuKTtcbiAgICAgICAgJCgnI3BlZGlkb19kZXRhbGxlX2ZlY2hhJykgICAgLnRleHQob3JkZXIuZmVjaGEpO1xuICAgICAgICAkKCcjcGVkaWRvX2RldGFsbGVfZXN0YXR1cycpICAudmFsKG9yZGVyLmVzdGF0dXMpO1xuICAgICAgICAkKCcjcGVkaWRvX2RldGFsbGVfdGl0bGUnKSAgICAudGV4dCggb3JkZXIubnVtT3JkZW4gKyAnIC0gJyArIG9yZGVyLm5vbWJyZSk7XG5cblxuICAgICAgICAkKCcjcGVkaWRvX2RldGFsbGVfZXN0YXR1cyA+IG9wdGlvbicpLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgICAgICBpZiggJCh0aGlzKS52YWwoKSA8IG9yZGVyLmVzdGF0dXMgKXtcbiAgICAgICAgICAgICQodGhpcykuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdvcHRpb246ICcsIHRoaXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgXG4gICAgICAgICQoJyNtb2RhbC1vcmRlci1kZXRhaWwnKS5tb2RhbCgnc2hvdycpO1xuICAgICAgICB0b3VjaHRpbWUgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gbm90IGEgZG91YmxlIGNsaWNrIHNvIHNldCBhcyBhIG5ldyBmaXJzdCBjbGlja1xuICAgICAgICAgICAgdG91Y2h0aW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gIH0pO1xuXG4gICQoJyN0ZXN0QnRuJykuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coJ2NsaWNrZWQgZm9yIHRoZSB3aW4nKTtcbiAgICBjb25zb2xlLmxvZygndmFsOiAnLCAkKCcjcGVkaWRvX2RldGFsbGVfdGVzdCcpLnRleHQoKSk7XG5cbiAgICAkKCcjcGVkaWRvX2RldGFsbGVfdGVzdCcpLnRleHQoJ3dpbicpO1xuICB9KTtcblxuXG4gIC8qIEFqYXggbG9hZCAqL1xuICBcbiAgJCh0aGlzKS5hamF4U3RhcnQoZnVuY3Rpb24gKCkge1xuICAgIC8vICRsb2FkaW5nLnNob3coKTtcbiAgICAkKCcjYWRkTmV3VXNlcl9sb2FkZXInKS5yZW1vdmVDbGFzcygnaGlkZScpO1xuICAgIC8vIGNvbnNvbGUubG9nKCcgLS0tIGFqYXggU3RhcnRlZCAtLS0gJyk7XG4gIH0pXG4gICQodGhpcykuYWpheFN0b3AoZnVuY3Rpb24gKCkge1xuICAgICQoJyNhZGROZXdVc2VyX2xvYWRlcicpLmFkZENsYXNzKCdoaWRlJyk7XG4gICAgLy8gY29uc29sZS5sb2coJyAtLS0gYWpheCBlbmRlZCAtLS0gJyk7XG4gIH0pO1xuXG5cbn0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vdmlld3MvYXNzZXRzL2pzL2FqYXhfc2NyaXB0cy9hZG1pbl9wZWRpZG9zLmpzXG4vLyBtb2R1bGUgaWQgPSAxNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJsZXQgdXNlckdsb2JhbCA9IHJlcXVpcmUoJy4vdXNlcl9nbG9iYWwuanMnKTtcbmxldCB1c2VyQ29sb3JzID0gcmVxdWlyZSgnLi91c2VyX2NvbG9ycy5qcycpOyAgXG5sZXQgdXNlck1vZGVscyA9IHJlcXVpcmUoJy4vdXNlcl9tb2RlbHMuanMnKTsgIFxubGV0IHVzZXJQcmV2aWV3ID0gcmVxdWlyZSgnLi91c2VyX3ByZXZpZXcuanMnKTtcbmxldCBzY3JvbGwgPSByZXF1aXJlKCcuL3BhZ2VzX3Njcm9sbC5qcycpO1xuXG4vLyAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblxuICAvKiB0YWxsYSBvcHRpb24gKi9cbiAgJCgnI3VzZXJfdGFsbGEnKS5jaGFuZ2UoZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIC8vIGlmIHVzZXJfVGFsbGEgc2xpY2VyIG9yIHNlbGVjdCBvcHRpb24gY2hhbmdlc1xuICAgIC8vIGNvbnNvbGUubG9nKCdWYWx1ZSBjaGFuZ2VkJyk7XG5cbiAgICAvLyBjbGVhbiBjaGVja2VkIG1vZGVsc1xuICAgICQoJy5tb2RlbC1vcHRpb24nKS5maW5kKCdpJykucmVtb3ZlQ2xhc3MoJ2ZhLWNoZWNrJyk7XG4gICAgJCgnLm1vZGVsLW9wdGlvbicpLnJlbW92ZUNsYXNzKCdtb2RlbC1jaGVja2VkJyk7XG4gICAgJCgnLm1vZGVsLW9wdGlvbicpLnJlbW92ZUNsYXNzKCdobS1ibGFjay1saWdodCcpO1xuXG4gICAgLy8gY2xlYW4gY2hlY2tlZCBjb2xvclxuICAgICQoJy5jb2xvci1vcHRpb24nKS5maW5kKCdpJykucmVtb3ZlQ2xhc3MoJ2ZhLWNoZWNrJyk7XG4gICAgJCgnLmNvbG9yLW9wdGlvbicpLnJlbW92ZUNsYXNzKCdjb2xvci1jaGVja2VkJyk7XG5cbiAgICBcbiAgICBjb25zb2xlLmxvZyggYHRhbGxhWyR7JCgnI3VzZXJfdGFsbGEgb3B0aW9uOnNlbGVjdGVkJykudGV4dCgpfV0gdmFsdWU6ICR7JCh0aGlzKS52YWwoKX1gICk7XG5cbiAgICBsZXQgdGFsbGEgPSAkKCcjdXNlcl90YWxsYScpLnZhbCgpO1xuICAgIHVzZXJHbG9iYWwudGFsbGFTZWxlY3RlZCA9IHRhbGxhO1xuXG4gICAgbGV0IHJlcXVlc3QgPSAkLmFqYXgoXG4gICAgICB7XG4gICAgICAgIHVybDogJ2FqYXgvdXNlcl9hamF4LnBocCcsXG4gICAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgYWN0aW9uOiAnZ2V0QXZhaWxhYmxlU2hvZXMnLFxuICAgICAgICAgIHRhbGxhOiB0YWxsYVxuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgICBcbiAgICByZXF1ZXN0LmRvbmUoZnVuY3Rpb24oZGF0YSkge1xuICAgICAgbWVzc2FnZSA9ICdzdWNjZXNzJztcbiAgICAgIC8vIGNvbnNvbGUubG9nKCd1c2VyVGFsbGEuZGF0YSA9PiAnLCBkYXRhKTtcbiAgICAgIGxldCByZXMgPSAkLnBhcnNlSlNPTihkYXRhKTsgLy8gcmVzcG9uc2VcbiAgICAgIGxldCBjYXQgPSBbXTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdyZXF1ZXN0LmRvbmUgPT4gJywgcmVzKTtcblxuICAgICAgaWYoIHJlcy5lcnJvciApe1xuICAgICAgICBzd2FsKHtcbiAgICAgICAgICB0aXRsZTogXCLCoUxvIHNlbnRpbW9zIVwiLFxuICAgICAgICAgIHRleHQ6ICdObyBzZSBhY2NlZGlvIGFsIGNhdGFsb2dvIGNvcnJlY3RhbWVudGUnLCAvL3Jlcy5lcnJvck1zZ1xuICAgICAgICAgIGljb246IFwiZXJyb3JcIlxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8qKiBEYXRhIHN0cnVjdHVyZVxuICAgICAgICAgKiBbIFxuICAgICAgICAgKiAgIHsgXG4gICAgICAgICAqICAgICBtb2RlbDogMSwgXG4gICAgICAgICAqICAgICBjb2xvcnM6IFsxLDIsM10sIFxuICAgICAgICAgKiAgICAgcHJlY2lvczogWzEwMCwxMDAsMTUwXSBcbiAgICAgICAgICogICB9LCBcbiAgICAgICAgICogICB7IFxuICAgICAgICAgKiAgICAgbW9kZWw6IDIsIFxuICAgICAgICAgKiAgICAgY29sb3JzOiBbMSwzLDRdLCBcbiAgICAgICAgICogICAgIHByZWNpb3M6IFsxMDAsMTAwLDEwMF0gXG4gICAgICAgICAqICAgfSBcbiAgICAgICAgICogXSBcbiAgICAgICAgICovXG4gICAgICAgIFxuICAgICAgICByZXMucmVzdWx0Lm1hcChmdW5jdGlvbihyb3cpIHtcbiAgICAgICAgICBsZXQgbW9kZWxIYXNCZWVuQWRkZWQgPSBmYWxzZTtcbiAgICAgICAgICBsZXQgbW9kZWxBcnJJbmRleDtcbiAgICAgICAgICBjYXQuZm9yRWFjaCgob3B0aW9uLCBpbmRleCkgPT4geyAvLyBvcHRpb25cbiAgICAgICAgICAgIGlmKCBvcHRpb24ubW9kZWwgPT0gcm93LllTQ19Nb2RlbG9JZCApeyBcbiAgICAgICAgICAgICAgbW9kZWxBcnJJbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgICBtb2RlbEhhc0JlZW5BZGRlZCA9IHRydWU7IFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICAgaWYoIG1vZGVsSGFzQmVlbkFkZGVkICl7XG4gICAgICAgICAgICBjYXRbbW9kZWxBcnJJbmRleF0uY29sb3JzLnB1c2gocm93LllTQ19Db2xvcklkKTtcbiAgICAgICAgICAgIGNhdFttb2RlbEFyckluZGV4XS5wcmVjaW9zLnB1c2gocm93LllTQ19QcmVjaW8pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYXQucHVzaCh7XG4gICAgICAgICAgICAgIG1vZGVsOiByb3cuWVNDX01vZGVsb0lkLFxuICAgICAgICAgICAgICBjb2xvcnM6IFtyb3cuWVNDX0NvbG9ySWRdLFxuICAgICAgICAgICAgICBwcmVjaW9zOiBbcm93LllTQ19QcmVjaW9dXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbW9kZWxIYXNCZWVuQWRkZWQgPSBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdjYXQ6ICcsIGNhdCk7XG4gICAgICB9XG5cbiAgICAgIC8vIHVzZXJHbG9iYWwubW9kZWxzRmlsdGVyZWQgPSBjYXQ7XG4gICAgICBpZihjYXQubGVuZ3RoID4gMCl7XG4gICAgICAgIHVzZXJHbG9iYWwuY2F0RmlsdGVyZWQgPSBjYXQ7XG4gICAgICAgIHVzZXJNb2RlbHMuaGlkZU1vZGVsTXNnKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1c2VyR2xvYmFsLmNhdEZpbHRlcmVkID0gW107XG4gICAgICAgIHVzZXJNb2RlbHMuc2hvd01vZGVsTXNnKCdObyBzZSBlbmNvbnRybyBuaW5ndW4gbW9kZWxvLicpO1xuICAgICAgICBcbiAgICAgIH1cblxuICAgICAgdXNlck1vZGVscy5maWx0ZXJNb2RlbHMoKTtcbiAgICAgIHVuc2V0TW9kZWxDaGVja2VkKCk7XG4gICAgICB1c2VyQ29sb3JzLnJlc2V0Q29sb3JzKCk7XG4gICAgICB1c2VyUHJldmlldy5oaWRlUHJldmlldygpO1xuICAgICAgdXNlclByZXZpZXcuc2hvd1ByZXZpZXdNc2coJyogU2VsZWNjaW9uZSB1biBtb2RlbG8gPGJyPiogU2VsZWNjaW9uZSB1biBjb2xvcicpO1xuICAgICAgc2Nyb2xsLnNtb290aFNjcm9sbFRvKCdzZWN0aW9uJywnX21vZGVscycpXG4gICAgfSk7XG5cbiAgICByZXF1ZXN0LmZhaWwoZnVuY3Rpb24oKSB7XG4gICAgICBtZXNzYWdlID0gJ2ZhaWwnO1xuICAgICAgLy8gd2luZG93Lm9wZW4oJz9jb250cm9sbGVyPXBhZ2VzJmFjdGlvbj1lcnJvcicsICdfc2VsZicpO1xuICAgIH0pO1xuXG4gICAgcmVxdWVzdC5hbHdheXMoZnVuY3Rpb24oKSB7XG4gICAgICBjb25zb2xlLmxvZygnYWpheCBtZXNzYWdlOiAnLCBtZXNzYWdlKTtcbiAgICB9KTtcbiAgICBcblxuICB9KTtcblxuICBcblxuICBmdW5jdGlvbiBnZXRDb2xvcnMobW9kZWxPYmopIHtcbiAgICAvLyByZXR1cm5zIGFycmF5IG9mIGNvbG9ycycgaWQgYXZhaWxhYmxlIGZvciB0aGF0IG1vZGVsXG4gICAgLy8gWzEsMiwzLDRdXG4gICAgcmV0dXJuIG1vZGVsT2JqLmNvbG9ycztcbiAgICAvLyBsZXQgYXJyQ29sb3JzSWQgPSBbXTtcbiAgICAvLyBtb2RlbHNPYmpBcnIuZm9yRWFjaChmdW5jdGlvbihjb2xvcikge1xuICAgIC8vICAgYXJyQ29sb3JzSWQucHVzaCggcGFyc2VJbnQobW9kZWxBdmxiLmNvbG9yKSApO1xuICAgIC8vIH0pO1xuICAgIC8vIHJldHVybiBhcnJDb2xvcnNJZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVuc2V0TW9kZWxDaGVja2VkKCkge1xuICAgIHVzZXJHbG9iYWwubW9kZWxDaGVja2VkID0gdW5kZWZpbmVkO1xuICB9XG5cblxuXG4gIC8vIFdpdGggSlF1ZXJ5XG4gIC8vICQoJyN1c2VyX3RhbGxhU2xpZGVyJykuc2xpZGVyKHtcbiAgLy8gICBmb3JtYXR0ZXI6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIC8vICAgICByZXR1cm4gJ1RhbGxhOiAnICsgKHZhbHVlKzEwKTtcbiAgLy8gICB9XG4gIC8vIH0pO1xuXG4gIC8vIFdpdGhvdXQgSlF1ZXJ5XG4gIC8vIHZhciBzbGlkZXIgPSBuZXcgU2xpZGVyKCcjdXNlcl90YWxsYVNsaWRlcicsIHtcbiAgLy8gICBmb3JtYXR0ZXI6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIC8vICAgICByZXR1cm4gJ0N1cnJlbnQgdmFsdWU6ICcgKyB2YWx1ZTtcbiAgLy8gICB9XG4gIC8vIH0pO1xuXG4vLyB9KTsgLy8gL2RvY3VtZW50XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi92aWV3cy9hc3NldHMvanMvYWpheF9zY3JpcHRzL3VzZXJfdGFsbGEuanNcbi8vIG1vZHVsZSBpZCA9IDE3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlxuJCgnI3VzZXJfcGxhY2Vfb3JkZXJfZW1haWwnKS5jbGljayhmdW5jdGlvbihldmVudCkge1xuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gIGxldCB1c2VybmFtZSA9ICQoJyN1c2VyX2luZm9fbmFtZScpLnZhbCgpOyAgICAvLyBSaWNhcmRvIExhcmFcbiAgbGV0IHVzZXJlbWFpbCA9ICQoJyN1c2VyX2luZm9fZW1haWwnKS52YWwoKTsgIC8vIGFsZWphbmRyby5lbGFyYUBsaXZlLmNvbVxuXG4gIC8vIHZhbGlkYXRlIGVtYWlsID4+IGlmIGVtYWlsID09IHZhbGlkXG4gIFxuICBpZiggdXNlcmVtYWlsLmxlbmd0aCA8IDUgJiYgdXNlcmVtYWlsLmxlbmd0aCA8IDUpe1xuICAgIHN3YWwoe1xuICAgICAgdGl0bGU6IFwiVXBzXCIsXG4gICAgICB0ZXh0OiAnSW5ncmVzZSBzdSBjb3JyZW8sIG5vbWJyZSB5IGFwZWxsaWRvJywgLy8gcmVzLmVycm9yTXNnXG4gICAgICBpY29uOiBcImVycm9yXCJcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICAvLyBidWlsZCBvcmRlclxuICAgIGxldCBkdCA9IG5ldyBEYXRlKCk7XG4gICAgbGV0IGRhdGUgPSBkdC5nZXRGdWxsWWVhcigpLnRvU3RyaW5nKCkuc3Vic3RyKC0yKTsgICBcbiAgICBkYXRlICs9ICgnMCcgKyAoZHQuZ2V0TW9udGgoKSsxKS50b1N0cmluZygpKS5zbGljZSgtMik7IC8vIEphbnVhcnkgaXMgMCwgRmVicnVhcnkgaXMgMSwgYW5kIHNvIG9uLiArIDFcbiAgICBkYXRlICs9ICgnMCcgKyBkdC5nZXREYXRlKCkudG9TdHJpbmcoKSkuc2xpY2UoLTIpO1xuXG4gICAgLy8nMS0xODAyMjItMDAxJyA9IGVtYklkKGdldCBpdCBpbiBwaHApIC0gMjAxOCBGZWIgMjIgLSBjb25zZWN1dGl2byhlc3RlIHVsdGltbyBzZSBpbnllY3RhIGVuIHBocClcbiAgICBsZXQgZGF0YVBlZGlkbyA9IHtcbiAgICAgIG51bWVyb09yZGVuOiBkYXRlLFxuICAgICAgbm9tYnJlOiB1c2VybmFtZSxcbiAgICAgIGVtYWlsOiB1c2VyZW1haWwsXG4gICAgICBjYW50aWRhZFBhcmVzOiAwLFxuICAgICAgdG90YWw6IDAuMCxcbiAgICAgIGRldGFpbDogW11cbiAgICB9O1xuXG4gICAgLy8gZGV0YWxFeGFtcGxlID0gW1xuICAgIC8vICAge1xuICAgIC8vICAgICBtb2RlbG86IDIsXG4gICAgLy8gICAgIHRhbGxhOiAxLFxuICAgIC8vICAgICBjb2xvcjogMixcbiAgICAvLyAgICAgcHJlY2lvVW5pdGFyaW86IDE1MCxcbiAgICAvLyAgICAgY2FudGlkYWQ6IDJcbiAgICAvLyAgIH0sXG4gICAgLy8gICB7XG4gICAgLy8gICAgIG1vZGVsbzogMSxcbiAgICAvLyAgICAgdGFsbGE6IDIsXG4gICAgLy8gICAgIGNvbG9yOiAxLFxuICAgIC8vICAgICBwcmVjaW9Vbml0YXJpbzogMTAwLjUsXG4gICAgLy8gICAgIGNhbnRpZGFkOiAxXG4gICAgLy8gICB9XG4gICAgLy8gXTtcblxuICAgIGxldCBwZWRpZG9zSXRlbXMgPSAkKCcudXNlci1wZWRpZG8taXRlbScpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGVkaWRvc0l0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgcGVkaWRvSXRlbSA9ICQocGVkaWRvc0l0ZW1zW2ldKS5kYXRhKCk7XG4gICAgICBkYXRhUGVkaWRvLmNhbnRpZGFkUGFyZXMgKz0gcGFyc2VJbnQocGVkaWRvSXRlbS5wZWRpZG9DYW50aWRhZFBhcmVzKTtcbiAgICAgIGRhdGFQZWRpZG8udG90YWwgKz0gcGFyc2VGbG9hdChwZWRpZG9JdGVtLnBlZGlkb1ByZWNpb1VuaXRhcmlvKSAqIHBhcnNlSW50KHBlZGlkb0l0ZW0ucGVkaWRvQ2FudGlkYWRQYXJlcyk7XG5cblxuICAgICAgZGF0YVBlZGlkby5kZXRhaWwucHVzaCh7XG4gICAgICAgIG1vZGVsbzogcGVkaWRvSXRlbS5wZWRpZG9Nb2RlbG9JZCxcbiAgICAgICAgdGFsbGE6IHBlZGlkb0l0ZW0ucGVkaWRvVGFsbGFJZCAsXG4gICAgICAgIGNvbG9yOiBwZWRpZG9JdGVtLnBlZGlkb0NvbG9ySWQgLFxuICAgICAgICBwcmVjaW9Vbml0YXJpbzogcGVkaWRvSXRlbS5wZWRpZG9QcmVjaW9Vbml0YXJpbyAsXG4gICAgICAgIGNhbnRpZGFkOiBwZWRpZG9JdGVtLnBlZGlkb0NhbnRpZGFkUGFyZXMsXG4gICAgICAgIHN1YnRvdGFsOiBwZWRpZG9JdGVtLnBlZGlkb1N1YnRvdGFsXG4gICAgICB9KTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKHBlZGlkb0l0ZW0pO1xuICAgIH1cbiAgICAvLyBjb25zb2xlLmxvZygndG90YWwgJDonLCBkYXRhUGVkaWRvLnRvdGFsKTtcbiAgICAvLyBjb25zb2xlLmxvZygndG90YWwgbjonLCBkYXRhUGVkaWRvLmNhbnRpZGFkUGFyZXMpO1xuXG5cbiAgICAvLyBjb25zb2xlLmxvZygnZGF0YVBlZGlkbzonLCBkYXRhUGVkaWRvKTtcbiAgICBjb25zb2xlLmxvZygnZGF0YVBlZGlkbyB0byBqc29uOicsIEpTT04uc3RyaW5naWZ5KGRhdGFQZWRpZG8pKTtcbiAgICAvKiogXG4gICAgICogZWxlbWVudHMgdG8gYWRkIGluIHNlcnZlciBzaWRlIFxuICAgICAqICAtIHBlZGlkb0ZlY2hhXG4gICAgICogIC0gcGVkaWRvRXN0YXR1c1xuICAgICAqICAtIHBlZGlkb0VtYmFqYWRvcklkXG4gICAgICogIC0gY29uZmlybWFkb1xuICAgICAqL1xuICAgICQoJyN1c2VyX3BsYWNlX29yZGVyX2VtYWlsJykuZmluZCgnaScpLnJlbW92ZUNsYXNzKCdmYS1wYXBlci1wbGFuZS1vJykuYWRkQ2xhc3MoJ2ZhLXJlZnJlc2ggZmEtc3BpbicpO1xuICAgIC8vIGFqYXggY2FsbCB0byBnZXQgZW1haWxcbiAgICBsZXQgcmVxdWVzdCA9ICQuYWpheChcbiAgICAgIHtcbiAgICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICAgIHVybDogJ2FqYXgvZW1haWxfYWpheF9zZXJ2ZXIucGhwJywgLy8gZm9yIHRoZSBzZXJ2ZXJcbiAgICAgICAgLy8gdXJsOiAnYWpheC9lbWFpbF9hamF4LnBocCcsIC8vIGZvciBsb2NhbFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgYWN0aW9uOiAncGxhY2VPcmRlcicsXG4gICAgICAgICAgZGF0YVBlZGlkbzogSlNPTi5zdHJpbmdpZnkoZGF0YVBlZGlkbylcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gICAgXG4gICAgcmVxdWVzdC5kb25lKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgIG1lc3NhZ2UgPSAnc3VjY2Vzcyc7XG4gICAgICBsZXQgcmVzcCA9ICQucGFyc2VKU09OKGRhdGEpOyAvLyByZXNwb25zZVxuICAgICAgY29uc29sZS5sb2coJyMjIyMjIyByZXNwICcsIHJlc3ApO1xuXG4gICAgICBpZighcmVzcC5lcnJvcil7XG4gICAgICAgIHN3YWwoe1xuICAgICAgICAgIHRpdGxlOiAnwqFMaXN0byEnLFxuICAgICAgICAgIHRleHQ6IHJlc3Auc3VjY2Vzc01zZyxcbiAgICAgICAgICBpY29uOiBcInN1Y2Nlc3NcIlxuICAgICAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgICAgICB3aW5kb3cub3BlbihgP2NvbnRyb2xsZXI9dXNlciZhY3Rpb249Y29tcHJvYmFudGUmbnVtT3JkZW49JHtyZXNwLm51bU9yZGVufSZub21icmU9JHtyZXNwLm5vbWJyZX0mZW1haWw9JHtyZXNwLmVtYWlsfSZudW1PcmRlbj0ke3Jlc3AubnVtT3JkZW59JmNhbnRpZGFkUGFyZXM9JHtyZXNwLmNhbnRpZGFkUGFyZXN9JnRvdGFsPSR7cmVzcC50b3RhbH0mZW1iUG9pbnRlcj0ke3Jlc3AuZW1iUG9pbnRlcn0mZGV0YWlsPSR7SlNPTi5zdHJpbmdpZnkocmVzcC5kZXRhaWwpfWBcbiAgICAgICAgICAsICdfc2VsZicpO1xuICAgICAgICB9KTtcblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3dhbCh7XG4gICAgICAgICAgdGl0bGU6ICdVcHMnLFxuICAgICAgICAgIHRleHQ6IHJlc3AuZXJyb3JNc2csXG4gICAgICAgICAgaWNvbjogJ2Vycm9yJ1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgIH0pO1xuICBcbiAgICByZXF1ZXN0LmZhaWwoZnVuY3Rpb24oKSB7XG4gICAgICBtZXNzYWdlID0gJ2ZhaWwnO1xuICAgICAgLy8gd2luZG93Lm9wZW4oJz9jb250cm9sbGVyPXBhZ2VzJmFjdGlvbj1lcnJvcicsICdfc2VsZicpO1xuICAgIH0pO1xuICBcbiAgICByZXF1ZXN0LmFsd2F5cyhmdW5jdGlvbigpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdhamF4IGVtYWlsIHN0YXR1czogJywgbWVzc2FnZSk7XG4gICAgICAkKCcjdXNlcl9wbGFjZV9vcmRlcl9lbWFpbCcpLmZpbmQoJ2knKS5yZW1vdmVDbGFzcygnZmEtcmVmcmVzaCBmYS1zcGluJykuYWRkQ2xhc3MoJ2ZhLXBhcGVyLXBsYW5lLW8nKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdlbmQgb2YgZW1haWwgYWpheCBjYWxsJyk7XG4gICAgfSk7XG4gIH1cblxuXG59KTtcblxuXG4kKCcjdXNlcl9jb21wcm9iYW50ZV9idG4nKS5jbGljayhmdW5jdGlvbigpIHtcbiAgLy8gbGV0IG5ld1dpbiA9ICBuZXcgd2luZG9lKCQoJyN1c2VyX2NvbXByb2JhbnRlJykpO1xuICB3aW5kb3cucHJpbnQoKTtcbiAgLy8gdmFyIGRpdlRvUHJpbnQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJfY29tcHJvYmFudGUnKTtcblxuICAvLyB2YXIgbmV3V2luID0gd2luZG93Lm9wZW4oJycsJ1ByaW50LVdpbmRvdycpO1xuXG4gIC8vIG5ld1dpbi5kb2N1bWVudC5vcGVuKCk7XG5cbiAgLy8gbmV3V2luLmRvY3VtZW50LndyaXRlKCc8aHRtbD48Ym9keSBvbmxvYWQ9XCJ3aW5kb3cucHJpbnQoKVwiPicrZGl2VG9QcmludC5pbm5lckhUTUwrJzwvYm9keT48L2h0bWw+Jyk7XG5cbiAgLy8gbmV3V2luLmRvY3VtZW50LmNsb3NlKCk7XG5cbiAgLy8gc2V0VGltZW91dChmdW5jdGlvbigpe25ld1dpbi5jbG9zZSgpO30sMTApO1xufSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi92aWV3cy9hc3NldHMvanMvYWpheF9zY3JpcHRzL3VzZXJfc2VuZEVtYWlsLmpzXG4vLyBtb2R1bGUgaWQgPSAxOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9